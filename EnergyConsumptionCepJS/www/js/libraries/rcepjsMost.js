var rcepjsMost=function(t){var n={};function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}return e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{enumerable:!0,get:r})},e.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},e.t=function(t,n){if(1&n&&(t=e(t)),8&n)return t;if(4&n&&"object"==typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(e.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&n&&"string"!=typeof t)for(var i in t)e.d(r,i,function(n){return t[n]}.bind(null,i));return r},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,n){return Object.prototype.hasOwnProperty.call(t,n)},e.p="",e(e.s=24)}([function(t,n,e){"use strict";function r(t,n){for(var e=n.length,r=new Array(e+1),i=0;i<e;++i)r[i]=n[i];return r[e]=t,r}function i(t,n){for(var e=n.length,r=new Array(e),i=0;i<e;++i)r[i]=t(n[i]);return r}function o(t,n,e){for(var r=n,i=0,o=e.length;i<o;++i)r=t(r,e[i],i);return r}function u(t,n){if(t<0)throw new TypeError("i must be >= 0");var e=n.length;return 0===e||t>=e?n:1===e?[]:function(t,n,e){var r=new Array(e),i=void 0;for(i=0;i<t;++i)r[i]=n[i];for(i=t;i<e;++i)r[i]=n[i+1];return r}(t,n,e-1)}function s(t,n){for(var e,r=n.length,i=new Array(r),o=0,u=0;u<r;++u)t(e=n[u])||(i[o]=e,++o);return i.length=o,i}function c(t,n){for(var e=0,r=n.length;e<r;++e)if(t===n[e])return e;return-1}e.d(n,"a",function(){return r}),e.d(n,"h",function(){return i}),e.d(n,"i",function(){return o}),e.d(n,"j",function(){return u}),e.d(n,"k",function(){return s}),e.d(n,"f",function(){return c}),e.d(n,"g",function(){return a}),e.d(n,"c",function(){return h}),e.d(n,"b",function(){return f}),e.d(n,"d",function(){return p}),e.d(n,"e",function(){return l});
/** @license MIT License (c) copyright 2010-2016 original author or authors */
var a=function(t){return t},h=function(t,n){return function(e){return t(n(e))}},f=function(t,n){return t(n)};function p(t){return function n(e,r){switch(arguments.length){case 0:return n;case 1:return function(n){return t(e,n)};default:return t(e,r)}}}function l(t){return function n(e,r,i){switch(arguments.length){case 0:return n;case 1:return p(function(n,r){return t(e,n,r)});case 2:return function(n){return t(e,r,n)};default:return t(e,r,i)}}}},function(t,n,e){"use strict";function r(t,n){for(var e=n.length,r=new Array(e+1),i=0;i<e;++i)r[i]=n[i];return r[e]=t,r}function i(t,n){for(var e=n.length,r=new Array(e),i=0;i<e;++i)r[i]=t(n[i]);return r}function o(t,n,e){for(var r=n,i=0,o=e.length;i<o;++i)r=t(r,e[i],i);return r}function u(t,n){if(t<0)throw new TypeError("i must be >= 0");var e=n.length;return 0===e||t>=e?n:1===e?[]:function(t,n,e){var r,i=new Array(e);for(r=0;r<t;++r)i[r]=n[r];for(r=t;r<e;++r)i[r]=n[r+1];return i}(t,n,e-1)}function s(t,n){for(var e=n.length,r=new Array(e),i=0,o=void 0,u=0;u<e;++u)t(o=n[u])||(r[i]=o,++i);return r.length=i,r}function c(t,n){for(var e=0,r=n.length;e<r;++e)if(t===n[e])return e;return-1}e.d(n,"a",function(){return r}),e.d(n,"h",function(){return i}),e.d(n,"i",function(){return o}),e.d(n,"j",function(){return u}),e.d(n,"k",function(){return s}),e.d(n,"f",function(){return c}),e.d(n,"g",function(){return a}),e.d(n,"c",function(){return h}),e.d(n,"b",function(){return f}),e.d(n,"d",function(){return p}),e.d(n,"e",function(){return l});
/** @license MIT License (c) copyright 2010-2016 original author or authors */
var a=function(t){return t},h=function(t,n){return function(e){return t(n(e))}},f=function(t,n){return t(n)};function p(t){return function n(e,r){switch(arguments.length){case 0:return n;case 1:return function(n){return t(e,n)};default:return t(e,r)}}}function l(t){return function n(e,r,i){switch(arguments.length){case 0:return n;case 1:return p(function(n,r){return t(e,n,r)});case 2:return function(n){return t(e,r,n)};default:return t(e,r,i)}}}},function(t,n,e){"use strict";e.r(n),function(t){e.d(n,"newScheduler",function(){return I}),e.d(n,"newDefaultScheduler",function(){return L}),e.d(n,"newDefaultTimer",function(){return P}),e.d(n,"newClockTimer",function(){return D}),e.d(n,"newTimeline",function(){return C}),e.d(n,"RelativeClock",function(){return b}),e.d(n,"HRTimeClock",function(){return w}),e.d(n,"clockRelativeTo",function(){return M}),e.d(n,"newPerformanceClock",function(){return k}),e.d(n,"newDateClock",function(){return _}),e.d(n,"newHRTimeClock",function(){return x}),e.d(n,"newPlatformClock",function(){return T}),e.d(n,"currentTime",function(){return j}),e.d(n,"asap",function(){return O}),e.d(n,"delay",function(){return E}),e.d(n,"periodic",function(){return N}),e.d(n,"cancelTask",function(){return A}),e.d(n,"cancelAllTasks",function(){return S}),e.d(n,"schedulerRelativeTo",function(){return R});var r=e(0),i=(function(){function t(t){this.value=t}function n(n){var e,r;function i(e,r){try{var u=n[e](r),s=u.value;s instanceof t?Promise.resolve(s.value).then(function(t){i("next",t)},function(t){i("throw",t)}):o(u.done?"return":"normal",u.value)}catch(t){o("throw",t)}}function o(t,n){switch(t){case"return":e.resolve({value:n,done:!0});break;case"throw":e.reject(n);break;default:e.resolve({value:n,done:!1})}(e=e.next)?i(e.key,e.arg):r=null}this._invoke=function(t,n){return new Promise(function(o,u){var s={key:t,arg:n,resolve:o,reject:u,next:null};r?r=r.next=s:(e=r=s,i(t,n))})},"function"!=typeof n.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this}),n.prototype.next=function(t){return this._invoke("next",t)},n.prototype.throw=function(t){return this._invoke("throw",t)},n.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}),o=function(){function t(n,e,r,o,u){i(this,t),this.time=n,this.localOffset=e,this.period=r,this.task=o,this.scheduler=u,this.active=!0}return t.prototype.run=function(){return this.task.run(this.time-this.localOffset)},t.prototype.error=function(t){return this.task.error(this.time-this.localOffset,t)},t.prototype.dispose=function(){return this.active=!1,this.scheduler.cancel(this),this.task.dispose()},t}(),u=function(){function t(n,e){i(this,t),this.origin=n,this.scheduler=e}return t.prototype.currentTime=function(){return this.scheduler.currentTime()-this.origin},t.prototype.scheduleTask=function(t,n,e,r){return this.scheduler.scheduleTask(t+this.origin,n,e,r)},t.prototype.relative=function(n){return new t(n+this.origin,this.scheduler)},t.prototype.cancel=function(t){return this.scheduler.cancel(t)},t.prototype.cancelAll=function(t){return this.scheduler.cancelAll(t)},t}(),s=function(t){return Promise.resolve(t).then(c)};function c(t){try{return t.run()}catch(n){return t.error(n)}}
/** @license MIT License (c) copyright 2010-2017 original author or authors */var a=function(){function t(n,e){var r=this;i(this,t),this.timer=n,this.timeline=e,this._timer=null,this._nextArrival=1/0,this._runReadyTasksBound=function(){return r._runReadyTasks(r.currentTime())}}return t.prototype.currentTime=function(){return this.timer.now()},t.prototype.scheduleTask=function(t,n,e,r){var i=this.currentTime()+Math.max(0,n),u=new o(i,t,e,r,this);return this.timeline.add(u),this._scheduleNextRun(),u},t.prototype.relative=function(t){return new u(t,this)},t.prototype.cancel=function(t){t.active=!1,this.timeline.remove(t)&&this._reschedule()},t.prototype.cancelAll=function(t){this.timeline.removeAll(t),this._reschedule()},t.prototype._reschedule=function(){this.timeline.isEmpty()?this._unschedule():this._scheduleNextRun(this.currentTime())},t.prototype._unschedule=function(){this.timer.clearTimer(this._timer),this._timer=null},t.prototype._scheduleNextRun=function(){if(!this.timeline.isEmpty()){var t=this.timeline.nextArrival();null===this._timer?this._scheduleNextArrival(t):t<this._nextArrival&&(this._unschedule(),this._scheduleNextArrival(t))}},t.prototype._scheduleNextArrival=function(t){this._nextArrival=t;var n=Math.max(0,t-this.currentTime());this._timer=this.timer.setTimer(this._runReadyTasksBound,n)},t.prototype._runReadyTasks=function(){this._timer=null,this.timeline.runTasks(this.currentTime(),c),this._scheduleNextRun()},t}(),h=function(){function t(){i(this,t),this.tasks=[]}return t.prototype.nextArrival=function(){return this.isEmpty()?1/0:this.tasks[0].time},t.prototype.isEmpty=function(){return 0===this.tasks.length},t.prototype.add=function(t){p(t,this.tasks)},t.prototype.remove=function(t){var n=v(l(t),this.tasks);if(n>=0&&n<this.tasks.length){var e=this.tasks[n].events,i=Object(r.f)(t,e);if(i>=0)return e.splice(i,1),0===e.length&&this.tasks.splice(n,1),!0}return!1},t.prototype.removeAll=function(t){for(var n=0;n<this.tasks.length;++n)d(t,this.tasks[n])},t.prototype.runTasks=function(t,n){for(var e=this.tasks,r=e.length,i=0;i<r&&e[i].time<=t;)++i;this.tasks=e.slice(i);for(var o=0;o<i;++o)this.tasks=f(n,e[o].events,this.tasks)},t}();
/** @license MIT License (c) copyright 2010-2017 original author or authors */function f(t,n,e){for(var r=0;r<n.length;++r){var i=n[r];i.active&&(t(i),i.period>=0&&i.active&&(i.time=i.time+i.period,p(i,e)))}return e}function p(t,n){var e=n.length,r=l(t);if(0!==e){var i=v(r,n);i>=e?n.push(y(r,[t])):function(t,n,e,r){var i=n[r];e===i.time?function(t,n){0===n.length||t.time>=n[n.length-1].time?n.push(t):function(t,n){for(var e=0;e<n.length;e++)if(t.time<n[e].time){n.splice(e,0,t);break}}(t,n)}(t,i.events):n.splice(r,0,y(e,[t]))}(t,n,r,i)}else n.push(y(r,[t]))}function l(t){return Math.floor(t.time)}function d(t,n){n.events=Object(r.k)(t,n.events)}function v(t,n){for(var e=0,r=n.length,i=void 0,o=void 0;e<r;){if(t===(o=n[i=Math.floor((e+r)/2)]).time)return i;t<o.time?r=i:e=i+1}return r}var y=function(t,n){return{time:t,events:n}},m=function(){function t(n){i(this,t),this._clock=n}return t.prototype.now=function(){return this._clock.now()},t.prototype.setTimer=function(t,n){return n<=0?function(t){var n=new g(t);return s(n),n}
/** @license MIT License (c) copyright 2010-2017 original author or authors */(t):setTimeout(t,n)},t.prototype.clearTimer=function(t){return t instanceof g?t.cancel():clearTimeout(t)},t}(),g=function(){function t(n){i(this,t),this.f=n,this.active=!0}return t.prototype.run=function(){return this.active&&this.f()},t.prototype.error=function(t){throw t},t.prototype.cancel=function(){this.active=!1},t}();
/** @license MIT License (c) copyright 2010-2017 original author or authors */var b=function(){function t(n,e){i(this,t),this.origin=e,this.clock=n}return t.prototype.now=function(){return this.clock.now()-this.origin},t}(),w=function(){function t(n,e){i(this,t),this.origin=e,this.hrtime=n}return t.prototype.now=function(){var t=this.hrtime(this.origin);return(1e9*t[0]+t[1])/1e6},t}(),M=function(t){return new b(t,t.now())},k=function(){return M(performance)},_=function(){return M(Date)},x=function(){return new w(t.hrtime,t.hrtime())},T=function(){return"undefined"!=typeof performance&&"function"==typeof performance.now?k():void 0!==t&&"function"==typeof t.hrtime?x():_()},j=function(t){return t.currentTime()},O=Object(r.d)(function(t,n){return n.scheduleTask(0,0,-1,t)}),E=Object(r.e)(function(t,n,e){return e.scheduleTask(0,t,-1,n)}),N=Object(r.e)(function(t,n,e){return e.scheduleTask(0,0,t,n)}),A=function(t){return t.dispose()},S=Object(r.d)(function(t,n){return console.warn("DEPRECATED cancelAllTasks to be removed in 2.0.0"),n.cancelAll(t)}),R=Object(r.d)(function(t,n){return new u(t,n)}),I=Object(r.d)(function(t,n){return new a(t,n)}),L=function(){return new a(P(),new h)},P=function(){return new m(T())},D=function(t){return new m(t)},C=function(){return new h}}.call(this,e(12))},function(t,n,e){"use strict";(function(t){e.d(n,"c",function(){return w}),e.d(n,"a",function(){return M}),e.d(n,"d",function(){return k}),e.d(n,"e",function(){return _}),e.d(n,"b",function(){return x}),e.d(n,"f",function(){return T});var r=e(1),i=function(t,n,e,r,i){this.time=t,this.localOffset=n,this.period=e,this.task=r,this.scheduler=i,this.active=!0};
/** @license MIT License (c) copyright 2010-2017 original author or authors */i.prototype.run=function(){return this.task.run(this.time-this.localOffset)},i.prototype.error=function(t){return this.task.error(this.time-this.localOffset,t)},i.prototype.dispose=function(){return this.scheduler.cancel(this),this.task.dispose()};var o=function(t,n){this.origin=t,this.scheduler=n};o.prototype.currentTime=function(){return this.scheduler.currentTime()-this.origin},o.prototype.scheduleTask=function(t,n,e,r){return this.scheduler.scheduleTask(t+this.origin,n,e,r)},o.prototype.relative=function(t){return new o(t+this.origin,this.scheduler)},o.prototype.cancel=function(t){return this.scheduler.cancel(t)},o.prototype.cancelAll=function(t){return this.scheduler.cancelAll(t)};
/** @license MIT License (c) copyright 2010-2017 original author or authors */
var u=function(t){return Promise.resolve(t).then(s)};function s(t){try{return t.run()}catch(n){return t.error(n)}}
/** @license MIT License (c) copyright 2010-2017 original author or authors */var c=function(t,n){var e=this;this.timer=t,this.timeline=n,this._timer=null,this._nextArrival=1/0,this._runReadyTasksBound=function(){return e._runReadyTasks(e.currentTime())}};c.prototype.currentTime=function(){return this.timer.now()},c.prototype.scheduleTask=function(t,n,e,r){var o=this.currentTime()+Math.max(0,n),u=new i(o,t,e,r,this);return this.timeline.add(u),this._scheduleNextRun(),u},c.prototype.relative=function(t){return new o(t,this)},c.prototype.cancel=function(t){t.active=!1,this.timeline.remove(t)&&this._reschedule()},c.prototype.cancelAll=function(t){this.timeline.removeAll(t),this._reschedule()},c.prototype._reschedule=function(){this.timeline.isEmpty()?this._unschedule():this._scheduleNextRun(this.currentTime())},c.prototype._unschedule=function(){this.timer.clearTimer(this._timer),this._timer=null},c.prototype._scheduleNextRun=function(){if(!this.timeline.isEmpty()){var t=this.timeline.nextArrival();null===this._timer?this._scheduleNextArrival(t):t<this._nextArrival&&(this._unschedule(),this._scheduleNextArrival(t))}},c.prototype._scheduleNextArrival=function(t){this._nextArrival=t;var n=Math.max(0,t-this.currentTime());this._timer=this.timer.setTimer(this._runReadyTasksBound,n)},c.prototype._runReadyTasks=function(){this._timer=null,this.timeline.runTasks(this.currentTime(),s),this._scheduleNextRun()};
/** @license MIT License (c) copyright 2010-2017 original author or authors */
var a=function(){this.tasks=[]};function h(t,n,e){for(var r=0;r<n.length;++r){var i=n[r];i.active&&(t(i),i.period>=0&&i.active&&(i.time=i.time+i.period,f(i,e)))}return e}function f(t,n){var e=n.length,r=p(t);if(0!==e){var i=d(r,n);i>=e?n.push(v(r,[t])):function(t,n,e,r){var i=n[r];e===i.time?function(t,n){0===n.length||t.time>=n[n.length-1].time?n.push(t):function(t,n){for(var e=0;e<n.length;e++)if(t.time<n[e].time){n.splice(e,0,t);break}}(t,n)}(t,i.events):n.splice(r,0,v(e,[t]))}(t,n,r,i)}else n.push(v(r,[t]))}function p(t){return Math.floor(t.time)}function l(t,n){n.events=Object(r.k)(t,n.events)}function d(t,n){for(var e,r,i=0,o=n.length;i<o;){if(t===(r=n[e=Math.floor((i+o)/2)]).time)return e;t<r.time?o=e:i=e+1}return o}a.prototype.nextArrival=function(){return this.isEmpty()?1/0:this.tasks[0].time},a.prototype.isEmpty=function(){return 0===this.tasks.length},a.prototype.add=function(t){f(t,this.tasks)},a.prototype.remove=function(t){var n=d(p(t),this.tasks);if(n>=0&&n<this.tasks.length){var e=Object(r.f)(t,this.tasks[n].events);if(e>=0)return this.tasks[n].events.splice(e,1),!0}return!1},a.prototype.removeAll=function(t){for(var n=0;n<this.tasks.length;++n)l(t,this.tasks[n])},a.prototype.runTasks=function(t,n){for(var e=this.tasks,r=e.length,i=0;i<r&&e[i].time<=t;)++i;this.tasks=e.slice(i);for(var o=0;o<i;++o)this.tasks=h(n,e[o].events,this.tasks)};var v=function(t,n){return{time:t,events:n}},y=function(t){this._clock=t};
/** @license MIT License (c) copyright 2010-2017 original author or authors */y.prototype.now=function(){return this._clock.now()},y.prototype.setTimer=function(t,n){return n<=0?function(t){var n=new m(t);return u(n),n}
/** @license MIT License (c) copyright 2010-2017 original author or authors */(t):setTimeout(t,n)},y.prototype.clearTimer=function(t){return t instanceof m?t.cancel():clearTimeout(t)};var m=function(t){this.f=t,this.active=!0};m.prototype.run=function(){return this.active&&this.f()},m.prototype.error=function(t){throw t},m.prototype.cancel=function(){this.active=!1};var g=function(t,n){this.origin=n,this.clock=t};g.prototype.now=function(){return this.clock.now()-this.origin};var b=function(t,n){this.origin=n,this.hrtime=t};b.prototype.now=function(){var t=this.hrtime(this.origin);return(1e9*t[0]+t[1])/1e6};var w=function(t){return t.currentTime()},M=Object(r.d)(function(t,n){return n.scheduleTask(0,0,-1,t)}),k=Object(r.e)(function(t,n,e){return e.scheduleTask(0,t,-1,n)}),_=Object(r.e)(function(t,n,e){return e.scheduleTask(0,0,t,n)}),x=Object(r.d)(function(t,n){return n.cancelAll(t)}),T=Object(r.d)(function(t,n){return new o(t,n)});Object(r.d)(function(t,n){return new c(t,n)})}).call(this,e(12))},function(t,n,e){"use strict";e.r(n);var r=function(){return!1},i=function(){return!0},o={"@@functional/placeholder":!0};function u(t){return null!=t&&"object"==typeof t&&!0===t["@@functional/placeholder"]}function s(t){return function n(e){return 0===arguments.length||u(e)?n:t.apply(this,arguments)}}function c(t){return function n(e,r){switch(arguments.length){case 0:return n;case 1:return u(e)?n:s(function(n){return t(e,n)});default:return u(e)&&u(r)?n:u(e)?s(function(n){return t(n,r)}):u(r)?s(function(n){return t(e,n)}):t(e,r)}}}var a=c(function(t,n){return Number(t)+Number(n)});function h(t,n){var e;n=n||[];var r=(t=t||[]).length,i=n.length,o=[];for(e=0;e<r;)o[o.length]=t[e],e+=1;for(e=0;e<i;)o[o.length]=n[e],e+=1;return o}function f(t,n){switch(t){case 0:return function(){return n.apply(this,arguments)};case 1:return function(t){return n.apply(this,arguments)};case 2:return function(t,e){return n.apply(this,arguments)};case 3:return function(t,e,r){return n.apply(this,arguments)};case 4:return function(t,e,r,i){return n.apply(this,arguments)};case 5:return function(t,e,r,i,o){return n.apply(this,arguments)};case 6:return function(t,e,r,i,o,u){return n.apply(this,arguments)};case 7:return function(t,e,r,i,o,u,s){return n.apply(this,arguments)};case 8:return function(t,e,r,i,o,u,s,c){return n.apply(this,arguments)};case 9:return function(t,e,r,i,o,u,s,c,a){return n.apply(this,arguments)};case 10:return function(t,e,r,i,o,u,s,c,a,h){return n.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function p(t,n,e){return function(){for(var r=[],i=0,o=t,s=0;s<n.length||i<arguments.length;){var c;s<n.length&&(!u(n[s])||i>=arguments.length)?c=n[s]:(c=arguments[i],i+=1),r[s]=c,u(c)||(o-=1),s+=1}return o<=0?e.apply(this,r):f(o,p(t,r,e))}}var l=c(function(t,n){return 1===t?s(n):f(t,p(t,[],n))}),d=s(function(t){return l(t.length,function(){var n=0,e=arguments[0],r=arguments[arguments.length-1],i=Array.prototype.slice.call(arguments,0);return i[0]=function(){var t=e.apply(this,h(arguments,[n,r]));return n+=1,t},t.apply(this,i)})});function v(t){return function n(e,r,i){switch(arguments.length){case 0:return n;case 1:return u(e)?n:c(function(n,r){return t(e,n,r)});case 2:return u(e)&&u(r)?n:u(e)?c(function(n,e){return t(n,r,e)}):u(r)?c(function(n,r){return t(e,n,r)}):s(function(n){return t(e,r,n)});default:return u(e)&&u(r)&&u(i)?n:u(e)&&u(r)?c(function(n,e){return t(n,e,i)}):u(e)&&u(i)?c(function(n,e){return t(n,r,e)}):u(r)&&u(i)?c(function(n,r){return t(e,n,r)}):u(e)?s(function(n){return t(n,r,i)}):u(r)?s(function(n){return t(e,n,i)}):u(i)?s(function(n){return t(e,r,n)}):t(e,r,i)}}}var y=v(function(t,n,e){if(t>=e.length||t<-e.length)return e;var r=(t<0?e.length:0)+t,i=h(e);return i[r]=n(e[r]),i}),m=Array.isArray||function(t){return null!=t&&t.length>=0&&"[object Array]"===Object.prototype.toString.call(t)};function g(t){return null!=t&&"function"==typeof t["@@transducer/step"]}function b(t,n,e){return function(){if(0===arguments.length)return e();var r=Array.prototype.slice.call(arguments,0),i=r.pop();if(!m(i)){for(var o=0;o<t.length;){if("function"==typeof i[t[o]])return i[t[o]].apply(i,r);o+=1}if(g(i))return n.apply(null,r)(i)}return e.apply(this,arguments)}}function w(t){return t&&t["@@transducer/reduced"]?t:{"@@transducer/value":t,"@@transducer/reduced":!0}}var M={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}},k=function(){function t(t,n){this.xf=n,this.f=t,this.all=!0}return t.prototype["@@transducer/init"]=M.init,t.prototype["@@transducer/result"]=function(t){return this.all&&(t=this.xf["@@transducer/step"](t,!0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)||(this.all=!1,t=w(this.xf["@@transducer/step"](t,!1))),t},t}(),_=c(b(["all"],c(function(t,n){return new k(t,n)}),function(t,n){for(var e=0;e<n.length;){if(!t(n[e]))return!1;e+=1}return!0})),x=c(function(t,n){return n>t?n:t});function T(t,n){for(var e=0,r=n.length,i=Array(r);e<r;)i[e]=t(n[e]),e+=1;return i}function j(t){return"[object String]"===Object.prototype.toString.call(t)}var O=s(function(t){return!!m(t)||!!t&&("object"==typeof t&&(!j(t)&&(1===t.nodeType?!!t.length:0===t.length||t.length>0&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))}),E=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,n){return this.f(t,n)},t}();function N(t){return new E(t)}var A=c(function(t,n){return f(t.length,function(){return t.apply(n,arguments)})});function S(t,n,e){for(var r=e.next();!r.done;){if((n=t["@@transducer/step"](n,r.value))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r=e.next()}return t["@@transducer/result"](n)}function R(t,n,e,r){return t["@@transducer/result"](e[r](A(t["@@transducer/step"],t),n))}var I="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function L(t,n,e){if("function"==typeof t&&(t=N(t)),O(e))return function(t,n,e){for(var r=0,i=e.length;r<i;){if((n=t["@@transducer/step"](n,e[r]))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r+=1}return t["@@transducer/result"](n)}(t,n,e);if("function"==typeof e["fantasy-land/reduce"])return R(t,n,e,"fantasy-land/reduce");if(null!=e[I])return S(t,n,e[I]());if("function"==typeof e.next)return S(t,n,e);if("function"==typeof e.reduce)return R(t,n,e,"reduce");throw new TypeError("reduce: list must be array or iterable")}var P=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=M.init,t.prototype["@@transducer/result"]=M.result,t.prototype["@@transducer/step"]=function(t,n){return this.xf["@@transducer/step"](t,this.f(n))},t}(),D=c(function(t,n){return new P(t,n)});function C(t,n){return Object.prototype.hasOwnProperty.call(n,t)}var q=Object.prototype.toString,B=function(){return"[object Arguments]"===q.call(arguments)?function(t){return"[object Arguments]"===q.call(t)}:function(t){return C("callee",t)}}(),W=!{toString:null}.propertyIsEnumerable("toString"),V=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],F=function(){return arguments.propertyIsEnumerable("length")}(),z=function(t,n){for(var e=0;e<t.length;){if(t[e]===n)return!0;e+=1}return!1},U="function"!=typeof Object.keys||F?s(function(t){if(Object(t)!==t)return[];var n,e,r=[],i=F&&B(t);for(n in t)!C(n,t)||i&&"length"===n||(r[r.length]=n);if(W)for(e=V.length-1;e>=0;)C(n=V[e],t)&&!z(r,n)&&(r[r.length]=n),e-=1;return r}):s(function(t){return Object(t)!==t?[]:Object.keys(t)}),G=c(b(["fantasy-land/map","map"],D,function(t,n){switch(Object.prototype.toString.call(n)){case"[object Function]":return l(n.length,function(){return t.call(this,n.apply(this,arguments))});case"[object Object]":return L(function(e,r){return e[r]=t(n[r]),e},{},U(n));default:return T(t,n)}})),Y=c(function(t,n){for(var e=n,r=0;r<t.length;){if(null==e)return;e=e[t[r]],r+=1}return e}),$=c(function(t,n){return Y([t],n)}),H=c(function(t,n){return G($(t),n)}),K=v(L),X=s(function(t){return l(K(x,0,H("length",t)),function(){for(var n=0,e=t.length;n<e;){if(!t[n].apply(this,arguments))return!1;n+=1}return!0})}),J=s(function(t){return function(){return t}}),Q=c(function(t,n){return t&&n}),Z=function(){function t(t,n){this.xf=n,this.f=t,this.any=!1}return t.prototype["@@transducer/init"]=M.init,t.prototype["@@transducer/result"]=function(t){return this.any||(t=this.xf["@@transducer/step"](t,!1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.any=!0,t=w(this.xf["@@transducer/step"](t,!0))),t},t}(),tt=c(b(["any"],c(function(t,n){return new Z(t,n)}),function(t,n){for(var e=0;e<n.length;){if(t(n[e]))return!0;e+=1}return!1})),nt=s(function(t){return l(K(x,0,H("length",t)),function(){for(var n=0,e=t.length;n<e;){if(t[n].apply(this,arguments))return!0;n+=1}return!1})}),et=c(function(t,n){return"function"==typeof n["fantasy-land/ap"]?n["fantasy-land/ap"](t):"function"==typeof t.ap?t.ap(n):"function"==typeof t?function(e){return t(e)(n(e))}:L(function(t,e){return h(t,G(e,n))},[],t)});function rt(t,n){for(var e=0,r=n.length-(t-1),i=new Array(r>=0?r:0);e<r;)i[e]=Array.prototype.slice.call(n,e,e+t),e+=1;return i}var it=function(){function t(t,n){this.xf=n,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=M.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.store(n),this.full?this.xf["@@transducer/step"](t,this.getCopy()):t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t.prototype.getCopy=function(){return h(Array.prototype.slice.call(this.acc,this.pos),Array.prototype.slice.call(this.acc,0,this.pos))},t}(),ot=c(b([],c(function(t,n){return new it(t,n)}),rt)),ut=c(function(t,n){return h(n,[t])}),st=c(function(t,n){return t.apply(this,n)}),ct=s(function(t){for(var n=U(t),e=n.length,r=[],i=0;i<e;)r[i]=t[n[i]],i+=1;return r});function at(t,n){return U(n).reduce(function(e,r){return e[r]=t(n[r]),e},{})}var ht=s(function t(n){return n=at(function(n){return"function"==typeof n?n:t(n)},n),l(K(x,0,H("length",ct(n))),function(){var t=arguments;return at(function(n){return st(n,t)},n)})}),ft=c(function(t,n){return n(t)}),pt=v(function(t,n,e){var r=t(n),i=t(e);return r<i?-1:r>i?1:0}),lt=v(function(t,n,e){var r={};for(var i in e)r[i]=e[i];return r[t]=n,r}),dt=Number.isInteger||function(t){return t<<0===t},vt=s(function(t){return null==t}),yt=v(function t(n,e,r){if(0===n.length)return e;var i=n[0];if(n.length>1){var o=!vt(r)&&C(i,r)?r[i]:dt(n[1])?[]:{};e=t(Array.prototype.slice.call(n,1),e,o)}if(dt(i)&&m(r)){var u=[].concat(r);return u[i]=e,u}return lt(i,e,r)}),mt=c(function(t,n){switch(t){case 0:return function(){return n.call(this)};case 1:return function(t){return n.call(this,t)};case 2:return function(t,e){return n.call(this,t,e)};case 3:return function(t,e,r){return n.call(this,t,e,r)};case 4:return function(t,e,r,i){return n.call(this,t,e,r,i)};case 5:return function(t,e,r,i,o){return n.call(this,t,e,r,i,o)};case 6:return function(t,e,r,i,o,u){return n.call(this,t,e,r,i,o,u)};case 7:return function(t,e,r,i,o,u,s){return n.call(this,t,e,r,i,o,u,s)};case 8:return function(t,e,r,i,o,u,s,c){return n.call(this,t,e,r,i,o,u,s,c)};case 9:return function(t,e,r,i,o,u,s,c,a){return n.call(this,t,e,r,i,o,u,s,c,a)};case 10:return function(t,e,r,i,o,u,s,c,a,h){return n.call(this,t,e,r,i,o,u,s,c,a,h)};default:throw new Error("First argument to nAry must be a non-negative integer no greater than ten")}}),gt=s(function(t){return mt(2,t)});function bt(t){return"[object Function]"===Object.prototype.toString.call(t)}var wt=c(function(t,n){var e=l(t,n);return l(t,function(){return L(et,G(e,arguments[0]),Array.prototype.slice.call(arguments,1))})}),Mt=s(function(t){return wt(t.length,t)}),kt=c(function(t,n){return bt(t)?function(){return t.apply(this,arguments)&&n.apply(this,arguments)}:Mt(Q)(t,n)}),_t=s(function(t){return l(t.length,t)}),xt=_t(function(t){return t.apply(this,Array.prototype.slice.call(arguments,1))});function Tt(t){return function n(e){for(var r,i,o,u=[],s=0,c=e.length;s<c;){if(O(e[s]))for(o=0,i=(r=t?n(e[s]):e[s]).length;o<i;)u[u.length]=r[o],o+=1;else u[u.length]=e[s];s+=1}return u}}var jt=function(t){var n=function(t){return{"@@transducer/init":M.init,"@@transducer/result":function(n){return t["@@transducer/result"](n)},"@@transducer/step":function(n,e){var r=t["@@transducer/step"](n,e);return r["@@transducer/reduced"]?{"@@transducer/value":r,"@@transducer/reduced":!0}:r}}}(t);return{"@@transducer/init":M.init,"@@transducer/result":function(t){return n["@@transducer/result"](t)},"@@transducer/step":function(t,e){return O(e)?L(n,t,e):L(n,t,[e])}}},Ot=c(b(["fantasy-land/chain","chain"],c(function(t,n){return G(t,jt(n))}),function(t,n){return"function"==typeof n?function(e){return t(n(e))(e)}:Tt(!1)(G(t,n))})),Et=v(function(t,n,e){if(t>n)throw new Error("min must not be greater than max in clamp(min, max, value)");return e<t?t:e>n?n:e});function Nt(t){return new RegExp(t.source,(t.global?"g":"")+(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.sticky?"y":"")+(t.unicode?"u":""))}var At=s(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)});function St(t,n,e,r){var i=function(i){for(var o=n.length,u=0;u<o;){if(t===n[u])return e[u];u+=1}for(var s in n[u+1]=t,e[u+1]=i,t)i[s]=r?St(t[s],n,e,!0):t[s];return i};switch(At(t)){case"Object":return i({});case"Array":return i([]);case"Date":return new Date(t.valueOf());case"RegExp":return Nt(t);default:return t}}var Rt=s(function(t){return null!=t&&"function"==typeof t.clone?t.clone():St(t,[],[],!0)}),It=s(function(t){return function(n,e){return t(n,e)?-1:t(e,n)?1:0}}),Lt=s(function(t){return!t}),Pt=Mt(Lt);function Dt(t,n){return function(){return n.call(this,t.apply(this,arguments))}}function Ct(t,n){return function(){var e=arguments.length;if(0===e)return n();var r=arguments[e-1];return m(r)||"function"!=typeof r[t]?n.apply(this,arguments):r[t].apply(r,Array.prototype.slice.call(arguments,0,e-1))}}var qt=v(Ct("slice",function(t,n,e){return Array.prototype.slice.call(e,t,n)})),Bt=s(Ct("tail",qt(1,1/0)));function Wt(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return f(arguments[0].length,K(Dt,arguments[0],Bt(arguments)))}var Vt=s(function(t){return j(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()});function Ft(){if(0===arguments.length)throw new Error("compose requires at least one argument");return Wt.apply(this,Vt(arguments))}function zt(){if(0===arguments.length)throw new Error("composeK requires at least one argument");var t=Array.prototype.slice.call(arguments),n=t.pop();return Ft(Ft.apply(this,G(Ot,t)),n)}function Ut(t,n){return function(){var e=this;return t.apply(e,arguments).then(function(t){return n.call(e,t)})}}function Gt(){if(0===arguments.length)throw new Error("pipeP requires at least one argument");return f(arguments[0].length,K(Ut,arguments[0],Bt(arguments)))}function Yt(){if(0===arguments.length)throw new Error("composeP requires at least one argument");return Gt.apply(this,Vt(arguments))}var $t=c(function(t,n){var e=t<0?n.length+t:t;return j(n)?n.charAt(e):n[e]}),Ht=$t(0);function Kt(t){return t}var Xt=s(Kt),Jt=c(function(t,n){if(n.length<=0)return Xt;var e=Ht(n),r=Bt(n);return f(e.length,function(){return L(function(n,e){return t.call(this,e,n)},e.apply(this,arguments),r)})}),Qt=c(function(t,n){return Jt.apply(this,[t,Vt(n)])});function Zt(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}function tn(t,n,e){for(var r=0,i=e.length;r<i;){if(t(n,e[r]))return!0;r+=1}return!1}var nn="function"==typeof Object.is?Object.is:function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n};function en(t,n,e,r){var i=Zt(t);function o(t,n){return rn(t,n,e.slice(),r.slice())}return!tn(function(t,n){return!tn(o,n,t)},Zt(n),i)}function rn(t,n,e,r){if(nn(t,n))return!0;var i,o,u=At(t);if(u!==At(n))return!1;if(null==t||null==n)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof n["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](n)&&"function"==typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof n.equals)return"function"==typeof t.equals&&t.equals(n)&&"function"==typeof n.equals&&n.equals(t);switch(u){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(i=t.constructor,null==(o=String(i).match(/^function (\w*)/))?"":o[1]))return t===n;break;case"Boolean":case"Number":case"String":if(typeof t!=typeof n||!nn(t.valueOf(),n.valueOf()))return!1;break;case"Date":if(!nn(t.valueOf(),n.valueOf()))return!1;break;case"Error":return t.name===n.name&&t.message===n.message;case"RegExp":if(t.source!==n.source||t.global!==n.global||t.ignoreCase!==n.ignoreCase||t.multiline!==n.multiline||t.sticky!==n.sticky||t.unicode!==n.unicode)return!1}for(var s=e.length-1;s>=0;){if(e[s]===t)return r[s]===n;s-=1}switch(u){case"Map":return t.size===n.size&&en(t.entries(),n.entries(),e.concat([t]),r.concat([n]));case"Set":return t.size===n.size&&en(t.values(),n.values(),e.concat([t]),r.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=U(t);if(c.length!==U(n).length)return!1;var a=e.concat([t]),h=r.concat([n]);for(s=c.length-1;s>=0;){var f=c[s];if(!C(f,n)||!rn(n[f],t[f],a,h))return!1;s-=1}return!0}var on=c(function(t,n){return rn(t,n,[],[])});function un(t,n,e){var r,i;if("function"==typeof t.indexOf)switch(typeof n){case"number":if(0===n){for(r=1/n;e<t.length;){if(0===(i=t[e])&&1/i===r)return e;e+=1}return-1}if(n!=n){for(;e<t.length;){if("number"==typeof(i=t[e])&&i!=i)return e;e+=1}return-1}return t.indexOf(n,e);case"string":case"boolean":case"function":case"undefined":return t.indexOf(n,e);case"object":if(null===n)return t.indexOf(n,e)}for(;e<t.length;){if(on(t[e],n))return e;e+=1}return-1}function sn(t,n){return un(n,t,0)>=0}function cn(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var an=function(t){return(t<10?"0":"")+t},hn="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+an(t.getUTCMonth()+1)+"-"+an(t.getUTCDate())+"T"+an(t.getUTCHours())+":"+an(t.getUTCMinutes())+":"+an(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};function fn(t){return function(){return!t.apply(this,arguments)}}function pn(t,n){for(var e=0,r=n.length,i=[];e<r;)t(n[e])&&(i[i.length]=n[e]),e+=1;return i}function ln(t){return"[object Object]"===Object.prototype.toString.call(t)}var dn=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=M.init,t.prototype["@@transducer/result"]=M.result,t.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.xf["@@transducer/step"](t,n):t},t}(),vn=c(b(["filter"],c(function(t,n){return new dn(t,n)}),function(t,n){return ln(n)?L(function(e,r){return t(n[r])&&(e[r]=n[r]),e},{},U(n)):pn(t,n)})),yn=c(function(t,n){return vn(fn(t),n)});function mn(t,n){var e=function(e){var r=n.concat([t]);return sn(e,r)?"<Circular>":mn(e,r)},r=function(t,n){return T(function(n){return cn(n)+": "+e(t[n])},n.slice().sort())};switch(Object.prototype.toString.call(t)){case"[object Arguments]":return"(function() { return arguments; }("+T(e,t).join(", ")+"))";case"[object Array]":return"["+T(e,t).concat(r(t,yn(function(t){return/^\d+$/.test(t)},U(t)))).join(", ")+"]";case"[object Boolean]":return"object"==typeof t?"new Boolean("+e(t.valueOf())+")":t.toString();case"[object Date]":return"new Date("+(isNaN(t.valueOf())?e(NaN):cn(hn(t)))+")";case"[object Null]":return"null";case"[object Number]":return"object"==typeof t?"new Number("+e(t.valueOf())+")":1/t==-1/0?"-0":t.toString(10);case"[object String]":return"object"==typeof t?"new String("+e(t.valueOf())+")":cn(t);case"[object Undefined]":return"undefined";default:if("function"==typeof t.toString){var i=t.toString();if("[object Object]"!==i)return i}return"{"+r(t,U(t)).join(", ")+"}"}}var gn=s(function(t){return mn(t,[])}),bn=c(function(t,n){if(m(t)){if(m(n))return t.concat(n);throw new TypeError(gn(n)+" is not an array")}if(j(t)){if(j(n))return t+n;throw new TypeError(gn(n)+" is not a string")}if(null!=t&&bt(t["fantasy-land/concat"]))return t["fantasy-land/concat"](n);if(null!=t&&bt(t.concat))return t.concat(n);throw new TypeError(gn(t)+' does not have a method named "concat" or "fantasy-land/concat"')}),wn=s(function(t){return f(K(x,0,G(function(t){return t[0].length},t)),function(){for(var n=0;n<t.length;){if(t[n][0].apply(this,arguments))return t[n][1].apply(this,arguments);n+=1}})}),Mn=c(function(t,n){if(t>10)throw new Error("Constructor with greater than ten arguments");return 0===t?function(){return new n}:_t(mt(t,function(t,e,r,i,o,u,s,c,a,h){switch(arguments.length){case 1:return new n(t);case 2:return new n(t,e);case 3:return new n(t,e,r);case 4:return new n(t,e,r,i);case 5:return new n(t,e,r,i,o);case 6:return new n(t,e,r,i,o,u);case 7:return new n(t,e,r,i,o,u,s);case 8:return new n(t,e,r,i,o,u,s,c);case 9:return new n(t,e,r,i,o,u,s,c,a);case 10:return new n(t,e,r,i,o,u,s,c,a,h)}}))}),kn=s(function(t){return Mn(t.length,t)}),_n=c(sn),xn=c(function(t,n){return l(K(x,0,H("length",n)),function(){var e=arguments,r=this;return t.apply(r,T(function(t){return t.apply(r,e)},n))})}),Tn=function(){function t(t,n,e,r){this.valueFn=t,this.valueAcc=n,this.keyFn=e,this.xf=r,this.inputs={}}return t.prototype["@@transducer/init"]=M.init,t.prototype["@@transducer/result"]=function(t){var n;for(n in this.inputs)if(C(n,this.inputs)&&(t=this.xf["@@transducer/step"](t,this.inputs[n]))["@@transducer/reduced"]){t=t["@@transducer/value"];break}return this.inputs=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){var e=this.keyFn(n);return this.inputs[e]=this.inputs[e]||[e,this.valueAcc],this.inputs[e][1]=this.valueFn(this.inputs[e][1],n),t},t}(),jn=p(4,[],b([],p(4,[],function(t,n,e,r){return new Tn(t,n,e,r)}),function(t,n,e,r){return L(function(r,i){var o=e(i);return r[o]=t(C(o,r)?r[o]:n,i),r},{},r)})),On=jn(function(t,n){return t+1},0),En=a(-1),Nn=c(function(t,n){return null==n||n!=n?t:n}),An=v(function(t,n,e){var r=t(n),i=t(e);return r>i?-1:r<i?1:0});function Sn(t,n,e){var r,i=typeof t;switch(i){case"string":case"number":return 0===t&&1/t==-1/0?!!e._items["-0"]||(n&&(e._items["-0"]=!0),!1):null!==e._nativeSet?n?(r=e._nativeSet.size,e._nativeSet.add(t),e._nativeSet.size===r):e._nativeSet.has(t):i in e._items?t in e._items[i]||(n&&(e._items[i][t]=!0),!1):(n&&(e._items[i]={},e._items[i][t]=!0),!1);case"boolean":if(i in e._items){var o=t?1:0;return!!e._items[i][o]||(n&&(e._items[i][o]=!0),!1)}return n&&(e._items[i]=t?[!1,!0]:[!0,!1]),!1;case"function":return null!==e._nativeSet?n?(r=e._nativeSet.size,e._nativeSet.add(t),e._nativeSet.size===r):e._nativeSet.has(t):i in e._items?!!sn(t,e._items[i])||(n&&e._items[i].push(t),!1):(n&&(e._items[i]=[t]),!1);case"undefined":return!!e._items[i]||(n&&(e._items[i]=!0),!1);case"object":if(null===t)return!!e._items.null||(n&&(e._items.null=!0),!1);default:return(i=Object.prototype.toString.call(t))in e._items?!!sn(t,e._items[i])||(n&&e._items[i].push(t),!1):(n&&(e._items[i]=[t]),!1)}}var Rn=function(){function t(){this._nativeSet="function"==typeof Set?new Set:null,this._items={}}return t.prototype.add=function(t){return!Sn(t,!0,this)},t.prototype.has=function(t){return Sn(t,!1,this)},t}(),In=c(function(t,n){for(var e=[],r=0,i=t.length,o=n.length,u=new Rn,s=0;s<o;s+=1)u.add(n[s]);for(;r<i;)u.add(t[r])&&(e[e.length]=t[r]),r+=1;return e}),Ln=v(function(t,n,e){for(var r=[],i=0,o=n.length;i<o;)tn(t,n[i],e)||tn(t,n[i],r)||r.push(n[i]),i+=1;return r}),Pn=c(function(t,n){var e={};for(var r in n)e[r]=n[r];return delete e[t],e}),Dn=v(function(t,n,e){var r=Array.prototype.slice.call(e,0);return r.splice(t,n),r}),Cn=v(function(t,n,e){return y(t,J(n),e)}),qn=c(function t(n,e){switch(n.length){case 0:return e;case 1:return dt(n[0])&&m(e)?Dn(n[0],1,e):Pn(n[0],e);default:var r=n[0],i=Array.prototype.slice.call(n,1);return null==e[r]?e:dt(r)&&m(e)?Cn(r,t(i,e[r]),e):lt(r,t(i,e[r]),e)}}),Bn=c(function(t,n){return t/n}),Wn=function(){function t(t,n){this.xf=n,this.n=t}return t.prototype["@@transducer/init"]=M.init,t.prototype["@@transducer/result"]=M.result,t.prototype["@@transducer/step"]=function(t,n){return this.n>0?(this.n-=1,t):this.xf["@@transducer/step"](t,n)},t}(),Vn=c(b(["drop"],c(function(t,n){return new Wn(t,n)}),function(t,n){return qt(Math.max(0,t),1/0,n)})),Fn=function(){function t(t,n){this.xf=n,this.n=t,this.i=0}return t.prototype["@@transducer/init"]=M.init,t.prototype["@@transducer/result"]=M.result,t.prototype["@@transducer/step"]=function(t,n){this.i+=1;var e=0===this.n?t:this.xf["@@transducer/step"](t,n);return this.n>=0&&this.i>=this.n?w(e):e},t}(),zn=c(b(["take"],c(function(t,n){return new Fn(t,n)}),function(t,n){return qt(0,t<0?1/0:t,n)}));function Un(t,n){return zn(t<n.length?n.length-t:0,n)}var Gn=function(){function t(t,n){this.xf=n,this.pos=0,this.full=!1,this.acc=new Array(t)}return t.prototype["@@transducer/init"]=M.init,t.prototype["@@transducer/result"]=function(t){return this.acc=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.full&&(t=this.xf["@@transducer/step"](t,this.acc[this.pos])),this.store(n),t},t.prototype.store=function(t){this.acc[this.pos]=t,this.pos+=1,this.pos===this.acc.length&&(this.pos=0,this.full=!0)},t}(),Yn=c(b([],c(function(t,n){return new Gn(t,n)}),Un));function $n(t,n){for(var e=n.length-1;e>=0&&t(n[e]);)e-=1;return qt(0,e+1,n)}var Hn=function(){function t(t,n){this.f=t,this.retained=[],this.xf=n}return t.prototype["@@transducer/init"]=M.init,t.prototype["@@transducer/result"]=function(t){return this.retained=null,this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.retain(t,n):this.flush(t,n)},t.prototype.flush=function(t,n){return t=L(this.xf["@@transducer/step"],t,this.retained),this.retained=[],this.xf["@@transducer/step"](t,n)},t.prototype.retain=function(t,n){return this.retained.push(n),t},t}(),Kn=c(b([],c(function(t,n){return new Hn(t,n)}),$n)),Xn=function(){function t(t,n){this.xf=n,this.pred=t,this.lastValue=void 0,this.seenFirstValue=!1}return t.prototype["@@transducer/init"]=M.init,t.prototype["@@transducer/result"]=M.result,t.prototype["@@transducer/step"]=function(t,n){var e=!1;return this.seenFirstValue?this.pred(this.lastValue,n)&&(e=!0):this.seenFirstValue=!0,this.lastValue=n,e?t:this.xf["@@transducer/step"](t,n)},t}(),Jn=c(function(t,n){return new Xn(t,n)}),Qn=$t(-1),Zn=c(b([],Jn,function(t,n){var e=[],r=1,i=n.length;if(0!==i)for(e[0]=n[0];r<i;)t(Qn(e),n[r])||(e[e.length]=n[r]),r+=1;return e})),te=s(b([],Jn(on),Zn(on))),ne=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=M.init,t.prototype["@@transducer/result"]=M.result,t.prototype["@@transducer/step"]=function(t,n){if(this.f){if(this.f(n))return t;this.f=null}return this.xf["@@transducer/step"](t,n)},t}(),ee=c(b(["dropWhile"],c(function(t,n){return new ne(t,n)}),function(t,n){for(var e=0,r=n.length;e<r&&t(n[e]);)e+=1;return qt(e,1/0,n)})),re=c(function(t,n){return t||n}),ie=c(function(t,n){return bt(t)?function(){return t.apply(this,arguments)||n.apply(this,arguments)}:Mt(re)(t,n)}),oe=s(function(t){return null!=t&&"function"==typeof t["fantasy-land/empty"]?t["fantasy-land/empty"]():null!=t&&null!=t.constructor&&"function"==typeof t.constructor["fantasy-land/empty"]?t.constructor["fantasy-land/empty"]():null!=t&&"function"==typeof t.empty?t.empty():null!=t&&null!=t.constructor&&"function"==typeof t.constructor.empty?t.constructor.empty():m(t)?[]:j(t)?"":ln(t)?{}:B(t)?function(){return arguments}():void 0}),ue=c(function(t,n){return Vn(t>=0?n.length-t:0,n)}),se=c(function(t,n){return on(ue(t.length,n),t)}),ce=v(function(t,n,e){return on(t(n),t(e))}),ae=v(function(t,n,e){return on(n[t],e[t])}),he=c(function t(n,e){var r,i,o,u=e instanceof Array?[]:{};for(i in e)o=typeof(r=n[i]),u[i]="function"===o?r(e[i]):r&&"object"===o?t(r,e[i]):e[i];return u}),fe=function(){function t(t,n){this.xf=n,this.f=t,this.found=!1}return t.prototype["@@transducer/init"]=M.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,void 0)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.found=!0,t=w(this.xf["@@transducer/step"](t,n))),t},t}(),pe=c(b(["find"],c(function(t,n){return new fe(t,n)}),function(t,n){for(var e=0,r=n.length;e<r;){if(t(n[e]))return n[e];e+=1}})),le=function(){function t(t,n){this.xf=n,this.f=t,this.idx=-1,this.found=!1}return t.prototype["@@transducer/init"]=M.init,t.prototype["@@transducer/result"]=function(t){return this.found||(t=this.xf["@@transducer/step"](t,-1)),this.xf["@@transducer/result"](t)},t.prototype["@@transducer/step"]=function(t,n){return this.idx+=1,this.f(n)&&(this.found=!0,t=w(this.xf["@@transducer/step"](t,this.idx))),t},t}(),de=c(b([],c(function(t,n){return new le(t,n)}),function(t,n){for(var e=0,r=n.length;e<r;){if(t(n[e]))return e;e+=1}return-1})),ve=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=M.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.last))},t.prototype["@@transducer/step"]=function(t,n){return this.f(n)&&(this.last=n),t},t}(),ye=c(b([],c(function(t,n){return new ve(t,n)}),function(t,n){for(var e=n.length-1;e>=0;){if(t(n[e]))return n[e];e-=1}})),me=function(){function t(t,n){this.xf=n,this.f=t,this.idx=-1,this.lastIdx=-1}return t.prototype["@@transducer/init"]=M.init,t.prototype["@@transducer/result"]=function(t){return this.xf["@@transducer/result"](this.xf["@@transducer/step"](t,this.lastIdx))},t.prototype["@@transducer/step"]=function(t,n){return this.idx+=1,this.f(n)&&(this.lastIdx=this.idx),t},t}(),ge=c(b([],c(function(t,n){return new me(t,n)}),function(t,n){for(var e=n.length-1;e>=0;){if(t(n[e]))return e;e-=1}return-1})),be=s(Tt(!0)),we=s(function(t){return l(t.length,function(n,e){var r=Array.prototype.slice.call(arguments,0);return r[0]=e,r[1]=n,t.apply(this,r)})}),Me=c(Ct("forEach",function(t,n){for(var e=n.length,r=0;r<e;)t(n[r]),r+=1;return n})),ke=c(function(t,n){for(var e=U(n),r=0;r<e.length;){var i=e[r];t(n[i],i,n),r+=1}return n}),_e=s(function(t){for(var n={},e=0;e<t.length;)n[t[e][0]]=t[e][1],e+=1;return n}),xe=c(Ct("groupBy",jn(function(t,n){return null==t&&(t=[]),t.push(n),t},null))),Te=c(function(t,n){for(var e=[],r=0,i=n.length;r<i;){for(var o=r+1;o<i&&t(n[o-1],n[o]);)o+=1;e.push(n.slice(r,o)),r=o}return e}),je=c(function(t,n){return t>n}),Oe=c(function(t,n){return t>=n}),Ee=c(function(t,n){if(0===t.length)return!1;for(var e=n,r=0;r<t.length;){if(!C(t[r],e))return!1;e=e[t[r]],r+=1}return!0}),Ne=c(function(t,n){return Ee([t],n)}),Ae=c(function(t,n){return t in n}),Se=c(nn),Re=v(function(t,n,e){return l(Math.max(t.length,n.length,e.length),function(){return t.apply(this,arguments)?n.apply(this,arguments):e.apply(this,arguments)})}),Ie=a(1),Le=c(sn),Pe=jn(function(t,n){return n},null),De=c(function(t,n){return"function"!=typeof n.indexOf||m(n)?un(n,t,0):n.indexOf(t)}),Ce=qt(0,-1),qe=v(function(t,n,e){return pn(function(n){return tn(t,n,e)},n)}),Be=v(function(t,n,e){t=t<e.length&&t>=0?t:e.length;var r=Array.prototype.slice.call(e,0);return r.splice(t,0,n),r}),We=v(function(t,n,e){return t=t<e.length&&t>=0?t:e.length,[].concat(Array.prototype.slice.call(e,0,t),n,Array.prototype.slice.call(e,t))}),Ve=c(function(t,n){for(var e,r,i=new Rn,o=[],u=0;u<n.length;)e=t(r=n[u]),i.add(e)&&o.push(r),u+=1;return o}),Fe=Ve(Xt),ze=c(function(t,n){var e,r;return t.length>n.length?(e=t,r=n):(e=n,r=t),Fe(pn(we(sn)(e),r))}),Ue=c(Ct("intersperse",function(t,n){for(var e=[],r=0,i=n.length;r<i;)r===i-1?e.push(n[r]):e.push(n[r],t),r+=1;return e}));var Ge="function"==typeof Object.assign?Object.assign:function(t){if(null==t)throw new TypeError("Cannot convert undefined or null to object");for(var n=Object(t),e=1,r=arguments.length;e<r;){var i=arguments[e];if(null!=i)for(var o in i)C(o,i)&&(n[o]=i[o]);e+=1}return n},Ye=c(function(t,n){var e={};return e[t]=n,e}),$e={"@@transducer/init":Array,"@@transducer/step":function(t,n){return t.push(n),t},"@@transducer/result":Kt},He={"@@transducer/init":String,"@@transducer/step":function(t,n){return t+n},"@@transducer/result":Kt},Ke={"@@transducer/init":Object,"@@transducer/step":function(t,n){return Ge(t,O(n)?Ye(n[0],n[1]):n)},"@@transducer/result":Kt};var Xe=v(function(t,n,e){return g(t)?L(n(t),t["@@transducer/init"](),e):L(n(function(t){if(g(t))return t;if(O(t))return $e;if("string"==typeof t)return He;if("object"==typeof t)return Ke;throw new Error("Cannot create transformer for "+t)}(t)),St(t,[],[],!1),e)}),Je=s(function(t){for(var n=U(t),e=n.length,r=0,i={};r<e;){var o=n[r],u=t[o],s=C(u,i)?i[u]:i[u]=[];s[s.length]=o,r+=1}return i}),Qe=s(function(t){for(var n=U(t),e=n.length,r=0,i={};r<e;){var o=n[r];i[t[o]]=o,r+=1}return i}),Ze=c(function(t,n){return l(t+1,function(){var e=arguments[t];if(null!=e&&bt(e[n]))return e[n].apply(e,Array.prototype.slice.call(arguments,0,t));throw new TypeError(gn(e)+' does not have a method named "'+n+'"')})}),tr=c(function(t,n){return null!=n&&n.constructor===t||n instanceof t}),nr=s(function(t){return null!=t&&on(t,oe(t))}),er=Ze(1,"join"),rr=s(function(t){return xn(function(){return Array.prototype.slice.call(arguments,0)},t)}),ir=s(function(t){var n,e=[];for(n in t)e[e.length]=n;return e}),or=c(function(t,n){if("function"!=typeof n.lastIndexOf||m(n)){for(var e=n.length-1;e>=0;){if(on(n[e],t))return e;e-=1}return-1}return n.lastIndexOf(t)});function ur(t){return"[object Number]"===Object.prototype.toString.call(t)}var sr=s(function(t){return null!=t&&ur(t.length)?t.length:NaN}),cr=c(function(t,n){return function(e){return function(r){return G(function(t){return n(t,r)},e(t(r)))}}}),ar=s(function(t){return cr($t(t),Cn(t))}),hr=s(function(t){return cr(Y(t),yt(t))}),fr=s(function(t){return cr($(t),lt(t))}),pr=c(function(t,n){return t<n}),lr=c(function(t,n){return t<=n}),dr=v(function(t,n,e){for(var r=0,i=e.length,o=[],u=[n];r<i;)u=t(u[0],e[r]),o[r]=u[1],r+=1;return[u[0],o]}),vr=v(function(t,n,e){for(var r=e.length-1,i=[],o=[n];r>=0;)o=t(o[0],e[r]),i[r]=o[1],r-=1;return[o[0],i]}),yr=c(function(t,n){return L(function(e,r){return e[r]=t(n[r],r,n),e},{},U(n))}),mr=c(function(t,n){return n.match(t)||[]}),gr=c(function(t,n){return dt(t)?!dt(n)||n<1?NaN:(t%n+n)%n:NaN}),br=v(function(t,n,e){return t(e)>t(n)?e:n}),wr=K(a,0),Mr=s(function(t){return wr(t)/t.length}),kr=s(function(t){var n=t.length;if(0===n)return NaN;var e=2-n%2,r=(n-e)/2;return Mr(Array.prototype.slice.call(t,0).sort(function(t,n){return t<n?-1:t>n?1:0}).slice(r,r+e))}),_r=c(function(t,n){var e={};return f(n.length,function(){var r=t.apply(this,arguments);return C(r,e)||(e[r]=n.apply(this,arguments)),e[r]})}),xr=c(function(t,n){return Ge({},t,n)}),Tr=s(function(t){return Ge.apply(null,[{}].concat(t))}),jr=v(function(t,n,e){var r,i={};for(r in n)C(r,n)&&(i[r]=C(r,e)?t(r,n[r],e[r]):n[r]);for(r in e)C(r,e)&&!C(r,i)&&(i[r]=e[r]);return i}),Or=v(function t(n,e,r){return jr(function(e,r,i){return ln(r)&&ln(i)?t(n,r,i):n(e,r,i)},e,r)}),Er=c(function(t,n){return Or(function(t,n,e){return n},t,n)}),Nr=c(function(t,n){return Or(function(t,n,e){return e},t,n)}),Ar=v(function(t,n,e){return Or(function(n,e,r){return t(e,r)},n,e)}),Sr=c(function(t,n){return Ge({},n,t)}),Rr=c(function(t,n){return Ge({},t,n)}),Ir=v(function(t,n,e){return jr(function(n,e,r){return t(e,r)},n,e)}),Lr=c(function(t,n){return n<t?n:t}),Pr=v(function(t,n,e){return t(e)<t(n)?e:n}),Dr=c(function(t,n){return t%n}),Cr=v(function(t,n,e){var r=e.length,i=e.slice(),o=t<0?r+t:t,u=n<0?r+n:n,s=i.splice(o,1);return o<0||o>=e.length||u<0||u>=e.length?e:[].concat(i.slice(0,u)).concat(s).concat(i.slice(u,e.length))}),qr=c(function(t,n){return t*n}),Br=s(function(t){return-t}),Wr=c(function(t,n){return _(fn(t),n)}),Vr=s(function(t){return l(t<0?1:t+1,function(){return $t(t,arguments)})}),Fr=v(function(t,n,e){return t(n(e))});function zr(t){return[t]}var Ur=s(zr),Gr=c(function(t,n){for(var e={},r={},i=0,o=t.length;i<o;)r[t[i]]=1,i+=1;for(var u in n)r.hasOwnProperty(u)||(e[u]=n[u]);return e}),Yr=s(function(t){var n,e=!1;return f(t.length,function(){return e?n:(e=!0,n=t.apply(this,arguments))})});function $r(t,n){if(null==n||!bt(n.then))throw new TypeError("`"+t+"` expected a Promise, received "+mn(n,[]))}var Hr=c(function(t,n){return $r("otherwise",n),n.then(null,t)}),Kr=function(t){return{value:t,map:function(n){return Kr(n(t))}}},Xr=v(function(t,n,e){return t(function(t){return Kr(n(t))})(e).value}),Jr=c(function(t,n){return[t,n]});function Qr(t){return c(function(n,e){return f(Math.max(0,n.length-e.length),function(){return n.apply(this,t(e,arguments))})})}var Zr=Qr(h),ti=Qr(we(h)),ni=rr([vn,yn]),ei=v(function(t,n,e){return on(Y(t,e),n)}),ri=v(function(t,n,e){return Nn(t,Y(n,e))}),ii=v(function(t,n,e){return n.length>0&&t(Y(n,e))}),oi=c(function(t,n){for(var e={},r=0;r<t.length;)t[r]in n&&(e[t[r]]=n[t[r]]),r+=1;return e}),ui=c(function(t,n){for(var e={},r=0,i=t.length;r<i;){var o=t[r];e[o]=n[o],r+=1}return e}),si=c(function(t,n){var e={};for(var r in n)t(n[r],r,n)&&(e[r]=n[r]);return e});function ci(){if(0===arguments.length)throw new Error("pipeK requires at least one argument");return zt.apply(this,Vt(arguments))}var ai=c(function(t,n){return h([t],n)}),hi=K(qr,1),fi=c(function(t,n){return l(n.length,function(){for(var e=[],r=0;r<n.length;)e.push(n[r].call(this,arguments[r])),r+=1;return t.apply(this,e.concat(Array.prototype.slice.call(arguments,n.length)))})}),pi=fi(T,[ui,Xt]),li=v(function(t,n,e){return on(n,e[t])}),di=v(function(t,n,e){return tr(t,e[n])}),vi=v(function(t,n,e){return ri(t,[n],e)}),yi=v(function(t,n,e){return t(e[n])}),mi=c(function(t,n){for(var e=t.length,r=[],i=0;i<e;)r[i]=n[t[i]],i+=1;return r}),gi=c(function(t,n){if(!ur(t)||!ur(n))throw new TypeError("Both arguments to range must be numbers");for(var e=[],r=t;r<n;)e.push(r),r+=1;return e}),bi=v(function(t,n,e){for(var r=e.length-1;r>=0;)n=t(e[r],n),r-=1;return n}),wi=p(4,[],function(t,n,e,r){return L(function(e,r){return t(e,r)?n(e,r):w(e)},e,r)}),Mi=s(w),ki=c(function(t,n){var e,r=Number(n),i=0;if(r<0||isNaN(r))throw new RangeError("n must be a non-negative number");for(e=new Array(r);i<r;)e[i]=t(i),i+=1;return e}),_i=c(function(t,n){return ki(J(t),n)}),xi=v(function(t,n,e){return e.replace(t,n)}),Ti=v(function(t,n,e){for(var r=0,i=e.length,o=[n];r<i;)n=t(n,e[r]),o[r+1]=n,r+=1;return o}),ji=c(function(t,n){return"function"==typeof n.sequence?n.sequence(t):bi(function(t,n){return et(G(ai,t),n)},t([]),n)}),Oi=v(function(t,n,e){return Xr(t,J(n),e)}),Ei=c(function(t,n){return Array.prototype.slice.call(n,0).sort(t)}),Ni=c(function(t,n){return Array.prototype.slice.call(n,0).sort(function(n,e){var r=t(n),i=t(e);return r<i?-1:r>i?1:0})}),Ai=c(function(t,n){return Array.prototype.slice.call(n,0).sort(function(n,e){for(var r=0,i=0;0===r&&i<t.length;)r=t[i](n,e),i+=1;return r})}),Si=Ze(1,"split"),Ri=c(function(t,n){return[qt(0,t,n),qt(t,sr(n),n)]}),Ii=c(function(t,n){if(t<=0)throw new Error("First argument to splitEvery must be a positive integer");for(var e=[],r=0;r<n.length;)e.push(qt(r,r+=t,n));return e}),Li=c(function(t,n){for(var e=0,r=n.length,i=[];e<r&&!t(n[e]);)i.push(n[e]),e+=1;return[i,Array.prototype.slice.call(n,e)]}),Pi=c(function(t,n){return on(zn(t.length,n),t)}),Di=c(function(t,n){return Number(t)-Number(n)}),Ci=c(function(t,n){return bn(In(t,n),In(n,t))}),qi=v(function(t,n,e){return bn(Ln(t,n,e),Ln(t,e,n))}),Bi=c(function(t,n){for(var e=n.length-1;e>=0&&t(n[e]);)e-=1;return qt(e+1,1/0,n)}),Wi=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=M.init,t.prototype["@@transducer/result"]=M.result,t.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.xf["@@transducer/step"](t,n):w(t)},t}(),Vi=c(b(["takeWhile"],c(function(t,n){return new Wi(t,n)}),function(t,n){for(var e=0,r=n.length;e<r&&t(n[e]);)e+=1;return qt(0,e,n)})),Fi=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=M.init,t.prototype["@@transducer/result"]=M.result,t.prototype["@@transducer/step"]=function(t,n){return this.f(n),this.xf["@@transducer/step"](t,n)},t}(),zi=c(b([],c(function(t,n){return new Fi(t,n)}),function(t,n){return t(n),n}));var Ui=c(function(t,n){if(e=t,"[object RegExp]"!==Object.prototype.toString.call(e))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+gn(t));var e;return Nt(t).test(n)}),Gi=c(function(t,n){return $r("then",n),n.then(t)}),Yi=Ze(0,"toLowerCase"),$i=s(function(t){var n=[];for(var e in t)C(e,t)&&(n[n.length]=[e,t[e]]);return n}),Hi=s(function(t){var n=[];for(var e in t)n[n.length]=[e,t[e]];return n}),Ki=Ze(0,"toUpperCase"),Xi=l(4,function(t,n,e,r){return L(t("function"==typeof n?N(n):n),e,r)}),Ji=s(function(t){for(var n=0,e=[];n<t.length;){for(var r=t[n],i=0;i<r.length;)void 0===e[i]&&(e[i]=[]),e[i].push(r[i]),i+=1;n+=1}return e}),Qi=v(function(t,n,e){return"function"==typeof e["fantasy-land/traverse"]?e["fantasy-land/traverse"](n,t):ji(t,G(n,e))}),Zi="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",to=s("function"==typeof String.prototype.trim&&!Zi.trim()&&"​".trim()?function(t){return t.trim()}:function(t){var n=new RegExp("^["+Zi+"]["+Zi+"]*"),e=new RegExp("["+Zi+"]["+Zi+"]*$");return t.replace(n,"").replace(e,"")}),no=c(function(t,n){return f(t.length,function(){try{return t.apply(this,arguments)}catch(t){return n.apply(this,h([t],arguments))}})}),eo=s(function(t){return function(){return t(Array.prototype.slice.call(arguments,0))}}),ro=s(function(t){return mt(1,t)}),io=c(function(t,n){return l(t,function(){for(var e,r=1,i=n,o=0;r<=t&&"function"==typeof i;)e=r===t?arguments.length:o+i.length,i=i.apply(this,Array.prototype.slice.call(arguments,o,e)),r+=1,o=e;return i})}),oo=c(function(t,n){for(var e=t(n),r=[];e&&e.length;)r[r.length]=e[0],e=t(e[1]);return r}),uo=c(Ft(Fe,h)),so=c(function(t,n){for(var e,r=0,i=n.length,o=[];r<i;)tn(t,e=n[r],o)||(o[o.length]=e),r+=1;return o}),co=v(function(t,n,e){return so(t,h(n,e))}),ao=v(function(t,n,e){return t(e)?e:n(e)}),ho=Ot(Kt),fo=v(function(t,n,e){for(var r=e;!t(r);)r=n(r);return r}),po=s(function(t){var n,e=[];for(n in t)e[e.length]=t[n];return e}),lo=function(t){return{value:t,"fantasy-land/map":function(){return this}}},vo=c(function(t,n){return t(lo)(n).value}),yo=v(function(t,n,e){return t(e)?n(e):e}),mo=c(function(t,n){for(var e in t)if(C(e,t)&&!t[e](n[e]))return!1;return!0}),go=c(function(t,n){return mo(G(on,t),n)}),bo=c(function(t,n){return yn(we(sn)(t),n)}),wo=c(function(t,n){for(var e,r=0,i=t.length,o=n.length,u=[];r<i;){for(e=0;e<o;)u[u.length]=[t[r],n[e]],e+=1;r+=1}return u}),Mo=c(function(t,n){for(var e=[],r=0,i=Math.min(t.length,n.length);r<i;)e[r]=[t[r],n[r]],r+=1;return e}),ko=c(function(t,n){for(var e=0,r=Math.min(t.length,n.length),i={};e<r;)i[t[e]]=n[e],e+=1;return i}),_o=v(function(t,n,e){for(var r=[],i=0,o=Math.min(n.length,e.length);i<o;)r[i]=t(n[i],e[i]),i+=1;return r}),xo=s(function(t){return l(t.length,function(){var n=arguments;return function(){return t.apply(this,n)}})});e.d(n,"F",function(){return r}),e.d(n,"T",function(){return i}),e.d(n,"__",function(){return o}),e.d(n,"add",function(){return a}),e.d(n,"addIndex",function(){return d}),e.d(n,"adjust",function(){return y}),e.d(n,"all",function(){return _}),e.d(n,"allPass",function(){return X}),e.d(n,"always",function(){return J}),e.d(n,"and",function(){return Q}),e.d(n,"any",function(){return tt}),e.d(n,"anyPass",function(){return nt}),e.d(n,"ap",function(){return et}),e.d(n,"aperture",function(){return ot}),e.d(n,"append",function(){return ut}),e.d(n,"apply",function(){return st}),e.d(n,"applySpec",function(){return ht}),e.d(n,"applyTo",function(){return ft}),e.d(n,"ascend",function(){return pt}),e.d(n,"assoc",function(){return lt}),e.d(n,"assocPath",function(){return yt}),e.d(n,"binary",function(){return gt}),e.d(n,"bind",function(){return A}),e.d(n,"both",function(){return kt}),e.d(n,"call",function(){return xt}),e.d(n,"chain",function(){return Ot}),e.d(n,"clamp",function(){return Et}),e.d(n,"clone",function(){return Rt}),e.d(n,"comparator",function(){return It}),e.d(n,"complement",function(){return Pt}),e.d(n,"compose",function(){return Ft}),e.d(n,"composeK",function(){return zt}),e.d(n,"composeP",function(){return Yt}),e.d(n,"composeWith",function(){return Qt}),e.d(n,"concat",function(){return bn}),e.d(n,"cond",function(){return wn}),e.d(n,"construct",function(){return kn}),e.d(n,"constructN",function(){return Mn}),e.d(n,"contains",function(){return _n}),e.d(n,"converge",function(){return xn}),e.d(n,"countBy",function(){return On}),e.d(n,"curry",function(){return _t}),e.d(n,"curryN",function(){return l}),e.d(n,"dec",function(){return En}),e.d(n,"defaultTo",function(){return Nn}),e.d(n,"descend",function(){return An}),e.d(n,"difference",function(){return In}),e.d(n,"differenceWith",function(){return Ln}),e.d(n,"dissoc",function(){return Pn}),e.d(n,"dissocPath",function(){return qn}),e.d(n,"divide",function(){return Bn}),e.d(n,"drop",function(){return Vn}),e.d(n,"dropLast",function(){return Yn}),e.d(n,"dropLastWhile",function(){return Kn}),e.d(n,"dropRepeats",function(){return te}),e.d(n,"dropRepeatsWith",function(){return Zn}),e.d(n,"dropWhile",function(){return ee}),e.d(n,"either",function(){return ie}),e.d(n,"empty",function(){return oe}),e.d(n,"endsWith",function(){return se}),e.d(n,"eqBy",function(){return ce}),e.d(n,"eqProps",function(){return ae}),e.d(n,"equals",function(){return on}),e.d(n,"evolve",function(){return he}),e.d(n,"filter",function(){return vn}),e.d(n,"find",function(){return pe}),e.d(n,"findIndex",function(){return de}),e.d(n,"findLast",function(){return ye}),e.d(n,"findLastIndex",function(){return ge}),e.d(n,"flatten",function(){return be}),e.d(n,"flip",function(){return we}),e.d(n,"forEach",function(){return Me}),e.d(n,"forEachObjIndexed",function(){return ke}),e.d(n,"fromPairs",function(){return _e}),e.d(n,"groupBy",function(){return xe}),e.d(n,"groupWith",function(){return Te}),e.d(n,"gt",function(){return je}),e.d(n,"gte",function(){return Oe}),e.d(n,"has",function(){return Ne}),e.d(n,"hasIn",function(){return Ae}),e.d(n,"hasPath",function(){return Ee}),e.d(n,"head",function(){return Ht}),e.d(n,"identical",function(){return Se}),e.d(n,"identity",function(){return Xt}),e.d(n,"ifElse",function(){return Re}),e.d(n,"inc",function(){return Ie}),e.d(n,"includes",function(){return Le}),e.d(n,"indexBy",function(){return Pe}),e.d(n,"indexOf",function(){return De}),e.d(n,"init",function(){return Ce}),e.d(n,"innerJoin",function(){return qe}),e.d(n,"insert",function(){return Be}),e.d(n,"insertAll",function(){return We}),e.d(n,"intersection",function(){return ze}),e.d(n,"intersperse",function(){return Ue}),e.d(n,"into",function(){return Xe}),e.d(n,"invert",function(){return Je}),e.d(n,"invertObj",function(){return Qe}),e.d(n,"invoker",function(){return Ze}),e.d(n,"is",function(){return tr}),e.d(n,"isEmpty",function(){return nr}),e.d(n,"isNil",function(){return vt}),e.d(n,"join",function(){return er}),e.d(n,"juxt",function(){return rr}),e.d(n,"keys",function(){return U}),e.d(n,"keysIn",function(){return ir}),e.d(n,"last",function(){return Qn}),e.d(n,"lastIndexOf",function(){return or}),e.d(n,"length",function(){return sr}),e.d(n,"lens",function(){return cr}),e.d(n,"lensIndex",function(){return ar}),e.d(n,"lensPath",function(){return hr}),e.d(n,"lensProp",function(){return fr}),e.d(n,"lift",function(){return Mt}),e.d(n,"liftN",function(){return wt}),e.d(n,"lt",function(){return pr}),e.d(n,"lte",function(){return lr}),e.d(n,"map",function(){return G}),e.d(n,"mapAccum",function(){return dr}),e.d(n,"mapAccumRight",function(){return vr}),e.d(n,"mapObjIndexed",function(){return yr}),e.d(n,"match",function(){return mr}),e.d(n,"mathMod",function(){return gr}),e.d(n,"max",function(){return x}),e.d(n,"maxBy",function(){return br}),e.d(n,"mean",function(){return Mr}),e.d(n,"median",function(){return kr}),e.d(n,"memoizeWith",function(){return _r}),e.d(n,"merge",function(){return xr}),e.d(n,"mergeAll",function(){return Tr}),e.d(n,"mergeDeepLeft",function(){return Er}),e.d(n,"mergeDeepRight",function(){return Nr}),e.d(n,"mergeDeepWith",function(){return Ar}),e.d(n,"mergeDeepWithKey",function(){return Or}),e.d(n,"mergeLeft",function(){return Sr}),e.d(n,"mergeRight",function(){return Rr}),e.d(n,"mergeWith",function(){return Ir}),e.d(n,"mergeWithKey",function(){return jr}),e.d(n,"min",function(){return Lr}),e.d(n,"minBy",function(){return Pr}),e.d(n,"modulo",function(){return Dr}),e.d(n,"move",function(){return Cr}),e.d(n,"multiply",function(){return qr}),e.d(n,"nAry",function(){return mt}),e.d(n,"negate",function(){return Br}),e.d(n,"none",function(){return Wr}),e.d(n,"not",function(){return Lt}),e.d(n,"nth",function(){return $t}),e.d(n,"nthArg",function(){return Vr}),e.d(n,"o",function(){return Fr}),e.d(n,"objOf",function(){return Ye}),e.d(n,"of",function(){return Ur}),e.d(n,"omit",function(){return Gr}),e.d(n,"once",function(){return Yr}),e.d(n,"or",function(){return re}),e.d(n,"otherwise",function(){return Hr}),e.d(n,"over",function(){return Xr}),e.d(n,"pair",function(){return Jr}),e.d(n,"partial",function(){return Zr}),e.d(n,"partialRight",function(){return ti}),e.d(n,"partition",function(){return ni}),e.d(n,"path",function(){return Y}),e.d(n,"pathEq",function(){return ei}),e.d(n,"pathOr",function(){return ri}),e.d(n,"pathSatisfies",function(){return ii}),e.d(n,"pick",function(){return oi}),e.d(n,"pickAll",function(){return ui}),e.d(n,"pickBy",function(){return si}),e.d(n,"pipe",function(){return Wt}),e.d(n,"pipeK",function(){return ci}),e.d(n,"pipeP",function(){return Gt}),e.d(n,"pipeWith",function(){return Jt}),e.d(n,"pluck",function(){return H}),e.d(n,"prepend",function(){return ai}),e.d(n,"product",function(){return hi}),e.d(n,"project",function(){return pi}),e.d(n,"prop",function(){return $}),e.d(n,"propEq",function(){return li}),e.d(n,"propIs",function(){return di}),e.d(n,"propOr",function(){return vi}),e.d(n,"propSatisfies",function(){return yi}),e.d(n,"props",function(){return mi}),e.d(n,"range",function(){return gi}),e.d(n,"reduce",function(){return K}),e.d(n,"reduceBy",function(){return jn}),e.d(n,"reduceRight",function(){return bi}),e.d(n,"reduceWhile",function(){return wi}),e.d(n,"reduced",function(){return Mi}),e.d(n,"reject",function(){return yn}),e.d(n,"remove",function(){return Dn}),e.d(n,"repeat",function(){return _i}),e.d(n,"replace",function(){return xi}),e.d(n,"reverse",function(){return Vt}),e.d(n,"scan",function(){return Ti}),e.d(n,"sequence",function(){return ji}),e.d(n,"set",function(){return Oi}),e.d(n,"slice",function(){return qt}),e.d(n,"sort",function(){return Ei}),e.d(n,"sortBy",function(){return Ni}),e.d(n,"sortWith",function(){return Ai}),e.d(n,"split",function(){return Si}),e.d(n,"splitAt",function(){return Ri}),e.d(n,"splitEvery",function(){return Ii}),e.d(n,"splitWhen",function(){return Li}),e.d(n,"startsWith",function(){return Pi}),e.d(n,"subtract",function(){return Di}),e.d(n,"sum",function(){return wr}),e.d(n,"symmetricDifference",function(){return Ci}),e.d(n,"symmetricDifferenceWith",function(){return qi}),e.d(n,"tail",function(){return Bt}),e.d(n,"take",function(){return zn}),e.d(n,"takeLast",function(){return ue}),e.d(n,"takeLastWhile",function(){return Bi}),e.d(n,"takeWhile",function(){return Vi}),e.d(n,"tap",function(){return zi}),e.d(n,"test",function(){return Ui}),e.d(n,"then",function(){return Gi}),e.d(n,"times",function(){return ki}),e.d(n,"toLower",function(){return Yi}),e.d(n,"toPairs",function(){return $i}),e.d(n,"toPairsIn",function(){return Hi}),e.d(n,"toString",function(){return gn}),e.d(n,"toUpper",function(){return Ki}),e.d(n,"transduce",function(){return Xi}),e.d(n,"transpose",function(){return Ji}),e.d(n,"traverse",function(){return Qi}),e.d(n,"trim",function(){return to}),e.d(n,"tryCatch",function(){return no}),e.d(n,"type",function(){return At}),e.d(n,"unapply",function(){return eo}),e.d(n,"unary",function(){return ro}),e.d(n,"uncurryN",function(){return io}),e.d(n,"unfold",function(){return oo}),e.d(n,"union",function(){return uo}),e.d(n,"unionWith",function(){return co}),e.d(n,"uniq",function(){return Fe}),e.d(n,"uniqBy",function(){return Ve}),e.d(n,"uniqWith",function(){return so}),e.d(n,"unless",function(){return ao}),e.d(n,"unnest",function(){return ho}),e.d(n,"until",function(){return fo}),e.d(n,"update",function(){return Cn}),e.d(n,"useWith",function(){return fi}),e.d(n,"values",function(){return ct}),e.d(n,"valuesIn",function(){return po}),e.d(n,"view",function(){return vo}),e.d(n,"when",function(){return yo}),e.d(n,"where",function(){return mo}),e.d(n,"whereEq",function(){return go}),e.d(n,"without",function(){return bo}),e.d(n,"xprod",function(){return wo}),e.d(n,"zip",function(){return Mo}),e.d(n,"zipObj",function(){return ko}),e.d(n,"zipWith",function(){return _o}),e.d(n,"thunkify",function(){return xo})},function(t,n,e){"use strict";e.r(n);var r=e(0),i=e(2),o=(function(){function t(t){this.value=t}function n(n){var e,r;function i(e,r){try{var u=n[e](r),s=u.value;s instanceof t?Promise.resolve(s.value).then(function(t){i("next",t)},function(t){i("throw",t)}):o(u.done?"return":"normal",u.value)}catch(t){o("throw",t)}}function o(t,n){switch(t){case"return":e.resolve({value:n,done:!0});break;case"throw":e.reject(n);break;default:e.resolve({value:n,done:!1})}(e=e.next)?i(e.key,e.arg):r=null}this._invoke=function(t,n){return new Promise(function(o,u){var s={key:t,arg:n,resolve:o,reject:u,next:null};r?r=r.next=s:(e=r=s,i(t,n))})},"function"!=typeof n.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this}),n.prototype.next=function(t){return this._invoke("next",t)},n.prototype.throw=function(t){return this._invoke("throw",t)},n.prototype.return=function(t){return this._invoke("return",t)}}(),function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}),u=function(){return s},s=new(function(){function t(){o(this,t)}return t.prototype.dispose=function(){},t}()),c=function(t){return new a(t)},a=function(){function t(n){o(this,t),this.disposed=!1,this.disposable=n}return t.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposable.dispose(),this.disposable=void 0)},t}(),h=function(t){var n=Object(r.i)(p,[],t);return 0===n.length?u():new l(n)},f=Object(r.d)(function(t,n){return h([t,n])}),p=function(t,n){return function(t){return t===s}(n)?t:n instanceof l?t.concat(n.disposables):Object(r.a)(n,t)},l=function(){function t(n){o(this,t),this.disposables=n}return t.prototype.dispose=function(){y(d(this.disposables))},t}(),d=function(t){return Object(r.i)(v,[],t)},v=function(t,n){try{n.dispose()}catch(n){t.push(n)}return t},y=function(t){if(t.length>0)throw new m(t.length+" errors",t)},m=function(t){function n(e,r){t.call(this,e),this.message=e,this.name=n.name,this.errors=r,t.captureStackTrace&&t.captureStackTrace(this,n),this.stack=""+this.stack+g(this.errors)}return n.prototype=Object.create(t.prototype),n}(Error),g=function(t){return Object(r.i)(b,"",t)},b=function(t,n,e){return t+"\n["+(e+1)+"] "+n.stack},w=Object(r.e)(function(t,n,e){try{n.dispose()}catch(n){e.error(t,n)}});
/** @license MIT License (c) copyright 2010-2016 original author or authors */
function M(t){setTimeout(k,0,t)}function k(t){throw t}
/** @license MIT License (c) copyright 2010-2017 original author or authors */e.d(n,"zipItems",function(){return Te}),e.d(n,"withItems",function(){return je}),e.d(n,"runEffects",function(){return Oe}),e.d(n,"run",function(){return Ee}),e.d(n,"withLocalTime",function(){return Ne}),e.d(n,"loop",function(){return Ae}),e.d(n,"scan",function(){return Se}),e.d(n,"startWith",function(){return Re}),e.d(n,"map",function(){return Ie}),e.d(n,"constant",function(){return Le}),e.d(n,"tap",function(){return Pe}),e.d(n,"ap",function(){return De}),e.d(n,"chain",function(){return Ce}),e.d(n,"join",function(){return fn}),e.d(n,"continueWith",function(){return qe}),e.d(n,"concatMap",function(){return Be}),e.d(n,"mergeConcurrently",function(){return We}),e.d(n,"mergeMapConcurrently",function(){return Ve}),e.d(n,"merge",function(){return Fe}),e.d(n,"mergeArray",function(){return dn}),e.d(n,"combine",function(){return ze}),e.d(n,"combineArray",function(){return Ue}),e.d(n,"sample",function(){return Ge}),e.d(n,"snapshot",function(){return Ye}),e.d(n,"zip",function(){return $e}),e.d(n,"zipArray",function(){return He}),e.d(n,"filter",function(){return Ke}),e.d(n,"skipRepeats",function(){return qn}),e.d(n,"skipRepeatsWith",function(){return Xe}),e.d(n,"take",function(){return Je}),e.d(n,"skip",function(){return Qe}),e.d(n,"slice",function(){return Ze}),e.d(n,"takeWhile",function(){return tr}),e.d(n,"skipWhile",function(){return nr}),e.d(n,"skipAfter",function(){return er}),e.d(n,"until",function(){return rr}),e.d(n,"since",function(){return ir}),e.d(n,"during",function(){return or}),e.d(n,"delay",function(){return ur}),e.d(n,"throttle",function(){return sr}),e.d(n,"debounce",function(){return cr}),e.d(n,"recoverWith",function(){return ar}),e.d(n,"throwError",function(){return me}),e.d(n,"propagateTask",function(){return hr}),e.d(n,"propagateEventTask",function(){return fr}),e.d(n,"propagateErrorTask",function(){return pr}),e.d(n,"propagateEndTask",function(){return E}),e.d(n,"empty",function(){return L}),e.d(n,"never",function(){return q}),e.d(n,"now",function(){return z}),e.d(n,"at",function(){return W}),e.d(n,"periodic",function(){return U}),e.d(n,"newStream",function(){return Y}),e.d(n,"switchLatest",function(){return In}),e.d(n,"fromPromise",function(){return he}),e.d(n,"awaitPromises",function(){return ae}),e.d(n,"multicast",function(){return Me}),e.d(n,"MulticastSource",function(){return _e});!function(){function t(t){this.value=t}function n(n){var e,r;function i(e,r){try{var u=n[e](r),s=u.value;s instanceof t?Promise.resolve(s.value).then(function(t){i("next",t)},function(t){i("throw",t)}):o(u.done?"return":"normal",u.value)}catch(t){o("throw",t)}}function o(t,n){switch(t){case"return":e.resolve({value:n,done:!0});break;case"throw":e.reject(n);break;default:e.resolve({value:n,done:!1})}(e=e.next)?i(e.key,e.arg):r=null}this._invoke=function(t,n){return new Promise(function(o,u){var s={key:t,arg:n,resolve:o,reject:u,next:null};r?r=r.next=s:(e=r=s,i(t,n))})},"function"!=typeof n.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(n.prototype[Symbol.asyncIterator]=function(){return this}),n.prototype.next=function(t){return this._invoke("next",t)},n.prototype.throw=function(t){return this._invoke("throw",t)},n.prototype.return=function(t){return this._invoke("return",t)}}();var _=function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")},x=function(t,n){if("function"!=typeof n&&null!==n)throw new TypeError("Super expression must either be null or a function, not "+typeof n);t.prototype=Object.create(n&&n.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(t,n):t.__proto__=n)},T=function(t,n){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||"object"!=typeof n&&"function"!=typeof n?t:n},j=function(t,n,e){return new A(t,n,e)},O=function(t,n){return j(S,t,n)},E=function(t){return j(R,void 0,t)},N=function(t,n){return j(I,t,n)},A=function(){function t(n,e,r){_(this,t),this._run=n,this.value=e,this.sink=r,this.active=!0}return t.prototype.dispose=function(){this.active=!1},t.prototype.run=function(t){if(this.active){var n=this._run;n(t,this.value,this.sink)}},t.prototype.error=function(t,n){if(!this.active)return M(n);this.sink.error(t,n)},t}(),S=function(t,n,e){return e.event(t,n)},R=function(t,n,e){return e.end(t)},I=function(t,n,e){return e.error(t,n)},L=function(){return C},P=function(t){return t===C},D=function(t){return t.some(P)},C=new(function(){function t(){_(this,t)}return t.prototype.run=function(t,n){return Object(i.asap)(E(t),n)},t}()),q=function(){return B},B=new(function(){function t(){_(this,t)}return t.prototype.run=function(){return u()},t}()),W=function(t,n){return new V(t,n)},V=function(){function t(n,e){_(this,t),this.time=n,this.value=e}return t.prototype.run=function(t,n){return Object(i.delay)(this.time,j(F,this.value,t),n)},t}();function F(t,n,e){e.event(t,n),e.end(t)}
/** @license MIT License (c) copyright 2010-2017 original author or authors */var z=function(t){return W(0,t)},U=function(t){return new G(t)},G=function(){function t(n){_(this,t),this.period=n}return t.prototype.run=function(t,n){return Object(i.periodic)(this.period,O(void 0,t),n)},t}(),Y=function(t){return new $(t)},$=function t(n){_(this,t),this.run=n},H=function(){function t(n){_(this,t),this.sink=n}return t.prototype.event=function(t,n){return this.sink.event(t,n)},t.prototype.end=function(t){return this.sink.end(t)},t.prototype.error=function(t,n){return this.sink.error(t,n)},t}(),K=function(t,n){var e=Math.max(0,t);return{min:e,max:Math.max(e,n)}},X=function(){function t(n,e){_(this,t),this.p=n,this.source=e}return t.prototype.run=function(t,n){return this.source.run(new J(this.p,t),n)},t.create=function(n,e){return P(e)?e:e instanceof t?new t(Q(e.p,n),e.source):new t(n,e)},t}(),J=function(t){function n(e,r){_(this,n);var i=T(this,t.call(this,r));return i.p=e,i}return x(n,t),n.prototype.event=function(t,n){(0,this.p)(n)&&this.sink.event(t,n)},n}(H),Q=function(t,n){return function(e){return t(e)&&n(e)}},Z=function(){function t(n,e,r){_(this,t),this.p=n,this.f=e,this.source=r}return t.prototype.run=function(t,n){return this.source.run(new tt(this.p,this.f,t),n)},t}(),tt=function(t){function n(e,r,i){_(this,n);var o=T(this,t.call(this,i));return o.p=e,o.f=r,o}return x(n,t),n.prototype.event=function(t,n){var e=this.f;(0,this.p)(n)&&this.sink.event(t,e(n))},n}(H),nt=function(){function t(n,e){_(this,t),this.f=n,this.source=e}return t.prototype.run=function(t,n){return this.source.run(new et(this.f,t),n)},t.create=function(n,e){return P(e)?L():e instanceof t?new t(Object(r.c)(n,e.f),e.source):e instanceof X?new Z(e.p,n,e.source):new t(n,e)},t}(),et=function(t){function n(e,r){_(this,n);var i=T(this,t.call(this,r));return i.f=e,i}return x(n,t),n.prototype.event=function(t,n){var e=this.f;this.sink.event(t,e(n))},n}(H),rt=function(){function t(){_(this,t),this.disposable=void 0,this.disposed=!1}return t.prototype.setDisposable=function(t){if(void 0!==this.disposable)throw new Error("setDisposable called more than once");this.disposable=t,this.disposed&&t.dispose()},t.prototype.dispose=function(){this.disposed||(this.disposed=!0,void 0!==this.disposable&&this.disposable.dispose())},t}(),it=function(t,n){return ut(0,t,n)},ot=function(t,n){return ut(t,1/0,n)},ut=function(t,n,e){return st(K(t,n),e)},st=function(t,n){return ct(t,n)?L():n instanceof nt?ht(t,n):n instanceof pt?ft(t,n):at(t,n)},ct=function(t,n){return P(n)||(e=t).min>=e.max;var e},at=function(t,n){return(e=t).min<=0&&e.max===1/0?n:new pt(t,n);var e},ht=function(t,n){return nt.create(n.f,st(t,n.source))},ft=function(t,n){return st((e=n.bounds,r=t,K(e.min+r.min,Math.min(e.max,e.min+r.max))),n.source);var e,r},pt=function(){function t(n,e){_(this,t),this.source=e,this.bounds=n}return t.prototype.run=function(t,n){var e=new rt,r=new lt(this.bounds.min,this.bounds.max-this.bounds.min,t,e);return e.setDisposable(this.source.run(r,n)),e},t}(),lt=function(t){function n(e,r,i,o){_(this,n);var u=T(this,t.call(this,i));return u.skip=e,u.take=r,u.disposable=o,u}return x(n,t),n.prototype.event=function(t,n){this.skip>0?this.skip-=1:0!==this.take&&(this.take-=1,this.sink.event(t,n),0===this.take&&(this.disposable.dispose(),this.sink.end(t)))},n}(H),dt=function(t,n){return P(n)?L():new vt(t,n)},vt=function(){function t(n,e){_(this,t),this.p=n,this.source=e}return t.prototype.run=function(t,n){var e=new rt,r=new yt(this.p,t,e);return e.setDisposable(this.source.run(r,n)),e},t}(),yt=function(t){function n(e,r,i){_(this,n);var o=T(this,t.call(this,r));return o.p=e,o.active=!0,o.disposable=i,o}return x(n,t),n.prototype.event=function(t,n){if(this.active){var e=this.p;this.active=e(n),this.active?this.sink.event(t,n):(this.disposable.dispose(),this.sink.end(t))}},n}(H),mt=function(t,n){return P(n)?L():new gt(t,n)},gt=function(){function t(n,e){_(this,t),this.p=n,this.source=e}return t.prototype.run=function(t,n){return this.source.run(new bt(this.p,t),n)},t}(),bt=function(t){function n(e,r){_(this,n);var i=T(this,t.call(this,r));return i.p=e,i.skipping=!0,i}return x(n,t),n.prototype.event=function(t,n){if(this.skipping){var e=this.p;if(this.skipping=e(n),this.skipping)return}this.sink.event(t,n)},n}(H),wt=function(t,n){return P(n)?L():new Mt(t,n)},Mt=function(){function t(n,e){_(this,t),this.p=n,this.source=e}return t.prototype.run=function(t,n){return this.source.run(new kt(this.p,t),n)},t}(),kt=function(t){function n(e,r){_(this,n);var i=T(this,t.call(this,r));return i.p=e,i.skipping=!1,i}return x(n,t),n.prototype.event=function(t,n){if(!this.skipping){var e=this.p;this.skipping=e(n),this.sink.event(t,n),this.skipping&&this.sink.end(t)}},n}(H),_t=function(t,n){return xt(Tt,t,n)},xt=function(t,n,e){return P(e)||0===n.length?L():new jt(t,n,it(n.length,e))},Tt=function(t,n){return t},jt=function(){function t(n,e,r){_(this,t),this.f=n,this.items=e,this.source=r}return t.prototype.run=function(t,n){return this.source.run(new Ot(this.f,this.items,t),n)},t}(),Ot=function(t){function n(e,r,i){_(this,n);var o=T(this,t.call(this,i));return o.f=e,o.items=r,o.index=0,o}return x(n,t),n.prototype.event=function(t,n){var e=this.f;this.sink.event(t,e(this.items[this.index],n)),this.index+=1},n}(H),Et=Object(r.d)(function(t,n){return new Promise(function(e,r){return function(t,n,e,r){var i=new rt,o=new Nt(e,r,i);i.setDisposable(t.run(o,n))}(t,n,e,r)})});
/** @license MIT License (c) copyright 2010-2016 original author or authors */var Nt=function(){function t(n,e,r){_(this,t),this._end=n,this._error=e,this._disposable=r,this.active=!0}return t.prototype.event=function(t,n){},t.prototype.end=function(t){this.active&&this._dispose(this._error,this._end,void 0)},t.prototype.error=function(t,n){this._dispose(this._error,this._error,n)},t.prototype._dispose=function(t,n,e){this.active=!1,function(t,n,e,r){try{r.dispose()}catch(n){return void t(n)}n(e)}
/** @license MIT License (c) copyright 2010-2017 original author or authors */(t,n,e,this._disposable)},t}();var At=function(t,n,e){return e.run(t,n)},St=function(){function t(n,e){_(this,t),this.sink=e,this.offset=n}return t.prototype.event=function(t,n){this.sink.event(t+this.offset,n)},t.prototype.error=function(t,n){this.sink.error(t+this.offset,n)},t.prototype.end=function(t){this.sink.end(t+this.offset)},t}(),Rt=function(t,n){return new It(t,n)},It=function(){function t(n,e){_(this,t),this.origin=n,this.source=e}return t.prototype.run=function(t,n){return this.source.run(Lt(this.origin,t),Object(i.schedulerRelativeTo)(this.origin,n))},t}(),Lt=function(t,n){return n instanceof St?new St(t+n.offset,n.sink):new St(t,n)},Pt=function(t,n,e){return P(e)?L():new Dt(t,n,e)},Dt=function(){function t(n,e,r){_(this,t),this.step=n,this.seed=e,this.source=r}return t.prototype.run=function(t,n){return this.source.run(new Ct(this.step,this.seed,t),n)},t}(),Ct=function(t){function n(e,r,i){_(this,n);var o=T(this,t.call(this,i));return o.step=e,o.seed=r,o}return x(n,t),n.prototype.event=function(t,n){var e=this.step(this.seed,n);this.seed=e.seed,this.sink.event(t,e.value)},n}(H),qt=function(t,n,e){return new Bt(t,n,e)},Bt=function(){function t(n,e,r){_(this,t),this.source=r,this.f=n,this.value=e}return t.prototype.run=function(t,n){var e=Object(i.asap)(O(this.value,t),n),r=this.source.run(new Wt(this.f,this.value,t),n);return f(e,r)},t}(),Wt=function(t){function n(e,r,i){_(this,n);var o=T(this,t.call(this,i));return o.f=e,o.value=r,o}return x(n,t),n.prototype.event=function(t,n){var e=this.f;this.value=e(this.value,n),this.sink.event(t,this.value)},n}(H),Vt=function(t,n){return new Ft(t,n)},Ft=function(){function t(n,e){_(this,t),this.f=n,this.source=e}return t.prototype.run=function(t,n){return new zt(this.f,this.source,t,n)},t}(),zt=function(t){function n(e,r,i,o){_(this,n);var u=T(this,t.call(this,i));return u.f=e,u.scheduler=o,u.active=!0,u.disposable=c(r.run(u,o)),u}return x(n,t),n.prototype.event=function(t,n){this.active&&this.sink.event(t,n)},n.prototype.end=function(t){this.active&&(w(t,this.disposable,this.sink),this._startNext(t,this.sink))},n.prototype._startNext=function(t,n){try{this.disposable=this._continue(this.f,t,n)}catch(e){n.error(t,e)}},n.prototype._continue=function(t,n,e){return At(e,this.scheduler,Rt(n,t()))},n.prototype.dispose=function(){return this.active=!1,this.disposable.dispose()},n}(H),Ut=function(t,n){return Vt(function(){return n},z(t))},Gt=function(t,n){return nt.create(t,n)},Yt=function(t,n){return Gt(function(){return t},n)},$t=function(t,n){return new Ht(t,n)},Ht=function(){function t(n,e){_(this,t),this.source=e,this.f=n}return t.prototype.run=function(t,n){return this.source.run(new Kt(this.f,t),n)},t}(),Kt=function(t){function n(e,r){_(this,n);var i=T(this,t.call(this,r));return i.f=e,i}return x(n,t),n.prototype.event=function(t,n){(0,this.f)(n),this.sink.event(t,n)},n}(H),Xt=function(t){function n(e,r){_(this,n);var i=T(this,t.call(this,r));return i.index=e,i.active=!0,i.value=void 0,i}return x(n,t),n.prototype.event=function(t,n){this.active&&(this.value=n,this.sink.event(t,this))},n.prototype.end=function(t){this.active&&(this.active=!1,this.sink.event(t,this))},n}(H);
/** @license MIT License (c) copyright 2010-2016 original author or authors */
function Jt(t,n){switch(n.length){case 0:return t();case 1:return t(n[0]);case 2:return t(n[0],n[1]);case 3:return t(n[0],n[1],n[2]);case 4:return t(n[0],n[1],n[2],n[3]);case 5:return t(n[0],n[1],n[2],n[3],n[4]);default:return t.apply(void 0,n)}}
/** @license MIT License (c) copyright 2010 original author or authors */var Qt=function(t,n,e){return Zt(t,[n,e])},Zt=function(t,n){return 0===n.length||D(n)?L():1===n.length?Gt(t,n[0]):new tn(t,n)},tn=function(){function t(n,e){_(this,t),this.f=n,this.sources=e}return t.prototype.run=function(t,n){for(var e,r=this.sources.length,i=new Array(r),o=new Array(r),u=new nn(i,o,t,this.f),s=0;s<r;++s)e=o[s]=new Xt(s,u),i[s]=this.sources[s].run(e,n);return h(i)},t}(),nn=function(t){function n(e,r,i,o){_(this,n);var u=T(this,t.call(this,i));u.disposables=e,u.sinks=r,u.f=o;var s=r.length;return u.awaiting=s,u.values=new Array(s),u.hasValue=new Array(s).fill(!1),u.activeCount=r.length,u}return x(n,t),n.prototype.event=function(t,n){if(n.active){var e=n.index,r=this._updateReady(e);this.values[e]=n.value,0===r&&this.sink.event(t,Jt(this.f,this.values))}else this._dispose(t,n.index)},n.prototype._updateReady=function(t){return this.awaiting>0&&(this.hasValue[t]||(this.hasValue[t]=!0,this.awaiting-=1)),this.awaiting},n.prototype._dispose=function(t,n){w(t,this.disposables[n],this.sink),0==--this.activeCount&&this.sink.end(t)},n}(H);
/** @license MIT License (c) copyright 2010-2016 original author or authors */
function en(t,n){return Qt(r.b,t,n)}
/** @license MIT License (c) copyright 2010 original author or authors */var rn=function(t,n){return on(r.g,t,n)},on=function(t,n,e){return P(e)?L():new un(t,n,e)},un=function(){function t(n,e,r){_(this,t),this.f=n,this.concurrency=e,this.source=r}return t.prototype.run=function(t,n){return new sn(this.f,this.concurrency,this.source,t,n)},t}(),sn=function(){function t(n,e,r,i,o){_(this,t),this.f=n,this.concurrency=e,this.sink=i,this.scheduler=o,this.pending=[],this.current=[],this.disposable=c(r.run(this,o)),this.active=!0}return t.prototype.event=function(t,n){this._addInner(t,n)},t.prototype._addInner=function(t,n){this.current.length<this.concurrency?this._startInner(t,n):this.pending.push(n)},t.prototype._startInner=function(t,n){try{this._initInner(t,n)}catch(n){this.error(t,n)}},t.prototype._initInner=function(t,n){var e=new an(t,this,this.sink);e.disposable=cn(this.f,t,n,e,this.scheduler),this.current.push(e)},t.prototype.end=function(t){this.active=!1,w(t,this.disposable,this.sink),this._checkEnd(t)},t.prototype.error=function(t,n){this.active=!1,this.sink.error(t,n)},t.prototype.dispose=function(){this.active=!1,this.pending.length=0,this.disposable.dispose(),h(this.current).dispose()},t.prototype._endInner=function(t,n){var e=this.current.indexOf(n);e>=0&&this.current.splice(e,1),w(t,n,this),0===this.pending.length?this._checkEnd(t):this._startInner(t,this.pending.shift())},t.prototype._checkEnd=function(t){this.active||0!==this.current.length||this.sink.end(t)},t}(),cn=function(t,n,e,r,o){return t(e).run(r,Object(i.schedulerRelativeTo)(n,o))},an=function(){function t(n,e,r){_(this,t),this.time=n,this.outer=e,this.sink=r,this.disposable=u()}return t.prototype.event=function(t,n){this.sink.event(t+this.time,n)},t.prototype.end=function(t){this.outer._endInner(t+this.time,this)},t.prototype.error=function(t,n){this.outer.error(t+this.time,n)},t.prototype.dispose=function(){return this.disposable.dispose()},t}(),hn=function(t,n){return on(t,1/0,n)},fn=function(t){return rn(1/0,t)},pn=function(t,n){return on(t,1,n)};
/** @license MIT License (c) copyright 2010-2016 original author or authors */
function ln(t,n){return dn([t,n])}var dn=function(t){return vn(yn(t))},vn=function(t){return 0===t.length?L():1===t.length?t[0]:new bn(Object(r.i)(gn,[],t))},yn=function(t){return t.filter(mn)},mn=function(t){return!P(t)},gn=function(t,n){return t.concat(n instanceof bn?n.sources:n)},bn=function(){function t(n){_(this,t),this.sources=n}return t.prototype.run=function(t,n){for(var e,r=this.sources.length,i=new Array(r),o=new Array(r),u=new wn(i,o,t),s=0;s<r;++s)e=o[s]=new Xt(s,u),i[s]=this.sources[s].run(e,n);return h(i)},t}(),wn=function(t){function n(e,r,i){_(this,n);var o=T(this,t.call(this,i));return o.disposables=e,o.activeCount=r.length,o}return x(n,t),n.prototype.event=function(t,n){n.active?this.sink.event(t,n.value):this._dispose(t,n.index)},n.prototype._dispose=function(t,n){w(t,this.disposables[n],this.sink),0==--this.activeCount&&this.sink.end(t)},n}(H),Mn=function(t,n){return kn(function(t,n){return t},t,n)},kn=function(t,n,e){return P(e)||P(n)?L():new _n(t,n,e)},_n=function(){function t(n,e,r){_(this,t),this.f=n,this.values=e,this.sampler=r}return t.prototype.run=function(t,n){var e=new xn(this.f,t),r=this.values.run(e.latest,n),i=this.sampler.run(e,n);return f(i,r)},t}(),xn=function(t){function n(e,r){_(this,n);var i=T(this,t.call(this,r));return i.f=e,i.latest=new Tn(i),i}return x(n,t),n.prototype.event=function(t,n){if(this.latest.hasValue){var e=this.f;this.sink.event(t,e(this.latest.value,n))}},n}(H),Tn=function(t){function n(e){_(this,n);var r=T(this,t.call(this,e));return r.hasValue=!1,r}return x(n,t),n.prototype.event=function(t,n){this.value=n,this.hasValue=!0},n.prototype.end=function(){},n}(H),jn=function(){function t(){_(this,t),this._head=0,this._tail=0,this._capacityMask=3,this._list=new Array(4)}return t.prototype.push=function(t){var n=this._tail;return this._list[n]=t,this._tail=n+1&this._capacityMask,this._tail===this._head&&this._growArray(),this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},t.prototype.shift=function(){var t=this._head;if(t!==this._tail){var n=this._list[t];return this._list[t]=void 0,this._head=t+1&this._capacityMask,t<2&&this._tail>1e4&&this._tail<=this._list.length>>>2&&this._shrinkArray(),n}},t.prototype.isEmpty=function(){return this._head===this._tail},t.prototype.length=function(){return this._head===this._tail?0:this._head<this._tail?this._tail-this._head:this._capacityMask+1-(this._head-this._tail)},t.prototype._growArray=function(){this._head&&(this._list=this._copyArray(),this._head=0),this._tail=this._list.length,this._list.length*=2,this._capacityMask=this._capacityMask<<1|1},t.prototype._shrinkArray=function(){this._list.length>>>=1,this._capacityMask>>>=1},t.prototype._copyArray=function(){var t=[],n=this._list,e=n.length,r=void 0;for(r=this._head;r<e;r++)t.push(n[r]);for(r=0;r<this._tail;r++)t.push(n[r]);return t},t}();
/** @license MIT License (c) copyright 2010 original author or authors */
function On(t,n,e){return En(t,[n,e])}var En=function(t,n){return 0===n.length||D(n)?L():1===n.length?Gt(t,n[0]):new Nn(t,n)},Nn=function(){function t(n,e){_(this,t),this.f=n,this.sources=e}return t.prototype.run=function(t,n){for(var e,r=this.sources.length,i=new Array(r),o=new Array(r),u=new Array(r),s=new An(this.f,u,o,t),c=0;c<r;++c)u[c]=new jn,e=o[c]=new Xt(c,s),i[c]=this.sources[c].run(e,n);return h(i)},t}(),An=function(t){function n(e,r,i,o){_(this,n);var u=T(this,t.call(this,o));return u.f=e,u.sinks=i,u.buffers=r,u}return x(n,t),n.prototype.event=function(t,n){if(n.active){var e=this.buffers,r=e[n.index];if(r.push(n.value),1===r.length()){if(!function(t){for(var n=0,e=t.length;n<e;++n)if(t[n].isEmpty())return!1;return!0}
/** @license MIT License (c) copyright 2010-2016 original author or authors */(this.buffers))return;Sn(this.f,t,e,this.sink),function(t,n){for(var e=0,r=t.length;e<r;++e)if(t[e].isEmpty()&&!n[e].active)return!0;return!1}(this.buffers,this.sinks)&&this.sink.end(t)}}else this._dispose(t,n.index)},n.prototype._dispose=function(t,n){this.buffers[n].isEmpty()&&this.sink.end(t)},n}(H),Sn=function(t,n,e,i){return i.event(n,Jt(t,Object(r.h)(Rn,e)))},Rn=function(t){return t.shift()};var In=function(t){return P(t)?L():new Ln(t)},Ln=function(){function t(n){_(this,t),this.source=n}return t.prototype.run=function(t,n){var e=new Pn(t,n);return f(e,this.source.run(e,n))},t}(),Pn=function(){function t(n,e){_(this,t),this.sink=n,this.scheduler=e,this.current=null,this.ended=!1}return t.prototype.event=function(t,n){this._disposeCurrent(t),this.current=new Dn(n,t,1/0,this,this.sink,this.scheduler)},t.prototype.end=function(t){this.ended=!0,this._checkEnd(t)},t.prototype.error=function(t,n){this.ended=!0,this.sink.error(t,n)},t.prototype.dispose=function(){return this._disposeCurrent(Object(i.currentTime)(this.scheduler))},t.prototype._disposeCurrent=function(t){if(null!==this.current)return this.current._dispose(t)},t.prototype._disposeInner=function(t,n){n._dispose(t),n===this.current&&(this.current=null)},t.prototype._checkEnd=function(t){this.ended&&null===this.current&&this.sink.end(t)},t.prototype._endInner=function(t,n){this._disposeInner(t,n),this._checkEnd(t)},t.prototype._errorInner=function(t,n,e){this._disposeInner(t,e),this.sink.error(t,n)},t}(),Dn=function(){function t(n,e,r,o,u,s){_(this,t),this.min=e,this.max=r,this.outer=o,this.sink=u,this.disposable=n.run(this,Object(i.schedulerRelativeTo)(e,s))}return t.prototype.event=function(t,n){var e=Math.max(0,t+this.min);e<this.max&&this.sink.event(e,n)},t.prototype.end=function(t){this.outer._endInner(t+this.min,this)},t.prototype.error=function(t,n){this.outer._errorInner(t+this.min,n,this)},t.prototype._dispose=function(t){w(t,this.disposable,this.sink)},t}(),Cn=function(t,n){return X.create(t,n)},qn=function(t){return Bn(Fn,t)},Bn=function(t,n){return P(n)?L():new Wn(t,n)},Wn=function(){function t(n,e){_(this,t),this.equals=n,this.source=e}return t.prototype.run=function(t,n){return this.source.run(new Vn(this.equals,t),n)},t}(),Vn=function(t){function n(e,r){_(this,n);var i=T(this,t.call(this,r));return i.equals=e,i.value=void 0,i.init=!0,i}return x(n,t),n.prototype.event=function(t,n){this.init?(this.init=!1,this.value=n,this.sink.event(t,n)):this.equals(this.value,n)||(this.value=n,this.sink.event(t,n))},n}(H);function Fn(t,n){return t===n}
/** @license MIT License (c) copyright 2010-2016 original author or authors */var zn=function(t,n){return new Yn(t,n)},Un=function(t,n){return new $n(t,n)},Gn=function(t,n){return zn(fn(t),Un(t,n))},Yn=function(){function t(n,e){_(this,t),this.maxSignal=n,this.source=e}return t.prototype.run=function(t,n){var e=new rt,r=this.source.run(t,n),i=this.maxSignal.run(new Xn(t,e),n);return e.setDisposable(f(r,i)),e},t}(),$n=function(){function t(n,e){_(this,t),this.minSignal=n,this.source=e}return t.prototype.run=function(t,n){var e=new Kn(this.minSignal,t,n),r=this.source.run(new Hn(e,t),n);return f(e,r)},t}(),Hn=function(t){function n(e,r){_(this,n);var i=T(this,t.call(this,r));return i.min=e,i}return x(n,t),n.prototype.event=function(t,n){this.min.allow&&this.sink.event(t,n)},n}(H),Kn=function(t){function n(e,r,i){_(this,n);var o=T(this,t.call(this,r));return o.allow=!1,o.disposable=e.run(o,i),o}return x(n,t),n.prototype.event=function(){this.allow=!0,this.dispose()},n.prototype.end=function(){},n.prototype.dispose=function(){this.disposable.dispose()},n}(H),Xn=function(t){function n(e,r){_(this,n);var i=T(this,t.call(this,e));return i.disposable=r,i}return x(n,t),n.prototype.event=function(t,n){this.disposable.dispose(),this.sink.end(t)},n.prototype.end=function(){},n}(H),Jn=function(t,n){return t<=0?n:new Qn(t,n)},Qn=function(){function t(n,e){_(this,t),this.dt=n,this.source=e}return t.prototype.run=function(t,n){var e=new Zn(this.dt,t,n);return f(e,this.source.run(e,n))},t}(),Zn=function(t){function n(e,r,i){_(this,n);var o=T(this,t.call(this,r));return o.dt=e,o.scheduler=i,o.tasks=[],o}return x(n,t),n.prototype.dispose=function(){this.tasks.forEach(i.cancelTask)},n.prototype.event=function(t,n){this.tasks.push(Object(i.delay)(this.dt,O(n,this.sink),this.scheduler))},n.prototype.end=function(t){this.tasks.push(Object(i.delay)(this.dt,E(this.sink),this.scheduler))},n}(H),te=function(t,n){return P(n)?L():n instanceof nt?ne(t,n):n instanceof re?ee(t,n):new re(t,n)},ne=function(t,n){return nt.create(n.f,te(t,n.source))},ee=function(t,n){return new re(Math.max(t,n.period),n.source)},re=function(){function t(n,e){_(this,t),this.period=n,this.source=e}return t.prototype.run=function(t,n){return this.source.run(new ie(this.period,t),n)},t}(),ie=function(t){function n(e,r){_(this,n);var i=T(this,t.call(this,r));return i.time=0,i.period=e,i}return x(n,t),n.prototype.event=function(t,n){t>=this.time&&(this.time=t+this.period,this.sink.event(t,n))},n}(H),oe=function(t,n){return P(n)?L():new ue(t,n)},ue=function(){function t(n,e){_(this,t),this.dt=n,this.source=e}return t.prototype.run=function(t,n){return new se(this.dt,this.source,t,n)},t}(),se=function(){function t(n,e,r,i){_(this,t),this.dt=n,this.sink=r,this.scheduler=i,this.value=void 0,this.timer=null,this.disposable=e.run(this,i)}return t.prototype.event=function(t,n){this._clearTimer(),this.value=n,this.timer=Object(i.delay)(this.dt,new ce(this,n),this.scheduler)},t.prototype._event=function(t,n){this._clearTimer(),this.sink.event(t,n)},t.prototype.end=function(t){this._clearTimer()&&(this.sink.event(t,this.value),this.value=void 0),this.sink.end(t)},t.prototype.error=function(t,n){this._clearTimer(),this.sink.error(t,n)},t.prototype.dispose=function(){this._clearTimer(),this.disposable.dispose()},t.prototype._clearTimer=function(){return null!==this.timer&&(this.timer.dispose(),this.timer=null,!0)},t}(),ce=function(){function t(n,e){_(this,t),this.debounce=n,this.value=e}return t.prototype.run=function(t){this.debounce._event(t,this.value)},t.prototype.error=function(t,n){this.debounce.error(t,n)},t.prototype.dispose=function(){},t}(),ae=function(t){return P(t)?L():new fe(t)},he=Object(r.c)(ae,z),fe=function(){function t(n){_(this,t),this.source=n}return t.prototype.run=function(t,n){return this.source.run(new pe(t,n),n)},t}(),pe=function(){function t(n,e){var r=this;_(this,t),this.sink=n,this.scheduler=e,this.queue=Promise.resolve(),this._eventBound=function(t){return r.sink.event(Object(i.currentTime)(r.scheduler),t)},this._endBound=function(){return r.sink.end(Object(i.currentTime)(r.scheduler))},this._errorBound=function(t){return r.sink.error(Object(i.currentTime)(r.scheduler),t)}}return t.prototype.event=function(t,n){var e=this;this.queue=this.queue.then(function(){return e._event(n)}).catch(this._errorBound)},t.prototype.end=function(t){this.queue=this.queue.then(this._endBound).catch(this._errorBound)},t.prototype.error=function(t,n){var e=this;this.queue=this.queue.then(function(){return e._errorBound(n)}).catch(M)},t.prototype._event=function(t){return t.then(this._eventBound)},t}(),le=function(){function t(n){_(this,t),this.sink=n,this.active=!0}return t.prototype.event=function(t,n){this.active&&this.sink.event(t,n)},t.prototype.end=function(t,n){this.active&&(this.disable(),this.sink.end(t,n))},t.prototype.error=function(t,n){this.disable(),this.sink.error(t,n)},t.prototype.disable=function(){return this.active=!1,this.sink},t}();
/** @license MIT License (c) copyright 2010-2016 original author or authors */
function de(t,n,e){try{e.event(t,n)}catch(n){e.error(t,n)}}function ve(t,n){try{n.end(t)}catch(e){n.error(t,e)}}
/** @license MIT License (c) copyright 2010-2016 original author or authors */var ye=function(t,n){return P(n)?L():new be(t,n)},me=function(t){return new ge(t)},ge=function(){function t(n){_(this,t),this.value=n}return t.prototype.run=function(t,n){return Object(i.asap)(N(this.value,t),n)},t}(),be=function(){function t(n,e){_(this,t),this.f=n,this.source=e}return t.prototype.run=function(t,n){return new we(this.f,this.source,t,n)},t}(),we=function(){function t(n,e,r,i){_(this,t),this.f=n,this.sink=new le(r),this.scheduler=i,this.disposable=e.run(this,i)}return t.prototype.event=function(t,n){de(t,n,this.sink)},t.prototype.end=function(t){ve(t,this.sink)},t.prototype.error=function(t,n){var e=this.sink.disable();w(t,this.disposable,this.sink),this._startNext(t,n,e)},t.prototype._startNext=function(t,n,e){try{this.disposable=this._continue(this.f,t,n,e)}catch(n){e.error(t,n)}},t.prototype._continue=function(t,n,e,r){return At(r,this.scheduler,Rt(n,t(e)))},t.prototype.dispose=function(){return this.disposable.dispose()},t}(),Me=function(t){return t instanceof ke||P(t)?t:new ke(t)},ke=function(){function t(n){_(this,t),this.source=new _e(n)}return t.prototype.run=function(t,n){return this.source.run(t,n)},t}(),_e=function(){function t(n){_(this,t),this.source=n,this.sinks=[],this.disposable=u()}return t.prototype.run=function(t,n){return 1===this.add(t)&&(this.disposable=this.source.run(this,n)),c(new xe(this,t))},t.prototype.dispose=function(){var t=this.disposable;return this.disposable=u(),t.dispose()},t.prototype.add=function(t){return this.sinks=Object(r.a)(t,this.sinks),this.sinks.length},t.prototype.remove=function(t){var n=Object(r.f)(t,this.sinks);return n>=0&&(this.sinks=Object(r.j)(n,this.sinks)),this.sinks.length},t.prototype.event=function(t,n){var e=this.sinks;if(1===e.length)return e[0].event(t,n);for(var r=0;r<e.length;++r)de(t,n,e[r])},t.prototype.end=function(t){for(var n=this.sinks,e=0;e<n.length;++e)ve(t,n[e])},t.prototype.error=function(t,n){for(var e=this.sinks,r=0;r<e.length;++r)e[r].error(t,n)},t}(),xe=function(){function t(n,e){_(this,t),this.source=n,this.sink=e}return t.prototype.dispose=function(){0===this.source.remove(this.sink)&&this.source.dispose()},t}(),Te=Object(r.e)(xt),je=Object(r.d)(_t),Oe=Object(r.d)(Et),Ee=Object(r.e)(At),Ne=Object(r.d)(Rt),Ae=Object(r.e)(Pt),Se=Object(r.e)(qt),Re=Object(r.d)(Ut),Ie=Object(r.d)(Gt),Le=Object(r.d)(Yt),Pe=Object(r.d)($t),De=Object(r.d)(en),Ce=Object(r.d)(hn),qe=Object(r.d)(Vt),Be=Object(r.d)(pn),We=Object(r.d)(rn),Ve=Object(r.e)(on),Fe=Object(r.d)(ln),ze=Object(r.e)(Qt),Ue=Object(r.d)(Zt),Ge=Object(r.d)(Mn),Ye=Object(r.e)(kn),$e=Object(r.e)(On),He=Object(r.d)(En),Ke=Object(r.d)(Cn),Xe=Object(r.d)(Bn),Je=Object(r.d)(it),Qe=Object(r.d)(ot),Ze=Object(r.e)(ut),tr=Object(r.d)(dt),nr=Object(r.d)(mt),er=Object(r.d)(wt),rr=Object(r.d)(zn),ir=Object(r.d)(Un),or=Object(r.d)(Gn),ur=Object(r.d)(Jn),sr=Object(r.d)(te),cr=Object(r.d)(oe),ar=Object(r.d)(ye),hr=Object(r.e)(j),fr=Object(r.d)(O),pr=Object(r.d)(N)},function(t,n,e){function r(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var u,s=t[Symbol.iterator]();!(r=(u=s.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=e(4),o=e(8),u=e(20),s=e(5),c=s.periodic,a=s.constant,h=s.scan,f=s.filter,p=s.continueWith,l=s.at,d=s.skip,v=s.join,y=s.take,m=s.merge,g=s.startWith,b=s.map,w=s.recoverWith,M=s.throwError,k=s.multicast,_=s.chain,x=s.during,T=s.now,j=s.loop,O=s.sample,E=s.tap,N=e(2),A=N.newDefaultScheduler,S=N.currentTime,R=e(33).last,I=e(22),L=I.create,P=I.event,D=I.end,C=i.curry(function(t,n){return t===i.view(i.lensProp("eventTypeId"),n)}),q=i.map(function(t){return[C(t),i.T]}),B=i.compose(i.filter,i.cond),W=i.ifElse(i.is(String),i.prop,i.path),V=i.curry(function(t,n,e){var r=Date.now(),u=new o(n,t,r,r);return u=i.assoc("matchingSet",e,u)}),F=i.reduce(i.min,1/0),z=i.reduce(i.max,-1/0),U=function(t){return f(function(t){return-1!==t},h(function(t,n){return t+n},-1,a(1,d(1,c(t)))))},G=function(t){return b(function(n){return g(n,t)},y(1,t))},Y=i.curry(function(t,n){return w(function(e){return t<=0?M(e):Y(t-1,n)},n)});t.exports={compareEvtType:C,predEvtTypeList:q,filterEvtsByEvtTypes:B,getLens:function(t){return i.ifElse(i.is(String),i.lensProp,i.lensPath)(t)},getProp:W,deriveEvt:V,isWindow:function(t){if(i.is(Array,t))return!0;throw new Error("This operation must be preceded by a window operator")},evtTypeListLengthOne:function(t){if(t.length>1)return!0;throw new Error("The event type list must have more than one element")},AccHelper:function(t,n){this.result=t,this.set=n},minFn:F,maxFn:z,flatStream:function(t){return i.is(u,t)?t.stream:t},timer:function(t,n){t=i.is(Date,t)?t.getTime()-(new Date).getTime():t;var e=l(t,0);return n?p(function(){return b(function(t){return t+1},U(n))},e):e},interval:U,race:function(t,n){return v(y(1,m(G(t),G(n))))},retry:Y,bufferCount:function(){var t=arguments[0],n=arguments.length>2?Math.abs(arguments[1]):t,e=arguments.length>2?k(arguments[2]):k(arguments[1]);return f(function(n){return n.length===t&&0!==n.length},h(function(e,r){return e.length>=t&&e.length%n==0?e.slice(n).concat(r):e.concat(r)},[],e))},bufferTime:function(){var t=a(l(arguments[0]),T()),n=arguments.length>2?U(arguments[1]):U(arguments[0]),e=arguments.length>2?k(arguments[2]):k(arguments[1]),i=function(t,n){return t.concat(n)};if(arguments.length>2)return m(R(h(i,[],x(t,e))),_(function(n){return R(h(i,[],x(t,e)))},n));var o=r(L(),2),u=o[0],s=o[1],c=A(),d={streamClosed:!1,buffer:[]},v=j(function(t,n){return t.buffer.push(n),{seed:t,value:t.buffer}},d,p(function(){return f(function(t){return t},E(function(t){return d.streamClosed=!0},T()))},e)),y=setInterval(function(){P(S(c),void 0,u)},arguments[0]);return E(function(t){d.streamClosed?(clearInterval(y),D(S(c),u)):d.buffer=[]},O(v,s))},bufferToggle:function(t,n,e){t=k(t),e=k(e);var r=a(n,t),i=f(function(t){return t.length>0},h(function(t,n){return t.concat(n)},[],x(r,e)));return m(R(i),_(function(t){return R(i)},t))}}},function(t,n,e){"use strict";if(t.exports)var r=e(13);if(t.exports)var i=e(9);function o(t,n,e){if(!(this instanceof o))return new o(t,n,e);void 0===e&&(e=o.datum.WGS84),this.lat=Number(t),this.lon=Number(n),this.datum=e}o.ellipsoid={WGS84:{a:6378137,b:6356752.314245,f:1/298.257223563},Airy1830:{a:6377563.396,b:6356256.909,f:1/299.3249646},AiryModified:{a:6377340.189,b:6356034.448,f:1/299.3249646},Bessel1841:{a:6377397.155,b:6356078.962818,f:1/299.1528128},Clarke1866:{a:6378206.4,b:6356583.8,f:1/294.978698214},Clarke1880IGN:{a:6378249.2,b:6356515,f:1/293.466021294},GRS80:{a:6378137,b:6356752.31414,f:1/298.257222101},Intl1924:{a:6378388,b:6356911.946,f:1/297},WGS72:{a:6378135,b:6356750.5,f:1/298.26}},o.datum={ED50:{ellipsoid:o.ellipsoid.Intl1924,transform:[89.5,93.8,123.1,-1.2,0,0,.156]},Irl1975:{ellipsoid:o.ellipsoid.AiryModified,transform:[-482.53,130.596,-564.557,-8.15,-1.042,-.214,-.631]},NAD27:{ellipsoid:o.ellipsoid.Clarke1866,transform:[8,-160,-176,0,0,0,0]},NAD83:{ellipsoid:o.ellipsoid.GRS80,transform:[1.004,-1.91,-.515,-.0015,.0267,34e-5,.011]},NTF:{ellipsoid:o.ellipsoid.Clarke1880IGN,transform:[168,60,-320,0,0,0,0]},OSGB36:{ellipsoid:o.ellipsoid.Airy1830,transform:[-446.448,125.157,-542.06,20.4894,-.1502,-.247,-.8421]},Potsdam:{ellipsoid:o.ellipsoid.Bessel1841,transform:[-582,-105,-414,-8.3,1.04,.35,-3.08]},TokyoJapan:{ellipsoid:o.ellipsoid.Bessel1841,transform:[148,-507,-685,0,0,0,0]},WGS72:{ellipsoid:o.ellipsoid.WGS72,transform:[0,0,-4.5,-.22,0,0,.554]},WGS84:{ellipsoid:o.ellipsoid.WGS84,transform:[0,0,0,0,0,0,0]}},o.prototype.convertDatum=function(t){var n=this,e=null;if(n.datum==o.datum.WGS84&&(e=t.transform),t==o.datum.WGS84){e=[];for(var r=0;r<7;r++)e[r]=-n.datum.transform[r]}return null==e&&(n=this.convertDatum(o.datum.WGS84),e=t.transform),n.toCartesian().applyTransform(e).toLatLonE(t)},o.prototype.toCartesian=function(){var t=this.lat.toRadians(),n=this.lon.toRadians(),e=this.datum.ellipsoid.a,i=this.datum.ellipsoid.f,o=Math.sin(t),u=Math.cos(t),s=Math.sin(n),c=Math.cos(n),a=2*i-i*i,h=e/Math.sqrt(1-a*o*o);return new r((h+0)*u*c,(h+0)*u*s,(h*(1-a)+0)*o)},r.prototype.toLatLonE=function(t){var n=this.x,e=this.y,r=this.z,i=t.ellipsoid.a,u=t.ellipsoid.b,s=t.ellipsoid.f,c=2*s-s*s,a=c/(1-c),h=Math.sqrt(n*n+e*e),f=u*r/(i*h)*(1+a*u/Math.sqrt(h*h+r*r)),p=f/Math.sqrt(1+f*f),l=p/f,d=isNaN(l)?0:Math.atan2(r+a*u*p*p*p,h-c*i*l*l*l),v=Math.atan2(e,n),y=Math.sin(d);Math.cos(d),Math.sqrt(1-c*y*y);return new o(d.toDegrees(),v.toDegrees(),t)},r.prototype.applyTransform=function(t){var n=this.x,e=this.y,i=this.z,o=t[0],u=t[1],s=t[2],c=t[3]/1e6+1,a=(t[4]/3600).toRadians(),h=(t[5]/3600).toRadians(),f=(t[6]/3600).toRadians();return new r(o+n*c-e*f+i*h,u+n*f+e*c-i*a,s-n*h+e*a+i*c)},o.prototype.toString=function(t,n){return i.toLat(this.lat,t,n)+", "+i.toLon(this.lon,t,n)},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),t.exports&&(t.exports=o,t.exports.Vector3d=r)},function(t,n){t.exports=function t(n,e){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.eventTypeId=n,this.eventSource=e,this.occurrenceTime=r,this.detectionTime=i}},function(t,n,e){"use strict";var r={parseDMS:function(t){if("number"==typeof t&&isFinite(t))return Number(t);var n,e=String(t).trim().replace(/^-/,"").replace(/[NSEW]$/i,"").split(/[^0-9.,]+/);if(""==e[e.length-1]&&e.splice(e.length-1),""==e)return NaN;switch(e.length){case 3:n=e[0]/1+e[1]/60+e[2]/3600;break;case 2:n=e[0]/1+e[1]/60;break;case 1:n=e[0];break;default:return NaN}return/^-|[WS]$/i.test(t.trim())&&(n=-n),Number(n)},separator:"",toDMS:function(t,n,e){if(isNaN(t))return null;if(void 0===n&&(n="dms"),void 0===e)switch(n){case"d":case"deg":e=4;break;case"dm":case"deg+min":e=2;break;case"dms":case"deg+min+sec":e=0;break;default:n="dms",e=0}var i,o,u,s;switch(t=Math.abs(t),n){default:case"d":case"deg":(o=t.toFixed(e))<100&&(o="0"+o),o<10&&(o="0"+o),i=o+"°";break;case"dm":case"deg+min":o=Math.floor(t),60==(u=(60*t%60).toFixed(e))&&(u=0,o++),u<10&&(u="0"+u),i=(o=("000"+o).slice(-3))+"°"+r.separator+u+"′";break;case"dms":case"deg+min+sec":o=Math.floor(t),u=Math.floor(3600*t/60)%60,60==(s=(3600*t%60).toFixed(e))&&(s=(0).toFixed(e),u++),60==u&&(u=0,o++),o=("000"+o).slice(-3),u=("00"+u).slice(-2),s<10&&(s="0"+s),i=o+"°"+r.separator+u+"′"+r.separator+s+"″"}return i},toLat:function(t,n,e){var i=r.toDMS(t,n,e);return null===i?"–":i.slice(1)+r.separator+(t<0?"S":"N")},toLon:function(t,n,e){var i=r.toDMS(t,n,e);return null===i?"–":i+r.separator+(t<0?"W":"E")},toBrng:function(t,n,e){t=(Number(t)+360)%360;var i=r.toDMS(t,n,e);return null===i?"–":i.replace("360","0")},compassPoint:function(t,n){void 0===n&&(n=3),t=(t%360+360)%360;var e=4*Math.pow(2,n-1);return["N","NNE","NE","ENE","E","ESE","SE","SSE","S","SSW","SW","WSW","W","WNW","NW","NNW"][Math.round(t*e/360)%e*16/e]}};t.exports&&(t.exports=r)},function(t,n,e){var r=e(4),i=e(36),o=e(39),u=e(41),s=e(21),c=e(16),a=r.lensProp("occurrenceTime"),h=r.lensProp("detectionTime"),f=r.prop("occurrenceTime"),p=r.prop("detectionTime");t.exports={occTimeLens:a,detcTimeLens:h,occProp:f,detcProp:p,recurrence:s,ordering:c,getRecurrenceMilliseconds:function(t,n){return r.cond([[r.equals(s.DAYLY),r.always(864e5)],[r.equals(s.WEEKLY),r.always(6048e5)],[r.equals(s.MONTHLY),r.always(864e5*i(t))],[r.equals(s.YEARLY),r.always(864e5*o(t))],[r.T,r.always(0)]])(n)},getPropOrderPolicy:function(t){return r.cond([[r.equals(u.OCCURRENCE_TIME),r.always(f)],[r.equals(u.DETECTION_TIME),r.always(p)],[r.T,r.always(null)]])(t)}}},function(t,n,e){function r(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var u,s=t[Symbol.iterator]();!(r=(u=s.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=e(2),o=i.newDefaultScheduler,u=i.currentTime,s=e(5),c=s.runEffects,a=s.tap,h=s.until,f=e(22),p=f.create,l=f.event,d=e(17),v=d.Point,y=d.hemisphere;t.exports={Point:v,hemisphere:y,composeLeft:function(t,n){for(var e=0,r=t.stream;e<n.length;)r=n[e](r),e++;return r},run:function(t,n){var e=r(p(),2),i=e[0],s=e[1];return c(h(s,a(n.next,t.stream)),o()).then(function(){n.complete&&n.complete()},function(t){n.error&&n.error(t)}),{unsubscribe:function(){return l(u(o()),void 0,i)}}}}},function(t,n){var e,r,i=t.exports={};function o(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function s(t){if(e===setTimeout)return setTimeout(t,0);if((e===o||!e)&&setTimeout)return e=setTimeout,setTimeout(t,0);try{return e(t,0)}catch(n){try{return e.call(null,t,0)}catch(n){return e.call(this,t,0)}}}!function(){try{e="function"==typeof setTimeout?setTimeout:o}catch(t){e=o}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(t){r=u}}();var c,a=[],h=!1,f=-1;function p(){h&&c&&(h=!1,c.length?a=c.concat(a):f=-1,a.length&&l())}function l(){if(!h){var t=s(p);h=!0;for(var n=a.length;n;){for(c=a,a=[];++f<n;)c&&c[f].run();f=-1,n=a.length}c=null,h=!1,function(t){if(r===clearTimeout)return clearTimeout(t);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(t);try{r(t)}catch(n){try{return r.call(null,t)}catch(n){return r.call(this,t)}}}(t)}}function d(t,n){this.fun=t,this.array=n}function v(){}i.nextTick=function(t){var n=new Array(arguments.length-1);if(arguments.length>1)for(var e=1;e<arguments.length;e++)n[e-1]=arguments[e];a.push(new d(t,n)),1!==a.length||h||s(l)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(t){return[]},i.binding=function(t){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(t){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,n,e){"use strict";function r(t,n,e){if(!(this instanceof r))return new r(t,n,e);this.x=Number(t),this.y=Number(n),this.z=Number(e)}r.prototype.plus=function(t){if(!(t instanceof r))throw new TypeError("v is not Vector3d object");return new r(this.x+t.x,this.y+t.y,this.z+t.z)},r.prototype.minus=function(t){if(!(t instanceof r))throw new TypeError("v is not Vector3d object");return new r(this.x-t.x,this.y-t.y,this.z-t.z)},r.prototype.times=function(t){return t=Number(t),new r(this.x*t,this.y*t,this.z*t)},r.prototype.dividedBy=function(t){return t=Number(t),new r(this.x/t,this.y/t,this.z/t)},r.prototype.dot=function(t){if(!(t instanceof r))throw new TypeError("v is not Vector3d object");return this.x*t.x+this.y*t.y+this.z*t.z},r.prototype.cross=function(t){if(!(t instanceof r))throw new TypeError("v is not Vector3d object");return new r(this.y*t.z-this.z*t.y,this.z*t.x-this.x*t.z,this.x*t.y-this.y*t.x)},r.prototype.negate=function(){return new r(-this.x,-this.y,-this.z)},r.prototype.length=function(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)},r.prototype.unit=function(){var t=this.length();return 1==t?this:0==t?this:new r(this.x/t,this.y/t,this.z/t)},r.prototype.angleTo=function(t,n){if(!(t instanceof r))throw new TypeError("v is not Vector3d object");if(!(n instanceof r||null==n))throw new TypeError("n is not Vector3d object");var e=null==n?1:Math.sign(this.cross(t).dot(n)),i=this.cross(t).length()*e,o=this.dot(t);return Math.atan2(i,o)},r.prototype.rotateAround=function(t,n){if(!(t instanceof r))throw new TypeError("axis is not Vector3d object");for(var e=this.unit(),i=[e.x,e.y,e.z],o=t.unit(),u=Math.sin(n),s=Math.cos(n),c=[[o.x*o.x*(1-s)+s,o.x*o.y*(1-s)-o.z*u,o.x*o.z*(1-s)+o.y*u],[o.y*o.x*(1-s)+o.z*u,o.y*o.y*(1-s)+s,o.y*o.z*(1-s)-o.x*u],[o.z*o.x*(1-s)-o.y*u,o.z*o.y*(1-s)+o.x*u,o.z*o.z*(1-s)+s]],a=[0,0,0],h=0;h<3;h++)for(var f=0;f<3;f++)a[h]+=c[h][f]*i[f];return new r(a[0],a[1],a[2])},r.prototype.toString=function(t){var n=void 0===t?3:Number(t);return"["+this.x.toFixed(n)+","+this.y.toFixed(n)+","+this.z.toFixed(n)+"]"},void 0===Math.sign&&(Math.sign=function(t){return 0===(t=+t)||isNaN(t)?t:t>0?1:-1}),t.exports&&(t.exports=r)},function(t,n,e){"use strict";
/** @license MIT License (c) copyright 2018 original author or authors */Object.defineProperty(n,"__esModule",{value:!0});var r=e(2),i=e(35);n.fromArray=function(t){return new o(t)};var o=function(){function t(t){this.a=t}return t.prototype.run=function(t,n){return r.asap(new i.ArrayTask(this.a,t),n)},t}()},function(t,n,e){var r=e(37),i=e(38),o=36e5,u=6e4,s=2,c=/[T ]/,a=/:/,h=/^(\d{2})$/,f=[/^([+-]\d{2})$/,/^([+-]\d{3})$/,/^([+-]\d{4})$/],p=/^(\d{4})/,l=[/^([+-]\d{4})/,/^([+-]\d{5})/,/^([+-]\d{6})/],d=/^-(\d{2})$/,v=/^-?(\d{3})$/,y=/^-?(\d{2})-?(\d{2})$/,m=/^-?W(\d{2})$/,g=/^-?W(\d{2})-?(\d{1})$/,b=/^(\d{2}([.,]\d*)?)$/,w=/^(\d{2}):?(\d{2}([.,]\d*)?)$/,M=/^(\d{2}):?(\d{2}):?(\d{2}([.,]\d*)?)$/,k=/([Z+-].*)$/,_=/^(Z)$/,x=/^([+-])(\d{2})$/,T=/^([+-])(\d{2}):?(\d{2})$/;function j(t,n,e){n=n||0,e=e||0;var r=new Date(0);r.setUTCFullYear(t,0,4);var i=7*n+e+1-(r.getUTCDay()||7);return r.setUTCDate(r.getUTCDate()+i),r}t.exports=function(t,n){if(i(t))return new Date(t.getTime());if("string"!=typeof t)return new Date(t);var e=(n||{}).additionalDigits;e=null==e?s:Number(e);var O=function(t){var n,e={},r=t.split(c);if(a.test(r[0])?(e.date=null,n=r[0]):(e.date=r[0],n=r[1]),n){var i=k.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}(t),E=function(t,n){var e,r=f[n],i=l[n];if(e=p.exec(t)||i.exec(t)){var o=e[1];return{year:parseInt(o,10),restDateString:t.slice(o.length)}}if(e=h.exec(t)||r.exec(t)){var u=e[1];return{year:100*parseInt(u,10),restDateString:t.slice(u.length)}}return{year:null}}(O.date,e),N=E.year,A=function(t,n){if(null===n)return null;var e,r,i,o;if(0===t.length)return(r=new Date(0)).setUTCFullYear(n),r;if(e=d.exec(t))return r=new Date(0),i=parseInt(e[1],10)-1,r.setUTCFullYear(n,i),r;if(e=v.exec(t)){r=new Date(0);var u=parseInt(e[1],10);return r.setUTCFullYear(n,0,u),r}if(e=y.exec(t)){r=new Date(0),i=parseInt(e[1],10)-1;var s=parseInt(e[2],10);return r.setUTCFullYear(n,i,s),r}if(e=m.exec(t))return o=parseInt(e[1],10)-1,j(n,o);if(e=g.exec(t)){o=parseInt(e[1],10)-1;var c=parseInt(e[2],10)-1;return j(n,o,c)}return null}(E.restDateString,N);if(A){var S,R=A.getTime(),I=0;if(O.time&&(I=function(t){var n,e,r;if(n=b.exec(t))return(e=parseFloat(n[1].replace(",",".")))%24*o;if(n=w.exec(t))return e=parseInt(n[1],10),r=parseFloat(n[2].replace(",",".")),e%24*o+r*u;if(n=M.exec(t)){e=parseInt(n[1],10),r=parseInt(n[2],10);var i=parseFloat(n[3].replace(",","."));return e%24*o+r*u+1e3*i}return null}(O.time)),O.timezone)q=O.timezone,S=((B=_.exec(q))?0:(B=x.exec(q))?(W=60*parseInt(B[2],10),"+"===B[1]?-W:W):(B=T.exec(q))?(W=60*parseInt(B[2],10)+parseInt(B[3],10),"+"===B[1]?-W:W):0)*u;else{var L=R+I,P=new Date(L);S=r(P);var D=new Date(L);D.setDate(P.getDate()+1);var C=r(D)-r(P);C>0&&(S+=C)}return new Date(R+I+S)}var q,B,W;return new Date(t)}},function(t,n){t.exports={OCCURRENCE_TIME:"O",DETECTION_TIME:"D"}},function(t,n,e){function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=e(18).LatLonEllipsoidal,o=e(18).Utm,u=e(30),s=function(){function t(n,e){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.latitude=n,this.longitude=e}var n,e,u;return n=t,u=[{key:"distance",value:function(t,n,e){var r=new i(t.latitude,t.longitude).distanceTo(new i(n.latitude,n.longitude));return e?r.toFixed(e):r}},{key:"fromUTM",value:function(n,e,r,i){var u=new o(n,e,r,i).toLatLonE();return new t(u.lat,u.lon)}}],(e=[{key:"distance",value:function(t,n){var e=new i(this.latitude,this.longitude).distanceTo(new i(t.latitude,t.longitude));return n?e.toFixed(n):e}},{key:"toString",value:function(){return"(".concat(this.latitude,", ").concat(this.longitude,")")}},{key:"clone",value:function(){var t=Object.getPrototypeOf(this),n=Object.create(t);return n.latitude=this.latitude,n.longitude=this.longitude,n}}])&&r(n.prototype,e),u&&r(n,u),t}();t.exports={Point:s,hemisphere:u}},function(t,n,e){"use strict";n.LatLonSpherical=e(25),n.LatLonEllipsoidal=e(7);var r=e(26);for(var i in r)n.LatLonEllipsoidal[i]=r[i];n.LatLonVectors=e(27),n.Vector3d=e(13),n.Utm=e(19),n.Mgrs=e(28),n.OsGridRef=e(29),n.Dms=e(9)},function(t,n,e){"use strict";if(t.exports)var r=e(7);function i(t,n,e,o,u,s,c){if(!(this instanceof i))return new i(t,n,e,o,u,s,c);if(void 0===u&&(u=r.datum.WGS84),void 0===s&&(s=null),void 0===c&&(c=null),!(1<=t&&t<=60))throw new Error("Invalid UTM zone "+t);if(!n.match(/[NS]/i))throw new Error("Invalid UTM hemisphere "+n);this.zone=Number(t),this.hemisphere=n.toUpperCase(),this.easting=Number(e),this.northing=Number(o),this.datum=u,this.convergence=null===s?null:Number(s),this.scale=null===c?null:Number(c)}r.prototype.toUtm=function(){if(isNaN(this.lat)||isNaN(this.lon))throw new Error("Invalid point");if(!(-80<=this.lat&&this.lat<=84))throw new Error("Outside UTM limits");var t=Math.floor((this.lon+180)/6)+1,n=(6*(t-1)-180+3).toRadians(),e="CDEFGHJKLMNPQRSTUVWXX".charAt(Math.floor(this.lat/8+10));31==t&&"V"==e&&this.lon>=3&&(t++,n+=6..toRadians()),32==t&&"X"==e&&this.lon<9&&(t--,n-=6..toRadians()),32==t&&"X"==e&&this.lon>=9&&(t++,n+=6..toRadians()),34==t&&"X"==e&&this.lon<21&&(t--,n-=6..toRadians()),34==t&&"X"==e&&this.lon>=21&&(t++,n+=6..toRadians()),36==t&&"X"==e&&this.lon<33&&(t--,n-=6..toRadians()),36==t&&"X"==e&&this.lon>=33&&(t++,n+=6..toRadians());for(var r=this.lat.toRadians(),o=this.lon.toRadians()-n,u=this.datum.ellipsoid.a,s=this.datum.ellipsoid.f,c=Math.sqrt(s*(2-s)),a=s/(2-s),h=a*a,f=a*h,p=a*f,l=a*p,d=a*l,v=Math.cos(o),y=Math.sin(o),m=Math.tan(o),g=Math.tan(r),b=Math.sinh(c*Math.atanh(c*g/Math.sqrt(1+g*g))),w=g*Math.sqrt(1+b*b)-b*Math.sqrt(1+g*g),M=Math.atan2(w,v),k=Math.asinh(y/Math.sqrt(w*w+v*v)),_=u/(1+a)*(1+.25*h+1/64*p+1/256*d),x=[null,.5*a-2/3*h+5/16*f+41/180*p-127/288*l+7891/37800*d,13/48*h-.6*f+557/1440*p+281/630*l-1983433/1935360*d,61/240*f-103/140*p+15061/26880*l+167603/181440*d,49561/161280*p-179/168*l+6601661/7257600*d,34729/80640*l-3418889/1995840*d,.6650675310896665*d],T=M,j=1;j<=6;j++)T+=x[j]*Math.sin(2*j*M)*Math.cosh(2*j*k);var O=k;for(j=1;j<=6;j++)O+=x[j]*Math.cos(2*j*M)*Math.sinh(2*j*k);var E=.9996*_*O,N=.9996*_*T,A=1;for(j=1;j<=6;j++)A+=2*j*x[j]*Math.cos(2*j*M)*Math.cosh(2*j*k);var S=0;for(j=1;j<=6;j++)S+=2*j*x[j]*Math.sin(2*j*M)*Math.sinh(2*j*k);var R=Math.atan(w/Math.sqrt(1+w*w)*m)+Math.atan2(S,A),I=Math.sin(r),L=.9996*(Math.sqrt(1-c*c*I*I)*Math.sqrt(1+g*g)/Math.sqrt(w*w+v*v))*(_/u*Math.sqrt(A*A+S*S));E+=5e5,N<0&&(N+=1e7),E=Number(E.toFixed(6)),N=Number(N.toFixed(6));var P=Number(R.toDegrees().toFixed(9)),D=Number(L.toFixed(12));return new i(t,this.lat>=0?"N":"S",E,N,this.datum,P,D)},i.prototype.toLatLonE=function(){var t=this.zone,n=this.hemisphere,e=this.easting,i=this.northing;if(isNaN(t)||isNaN(e)||isNaN(i))throw new Error("Invalid coordinate");var o=this.datum.ellipsoid.a,u=this.datum.ellipsoid.f;e-=5e5,i="S"==n?i-1e7:i;for(var s=Math.sqrt(u*(2-u)),c=u/(2-u),a=c*c,h=c*a,f=c*h,p=c*f,l=c*p,d=o/(1+c)*(1+.25*a+1/64*f+1/256*l),v=e/(.9996*d),y=i/(.9996*d),m=[null,.5*c-2/3*a+37/96*h-1/360*f-81/512*p+96199/604800*l,1/48*a+1/15*h-437/1440*f+46/105*p-1118711/3870720*l,17/480*h-37/840*f-209/4480*p+5569/90720*l,4397/161280*f-11/504*p-830251/7257600*l,4583/161280*p-108847/3991680*l,.03233083094085698*l],g=y,b=1;b<=6;b++)g-=m[b]*Math.sin(2*b*y)*Math.cosh(2*b*v);var w=v;for(b=1;b<=6;b++)w-=m[b]*Math.cos(2*b*y)*Math.sinh(2*b*v);var M=Math.sinh(w),k=Math.sin(g),_=Math.cos(g),x=k/Math.sqrt(M*M+_*_),T=x;do{var j=Math.sinh(s*Math.atanh(s*T/Math.sqrt(1+T*T))),O=T*Math.sqrt(1+j*j)-j*Math.sqrt(1+T*T),E=(x-O)/Math.sqrt(1+O*O)*(1+(1-s*s)*T*T)/((1-s*s)*Math.sqrt(1+T*T));T+=E}while(Math.abs(E)>1e-12);var N=T,A=Math.atan(N),S=Math.atan2(M,_),R=1;for(b=1;b<=6;b++)R-=2*b*m[b]*Math.cos(2*b*y)*Math.cosh(2*b*v);var I=0;for(b=1;b<=6;b++)I+=2*b*m[b]*Math.sin(2*b*y)*Math.sinh(2*b*v);var L=Math.atan(Math.tan(g)*Math.tanh(w))+Math.atan2(I,R),P=Math.sin(A),D=.9996*(Math.sqrt(1-s*s*P*P)*Math.sqrt(1+N*N)*Math.sqrt(M*M+_*_))*(d/o/Math.sqrt(R*R+I*I));S+=(6*(t-1)-180+3).toRadians();var C=Number(A.toDegrees().toFixed(11)),q=Number(S.toDegrees().toFixed(11)),B=Number(L.toDegrees().toFixed(9)),W=Number(D.toFixed(12)),V=new r(C,q,this.datum);return V.convergence=B,V.scale=W,V},i.parse=function(t,n){if(void 0===n&&(n=r.datum.WGS84),null==(t=t.trim().match(/\S+/g))||4!=t.length)throw new Error("Invalid UTM coordinate ‘"+t+"’");return new i(t[0],t[1],t[2],t[3],n)},i.prototype.toString=function(t){t=Number(t||0);var n=this.zone<10?"0"+this.zone:this.zone,e=this.hemisphere,r=this.easting,i=this.northing;return isNaN(n)||!e.match(/[NS]/)||isNaN(r)||isNaN(i)?"":n+" "+e+" "+r.toFixed(t)+" "+i.toFixed(t)},void 0===Math.sinh&&(Math.sinh=function(t){return(Math.exp(t)-Math.exp(-t))/2}),void 0===Math.cosh&&(Math.cosh=function(t){return(Math.exp(t)+Math.exp(-t))/2}),void 0===Math.tanh&&(Math.tanh=function(t){return(Math.exp(t)-Math.exp(-t))/(Math.exp(t)+Math.exp(-t))}),void 0===Math.asinh&&(Math.asinh=function(t){return Math.log(t+Math.sqrt(1+t*t))}),void 0===Math.atanh&&(Math.atanh=function(t){return Math.log((1+t)/(1-t))/2}),t.exports&&(t.exports=i)},function(t,n,e){function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}var i=e(11),o=i.composeLeft,u=i.run,s=e(32),c=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.stream=n}var n,e,i;return n=t,(e=[{key:"pipe",value:function(){for(var n=arguments.length,e=new Array(n),r=0;r<n;r++)e[r]=arguments[r];return new t(o(this,e))}},{key:"subscribe",value:function(t){return new s(u(this,t))}}])&&r(n.prototype,e),i&&r(n,i),t}();t.exports=c},function(t,n){t.exports={NONE:"N",DAYLY:"D",WEEKLY:"W",MONTHLY:"M",YEARLY:"Y"}},function(t,n,e){"use strict";e.r(n);var r=e(1),i=Object(r.d)(function(t,n){return t.attach(n)});var o=e(3),u=function(){return s},s=new(function(){function t(){}return t.prototype.dispose=function(){},t}()),c=function(t){return new a(t)},a=function(t){this.disposed=!1,this.disposable=t};
/** @license MIT License (c) copyright 2010-2017 original author or authors */a.prototype.dispose=function(){this.disposed||(this.disposed=!0,this.disposable.dispose(),this.disposable=void 0)};
/** @license MIT License (c) copyright 2010-2017 original author or authors */
Object(r.d)(function(t,n){return c(new h(t,n))});var h=function(t,n){this._dispose=t,this._resource=n};h.prototype.dispose=function(){this._dispose(this._resource)};
/** @license MIT License (c) copyright 2010-2017 original author or authors */
var f=function(t){return new l(t)},p=Object(r.d)(function(t,n){return f([t,n])}),l=function(t){this.disposables=t};l.prototype.dispose=function(){y(d(this.disposables))};var d=function(t){return Object(r.i)(v,[],t)},v=function(t,n){try{n.dispose()}catch(n){t.push(n)}return t},y=function(t){if(t.length>0)throw new m(t.length+" errors",t)},m=function(t){function n(n,e){t.call(this,n),this.message=n,this.name=this.constructor.name,this.errors=e,t.captureStackTrace&&t.captureStackTrace(this,this.constructor),this.stack=""+this.stack+g(this.errors)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.toString=function(){return this.stack},n}(Error),g=function(t){return Object(r.i)(b,"",t)},b=function(t,n,e){return t+"\n["+(e+1)+"] "+n.stack},w=Object(r.e)(function(t,n,e){try{n.dispose()}catch(n){e.error(t,n)}});
/** @license MIT License (c) copyright 2010-2017 original author or authors */
/** @license MIT License (c) copyright 2010-2016 original author or authors */
function M(t){setTimeout(k,0,t)}function k(t){throw t}
/** @license MIT License (c) copyright 2010-2016 original author or authors */var _=function(t,n,e){return new O(t,n,e)},x=function(t,n){return _(E,t,n)},T=function(t){return _(N,void 0,t)},j=function(t,n){return _(A,t,n)},O=function(t,n,e){this._run=t,this.value=n,this.sink=e,this.active=!0};O.prototype.dispose=function(){this.active=!1},O.prototype.run=function(t){if(this.active){var n=this._run;n(t,this.value,this.sink)}},O.prototype.error=function(t,n){if(!this.active)return M(n);this.sink.error(t,n)};var E=function(t,n,e){return e.event(t,n)},N=function(t,n,e){return e.end(t)},A=function(t,n,e){return e.error(t,n)},S=function(){return I},R=function(){};R.prototype.run=function(t,n){return Object(o.a)(T(t),n)};var I=new R,L=function(){return D},P=function(){};
/** @license MIT License (c) copyright 2010-2017 original author or authors */P.prototype.run=function(){return u()};var D=new P,C=function(t,n){this.time=t,this.value=n};
/** @license MIT License (c) copyright 2010-2017 original author or authors */function q(t,n,e){e.event(t,n),e.end(t)}
/** @license MIT License (c) copyright 2010-2017 original author or authors */C.prototype.run=function(t,n){return Object(o.d)(this.time,_(q,this.value,t),n)};var B=function(t){return function(t,n){return new C(t,n)}(0,t)},W=function(t){this.period=t};
/** @license MIT License (c) copyright 2010-2016 original author or authors */W.prototype.run=function(t,n){return Object(o.e)(this.period,x(void 0,t),n)};
/** @license MIT License (c) copyright 2010-2017 original author or authors */
var V=function(t){this.sink=t};V.prototype.event=function(t,n){return this.sink.event(t,n)},V.prototype.end=function(t){return this.sink.end(t)},V.prototype.error=function(t,n){return this.sink.error(t,n)};
/** @license MIT License (c) copyright 2010-2017 original author or authors */
var F=function(t,n,e){return 0===n.length||e===S()?S():new U(t,n,e)},z=function(t,n){return t},U=function(t,n,e){this.f=t,this.values=n,this.source=e};U.prototype.run=function(t,n){return this.source.run(new G(this.f,this.values,t),n)};var G=function(t){function n(n,e,r){t.call(this,r),this.f=n,this.values=e,this.index=0}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){var e=this.f;this.sink.event(t,e(this.values[this.index],n)),this.index+=1,this.index>=this.values.length&&this.sink.end(t)},n}(V),Y=function(){this.disposable=void 0,this.disposed=!1};
/** @license MIT License (c) copyright 2010-2017 original author or authors */Y.prototype.setDisposable=function(t){if(void 0!==this.disposable)throw new Error("setDisposable called more than once");this.disposable=t,this.disposed&&t.dispose()},Y.prototype.dispose=function(){this.disposed||(this.disposed=!0,void 0!==this.disposable&&this.disposable.dispose())};
/** @license MIT License (c) copyright 2010-2017 original author or authors */
var $=Object(r.d)(function(t,n){return new Promise(function(e,r){return function(t,n,e,r){var i=new Y,o=new H(e,r,i);i.setDisposable(t.run(o,n))}(t,n,e,r)})});var H=function(t,n,e){this._end=t,this._error=n,this._disposable=e,this.active=!0};H.prototype.event=function(t,n){},H.prototype.end=function(t){this.active&&this._dispose(this._error,this._end,void 0)},H.prototype.error=function(t,n){this._dispose(this._error,this._error,n)},H.prototype._dispose=function(t,n,e){this.active=!1,function(t,n,e,r){try{r.dispose()}catch(n){return void t(n)}n(e)}
/** @license MIT License (c) copyright 2010-2017 original author or authors */(t,n,e,this._disposable)};var K=function(t,n,e){return e.run(t,n)},X=function(t,n){this.sink=n,this.offset=t};X.prototype.event=function(t,n){this.sink.event(t+this.offset,n)},X.prototype.error=function(t,n){this.sink.error(t+this.offset,n)},X.prototype.end=function(t){this.sink.end(t+this.offset)};var J=function(t,n){return new Q(t,n)},Q=function(t,n){this.origin=t,this.source=n};Q.prototype.run=function(t,n){return this.source.run(Z(this.origin,t),Object(o.f)(this.origin,n))};var Z=function(t,n){return n instanceof X?new X(t+n.offset,n.sink):new X(t,n)},tt=function(t,n,e){this.step=t,this.seed=n,this.source=e};
/** @license MIT License (c) copyright 2010-2016 original author or authors */tt.prototype.run=function(t,n){return this.source.run(new nt(this.step,this.seed,t),n)};var nt=function(t){function n(n,e,r){t.call(this,r),this.step=n,this.seed=e}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){var e=this.step(this.seed,n);this.seed=e.seed,this.sink.event(t,e.value)},n}(V),et=function(t,n,e){this.source=e,this.f=t,this.value=n};
/** @license MIT License (c) copyright 2010-2016 original author or authors */et.prototype.run=function(t,n){var e=Object(o.a)(x(this.value,t),n),r=this.source.run(new rt(this.f,this.value,t),n);return p(e,r)};var rt=function(t){function n(n,e,r){t.call(this,r),this.f=n,this.value=e}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){var e=this.f;this.value=e(this.value,n),this.sink.event(t,this.value)},n}(V),it=function(t,n){return new ot(t,n)},ot=function(t,n){this.f=t,this.source=n};
/** @license MIT License (c) copyright 2010-2016 original author or authors */ot.prototype.run=function(t,n){return new ut(this.f,this.source,t,n)};var ut=function(t){function n(n,e,r,i){t.call(this,r),this.f=n,this.scheduler=i,this.active=!0,this.disposable=c(e.run(this,i))}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){this.active&&this.sink.event(t,n)},n.prototype.end=function(t){this.active&&(w(t,this.disposable,this.sink),this._startNext(t,this.sink))},n.prototype._startNext=function(t,n){try{this.disposable=this._continue(this.f,t,n)}catch(e){n.error(t,e)}},n.prototype._continue=function(t,n,e){return K(e,this.scheduler,J(n,t()))},n.prototype.dispose=function(){return this.active=!1,this.disposable.dispose()},n}(V),st=function(t,n){this.p=t,this.source=n};
/** @license MIT License (c) copyright 2010-2017 original author or authors */st.prototype.run=function(t,n){return this.source.run(new ct(this.p,t),n)},st.create=function(t,n){return n instanceof st?new st(at(n.p,t),n.source):new st(t,n)};var ct=function(t){function n(n,e){t.call(this,e),this.p=n}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){(0,this.p)(n)&&this.sink.event(t,n)},n}(V),at=function(t,n){return function(e){return t(e)&&n(e)}},ht=function(t,n,e){this.p=t,this.f=n,this.source=e};ht.prototype.run=function(t,n){return this.source.run(new ft(this.p,this.f,t),n)};var ft=function(t){function n(n,e,r){t.call(this,r),this.p=n,this.f=e}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){var e=this.f;(0,this.p)(n)&&this.sink.event(t,e(n))},n}(V),pt=function(t,n){this.f=t,this.source=n};
/** @license MIT License (c) copyright 2010-2016 original author or authors */pt.prototype.run=function(t,n){return this.source.run(new lt(this.f,t),n)},pt.create=function(t,n){return n instanceof pt?new pt(Object(r.c)(t,n.f),n.source):n instanceof st?new ht(n.p,t,n.source):new pt(t,n)};var lt=function(t){function n(n,e){t.call(this,e),this.f=n}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){var e=this.f;this.sink.event(t,e(n))},n}(V),dt=function(t,n){return pt.create(t,n)},vt=function(t,n){this.source=n,this.f=t};
/** @license MIT License (c) copyright 2010-2016 original author or authors */vt.prototype.run=function(t,n){return this.source.run(new yt(this.f,t),n)};var yt=function(t){function n(n,e){t.call(this,e),this.f=n}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){(0,this.f)(n),this.sink.event(t,n)},n}(V),mt=function(t){function n(n,e){t.call(this,e),this.index=n,this.active=!0,this.value=void 0}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){this.active&&(this.value=n,this.sink.event(t,this))},n.prototype.end=function(t){this.active&&(this.active=!1,this.sink.event(t,this))},n}(V);
/** @license MIT License (c) copyright 2010-2016 original author or authors */
/** @license MIT License (c) copyright 2010-2016 original author or authors */
function gt(t,n){switch(n.length){case 0:return t();case 1:return t(n[0]);case 2:return t(n[0],n[1]);case 3:return t(n[0],n[1],n[2]);case 4:return t(n[0],n[1],n[2],n[3]);case 5:return t(n[0],n[1],n[2],n[3],n[4]);default:return t.apply(void 0,n)}}
/** @license MIT License (c) copyright 2010-2016 original author or authors */function bt(t,n,e){return wt(t,[n,e])}var wt=function(t,n){return 0===n.length?S():1===n.length?dt(t,n[0]):new Mt(t,n)},Mt=function(t,n){this.f=t,this.sources=n};Mt.prototype.run=function(t,n){for(var e=this.sources.length,r=new Array(e),i=new Array(e),o=new kt(r,i,t,this.f),u=void 0,s=0;s<e;++s)u=i[s]=new mt(s,o),r[s]=this.sources[s].run(u,n);return f(r)};var kt=function(t){function n(n,e,r,i){t.call(this,r),this.disposables=n,this.sinks=e,this.f=i;var o=e.length;this.awaiting=o,this.values=new Array(o),this.hasValue=new Array(o).fill(!1),this.activeCount=e.length}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){if(n.active){var e=n.index,r=this._updateReady(e);this.values[e]=n.value,0===r&&this.sink.event(t,gt(this.f,this.values))}else this._dispose(t,n.index)},n.prototype._updateReady=function(t){return this.awaiting>0&&(this.hasValue[t]||(this.hasValue[t]=!0,this.awaiting-=1)),this.awaiting},n.prototype._dispose=function(t,n){w(t,this.disposables[n],this.sink),0==--this.activeCount&&this.sink.end(t)},n}(V);
/** @license MIT License (c) copyright 2010-2016 original author or authors */
/** @license MIT License (c) copyright 2010-2016 original author or authors */
var _t=function(){this.head=null,this.length=0};_t.prototype.add=function(t){null!==this.head&&(this.head.prev=t,t.next=this.head),this.head=t,++this.length},_t.prototype.remove=function(t){--this.length,t===this.head&&(this.head=this.head.next),null!==t.next&&(t.next.prev=t.prev,t.next=null),null!==t.prev&&(t.prev.next=t.next,t.prev=null)},_t.prototype.isEmpty=function(){return 0===this.length},_t.prototype.dispose=function(){if(this.isEmpty())return Promise.resolve();var t=[],n=this.head;for(this.head=null,this.length=0;null!==n;)t.push(n.dispose()),n=n.next;return Promise.all(t)};
/** @license MIT License (c) copyright 2010-2016 original author or authors */
var xt=function(t,n){return Tt(r.g,t,n)},Tt=function(t,n,e){return new jt(t,n,e)},jt=function(t,n,e){this.f=t,this.concurrency=n,this.source=e};jt.prototype.run=function(t,n){return new Ot(this.f,this.concurrency,this.source,t,n)};var Ot=function(t,n,e,r,i){this.f=t,this.concurrency=n,this.sink=r,this.scheduler=i,this.pending=[],this.current=new _t,this.disposable=c(e.run(this,i)),this.active=!0};Ot.prototype.event=function(t,n){this._addInner(t,n)},Ot.prototype._addInner=function(t,n){this.current.length<this.concurrency?this._startInner(t,n):this.pending.push(n)},Ot.prototype._startInner=function(t,n){try{this._initInner(t,n)}catch(n){this.error(t,n)}},Ot.prototype._initInner=function(t,n){var e=new Nt(t,this,this.sink);e.disposable=Et(this.f,t,n,e,this.scheduler),this.current.add(e)},Ot.prototype.end=function(t){this.active=!1,w(t,this.disposable,this.sink),this._checkEnd(t)},Ot.prototype.error=function(t,n){this.active=!1,this.sink.error(t,n)},Ot.prototype.dispose=function(){this.active=!1,this.pending.length=0,this.disposable.dispose(),this.current.dispose()},Ot.prototype._endInner=function(t,n){this.current.remove(n),w(t,n,this),0===this.pending.length?this._checkEnd(t):this._startInner(t,this.pending.shift())},Ot.prototype._checkEnd=function(t){!this.active&&this.current.isEmpty()&&this.sink.end(t)};var Et=function(t,n,e,r,i){return t(e).run(r,Object(o.f)(n,i))},Nt=function(t,n,e){this.prev=this.next=null,this.time=t,this.outer=n,this.sink=e,this.disposable=void 0};Nt.prototype.event=function(t,n){this.sink.event(t+this.time,n)},Nt.prototype.end=function(t){this.outer._endInner(t+this.time,this)},Nt.prototype.error=function(t,n){this.outer.error(t+this.time,n)},Nt.prototype.dispose=function(){return this.disposable.dispose()};var At=function(t){return 0===t.length?S():1===t.length?t[0]:St(t)},St=function(t){return new It(Object(r.i)(Rt,[],t))},Rt=function(t,n){return t.concat(n instanceof It?n.sources:n)},It=function(t){this.sources=t};It.prototype.run=function(t,n){for(var e=this.sources.length,r=new Array(e),i=new Array(e),o=new Lt(r,i,t),u=void 0,s=0;s<e;++s)u=i[s]=new mt(s,o),r[s]=this.sources[s].run(u,n);return f(r)};var Lt=function(t){function n(n,e,r){t.call(this,r),this.disposables=n,this.activeCount=e.length}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){n.active?this.sink.event(t,n.value):this._dispose(t,n.index)},n.prototype._dispose=function(t,n){w(t,this.disposables[n],this.sink),0==--this.activeCount&&this.sink.end(t)},n}(V),Pt=function(t,n,e){this.source=e,this.sampler=n,this.f=t};
/** @license MIT License (c) copyright 2010-2016 original author or authors */Pt.prototype.run=function(t,n){var e=new Dt(this.f,this.source,t),r=this.source.run(e.hold,n),i=this.sampler.run(e,n);return p(i,r)};var Dt=function(t){function n(n,e,r){t.call(this,r),this.source=e,this.f=n,this.hold=new Ct(this)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){if(this.hold.hasValue){var e=this.f;this.sink.event(t,e(n,this.hold.value))}},n}(V),Ct=function(t){function n(n){t.call(this,n),this.hasValue=!1}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){this.value=n,this.hasValue=!0},n.prototype.end=function(){},n}(V),qt=function(t){void 0===t&&(t=32),this._capacity=t,this._length=0,this._head=0};qt.prototype.push=function(t){var n=this._length;this._checkCapacity(n+1),this[this._head+n&this._capacity-1]=t,this._length=n+1},qt.prototype.shift=function(){var t=this._head,n=this[t];return this[t]=void 0,this._head=t+1&this._capacity-1,this._length--,n},qt.prototype.isEmpty=function(){return 0===this._length},qt.prototype.length=function(){return this._length},qt.prototype._checkCapacity=function(t){this._capacity<t&&this._ensureCapacity(this._capacity<<1)},qt.prototype._ensureCapacity=function(t){var n=this._capacity;this._capacity=t;var e=this._head+this._length;e>n&&function(t,n,e,r,i){for(var o=0;o<i;++o)e[o+r]=t[o+n],t[o+n]=void 0}
/** @license MIT License (c) copyright 2010-2016 original author or authors */(this,0,this,n,e&n-1)};var Bt=function(t,n){return 0===n.length?S():1===n.length?dt(t,n[0]):new Wt(t,n)},Wt=function(t,n){this.f=t,this.sources=n};Wt.prototype.run=function(t,n){for(var e=this.sources.length,r=new Array(e),i=new Array(e),o=new Array(e),u=new Vt(this.f,o,i,t),s=void 0,c=0;c<e;++c)o[c]=new qt,s=i[c]=new mt(c,u),r[c]=this.sources[c].run(s,n);return f(r)};var Vt=function(t){function n(n,e,r,i){t.call(this,i),this.f=n,this.sinks=r,this.buffers=e}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){if(n.active){var e=this.buffers,r=e[n.index];if(r.push(n.value),1===r.length()){if(!function(t){for(var n=0,e=t.length;n<e;++n)if(t[n].isEmpty())return!1;return!0}
/** @license MIT License (c) copyright 2010-2016 original author or authors */(this.buffers))return;Ft(this.f,t,e,this.sink),function(t,n){for(var e=0,r=t.length;e<r;++e)if(t[e].isEmpty()&&!n[e].active)return!0;return!1}(this.buffers,this.sinks)&&this.sink.end(t)}}else this._dispose(t,n.index)},n.prototype._dispose=function(t,n){this.buffers[n].isEmpty()&&this.sink.end(t)},n}(V),Ft=function(t,n,e,i){return i.event(n,gt(t,Object(r.h)(zt,e)))},zt=function(t){return t.shift()};var Ut=function(t){this.source=t};Ut.prototype.run=function(t,n){var e=new Gt(t,n);return p(e,this.source.run(e,n))};var Gt=function(t,n){this.sink=t,this.scheduler=n,this.current=null,this.ended=!1};Gt.prototype.event=function(t,n){this._disposeCurrent(t),this.current=new Yt(n,t,1/0,this,this.sink,this.scheduler)},Gt.prototype.end=function(t){this.ended=!0,this._checkEnd(t)},Gt.prototype.error=function(t,n){this.ended=!0,this.sink.error(t,n)},Gt.prototype.dispose=function(){return this._disposeCurrent(Object(o.c)(this.scheduler))},Gt.prototype._disposeCurrent=function(t){if(null!==this.current)return this.current._dispose(t)},Gt.prototype._disposeInner=function(t,n){n._dispose(t),n===this.current&&(this.current=null)},Gt.prototype._checkEnd=function(t){this.ended&&null===this.current&&this.sink.end(t)},Gt.prototype._endInner=function(t,n){this._disposeInner(t,n),this._checkEnd(t)},Gt.prototype._errorInner=function(t,n,e){this._disposeInner(t,e),this.sink.error(t,n)};var Yt=function(t,n,e,r,i,u){this.min=n,this.max=e,this.outer=r,this.sink=i,this.disposable=t.run(this,Object(o.f)(n,u))};Yt.prototype.event=function(t,n){var e=Math.max(0,t+this.min);e<this.max&&this.sink.event(e,n)},Yt.prototype.end=function(t){this.outer._endInner(t+this.min,this)},Yt.prototype.error=function(t,n){this.outer._errorInner(t+this.min,n,this)},Yt.prototype._dispose=function(t){w(t+this.min,this.disposable,this.sink)};
/** @license MIT License (c) copyright 2010-2016 original author or authors */
var $t=function(t,n){return new Ht(t,n)},Ht=function(t,n){this.equals=t,this.source=n};Ht.prototype.run=function(t,n){return this.source.run(new Kt(this.equals,t),n)};var Kt=function(t){function n(n,e){t.call(this,e),this.equals=n,this.value=void 0,this.init=!0}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){this.init?(this.init=!1,this.value=n,this.sink.event(t,n)):this.equals(this.value,n)||(this.value=n,this.sink.event(t,n))},n}(V);
/** @license MIT License (c) copyright 2010-2016 original author or authors */
var Xt=function(t,n,e){return n<=t?S():Jt(t,n,e)},Jt=function(t,n,e){return e instanceof pt?Qt(t,n,e):e instanceof Zt?function(t,n,e){var r=t+e.min,i=Math.min(n+e.min,e.max);return new Zt(r,i,e.source)}(t,n,e):new Zt(t,n,e)},Qt=function(t,n,e){return pt.create(e.f,Jt(t,n,e.source))};var Zt=function(t,n,e){this.source=e,this.min=t,this.max=n};Zt.prototype.run=function(t,n){var e=new Y,r=new tn(this.min,this.max-this.min,t,e);return e.setDisposable(this.source.run(r,n)),e};var tn=function(t){function n(n,e,r,i){t.call(this,r),this.skip=n,this.take=e,this.disposable=i}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){this.skip>0?this.skip-=1:0!==this.take&&(this.take-=1,this.sink.event(t,n),0===this.take&&(this.disposable.dispose(),this.sink.end(t)))},n}(V),nn=function(t,n){this.p=t,this.source=n};nn.prototype.run=function(t,n){var e=new Y,r=new en(this.p,t,e);return e.setDisposable(this.source.run(r,n)),e};var en=function(t){function n(n,e,r){t.call(this,e),this.p=n,this.active=!0,this.disposable=r}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){if(this.active){var e=this.p;this.active=e(n),this.active?this.sink.event(t,n):(this.disposable.dispose(),this.sink.end(t))}},n}(V),rn=function(t,n){this.p=t,this.source=n};rn.prototype.run=function(t,n){return this.source.run(new on(this.p,t),n)};var on=function(t){function n(n,e){t.call(this,e),this.p=n,this.skipping=!0}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){if(this.skipping){var e=this.p;if(this.skipping=e(n),this.skipping)return}this.sink.event(t,n)},n}(V),un=function(t,n){this.p=t,this.source=n};un.prototype.run=function(t,n){return this.source.run(new sn(this.p,t),n)};var sn=function(t){function n(n,e){t.call(this,e),this.p=n,this.skipping=!1}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){if(!this.skipping){var e=this.p;this.skipping=e(n),this.sink.event(t,n),this.skipping&&this.sink.end(t)}},n}(V),cn=function(t,n){return new hn(t,n)},an=function(t,n){return new fn(t,n)},hn=function(t,n){this.maxSignal=t,this.source=n};
/** @license MIT License (c) copyright 2010-2016 original author or authors */hn.prototype.run=function(t,n){var e=new pn(-1/0,t),r=new vn(this.maxSignal,t,n),i=this.source.run(new ln(e,r,t),n);return f([e,r,i])};var fn=function(t,n){this.minSignal=t,this.source=n};fn.prototype.run=function(t,n){var e=new dn(this.minSignal,t,n),r=new pn(1/0,t),i=this.source.run(new ln(e,r,t),n);return f([e,r,i])};var pn=function(t){function n(n,e){t.call(this,e),this.value=n}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(){},n.prototype.end=function(){},n.prototype.dispose=function(){},n}(V),ln=function(t){function n(n,e,r){t.call(this,r),this.min=n,this.max=e}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){t>=this.min.value&&t<this.max.value&&this.sink.event(t,n)},n}(V),dn=function(t){function n(n,e,r){t.call(this,e),this.value=1/0,this.disposable=n.run(this,r)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t){t<this.value&&(this.value=t)},n.prototype.end=function(){},n.prototype.dispose=function(){return this.disposable.dispose()},n}(V),vn=function(t){function n(n,e,r){t.call(this,e),this.value=1/0,this.disposable=n.run(this,r)}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){t<this.value&&(this.value=t,this.sink.end(t))},n.prototype.end=function(){},n.prototype.dispose=function(){return this.disposable.dispose()},n}(V),yn=function(t,n){this.dt=t,this.source=n};yn.prototype.run=function(t,n){var e=new mn(this.dt,t,n);return p(e,this.source.run(e,n))};var mn=function(t){function n(n,e,r){t.call(this,e),this.dt=n,this.scheduler=r}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.dispose=function(){var t=this;Object(o.b)(function(n){return n.sink===t.sink},this.scheduler)},n.prototype.event=function(t,n){Object(o.d)(this.dt,x(n,this.sink),this.scheduler)},n.prototype.end=function(t){Object(o.d)(this.dt,T(this.sink),this.scheduler)},n}(V),gn=function(t,n){return n instanceof pt?bn(t,n):n instanceof Mn?wn(t,n):new Mn(t,n)},bn=function(t,n){return pt.create(n.f,gn(t,n.source))},wn=function(t,n){return new Mn(Math.max(t,n.period),n.source)},Mn=function(t,n){this.period=t,this.source=n};
/** @license MIT License (c) copyright 2010-2017 original author or authors */Mn.prototype.run=function(t,n){return this.source.run(new kn(this.period,t),n)};var kn=function(t){function n(n,e){t.call(this,e),this.time=0,this.period=n}return t&&(n.__proto__=t),n.prototype=Object.create(t&&t.prototype),n.prototype.constructor=n,n.prototype.event=function(t,n){t>=this.time&&(this.time=t+this.period,this.sink.event(t,n))},n}(V),_n=function(t,n){this.dt=t,this.source=n};_n.prototype.run=function(t,n){return new xn(this.dt,this.source,t,n)};var xn=function(t,n,e,r){this.dt=t,this.sink=e,this.scheduler=r,this.value=void 0,this.timer=null,this.disposable=n.run(this,r)};xn.prototype.event=function(t,n){this._clearTimer(),this.value=n,this.timer=Object(o.d)(this.dt,x(n,this.sink),this.scheduler)},xn.prototype.end=function(t){this._clearTimer()&&(this.sink.event(t,this.value),this.value=void 0),this.sink.end(t)},xn.prototype.error=function(t,n){this._clearTimer(),this.sink.error(t,n)},xn.prototype.dispose=function(){this._clearTimer(),this.disposable.dispose()},xn.prototype._clearTimer=function(){return null!==this.timer&&(this.timer.dispose(),this.timer=null,!0)};
/** @license MIT License (c) copyright 2010-2016 original author or authors */
Object(r.c)(function(t){return new Tn(t)},B);var Tn=function(t){this.source=t};Tn.prototype.run=function(t,n){return this.source.run(new jn(t,n),n)};var jn=function(t,n){var e=this;this.sink=t,this.scheduler=n,this.queue=Promise.resolve(),this._eventBound=function(t){return e.sink.event(Object(o.c)(e.scheduler),t)},this._endBound=function(){return e.sink.end(Object(o.c)(e.scheduler))},this._errorBound=function(t){return e.sink.error(Object(o.c)(e.scheduler),t)}};jn.prototype.event=function(t,n){var e=this;this.queue=this.queue.then(function(){return e._event(n)}).catch(this._errorBound)},jn.prototype.end=function(t){this.queue=this.queue.then(this._endBound).catch(this._errorBound)},jn.prototype.error=function(t,n){var e=this;this.queue=this.queue.then(function(){return e._errorBound(n)}).catch(M)},jn.prototype._event=function(t){return t.then(this._eventBound)};
/** @license MIT License (c) copyright 2010-2016 original author or authors */
var On=function(t){this.sink=t,this.active=!0};
/** @license MIT License (c) copyright 2010-2016 original author or authors */
function En(t,n,e){try{e.event(t,n)}catch(n){e.error(t,n)}}function Nn(t,n){try{n.end(t)}catch(e){n.error(t,e)}}
/** @license MIT License (c) copyright 2010-2016 original author or authors */On.prototype.event=function(t,n){this.active&&this.sink.event(t,n)},On.prototype.end=function(t,n){this.active&&(this.disable(),this.sink.end(t,n))},On.prototype.error=function(t,n){this.disable(),this.sink.error(t,n)},On.prototype.disable=function(){return this.active=!1,this.sink};var An=function(t){this.value=t};An.prototype.run=function(t,n){return Object(o.a)(j(this.value,t),n)};var Sn=function(t,n){this.f=t,this.source=n};Sn.prototype.run=function(t,n){return new Rn(this.f,this.source,t,n)};var Rn=function(t,n,e,r){this.f=t,this.sink=new On(e),this.scheduler=r,this.disposable=n.run(this,r)};Rn.prototype.event=function(t,n){En(t,n,this.sink)},Rn.prototype.end=function(t){Nn(t,this.sink)},Rn.prototype.error=function(t,n){var e=this.sink.disable();w(t,this.disposable,this.sink),this._startNext(t,n,e)},Rn.prototype._startNext=function(t,n,e){try{this.disposable=this._continue(this.f,t,n,e)}catch(n){e.error(t,n)}},Rn.prototype._continue=function(t,n,e,r){return K(r,this.scheduler,J(n,t(e)))},Rn.prototype.dispose=function(){return this.disposable.dispose()};var In=function(t){this.source=new Ln(t)};In.prototype.run=function(t,n){return this.source.run(t,n)};var Ln=function(t){this.source=t,this.sinks=[],this.disposable=u()};Ln.prototype.run=function(t,n){return 1===this.add(t)&&(this.disposable=this.source.run(this,n)),c(new Pn(this,t))},Ln.prototype.dispose=function(){var t=this.disposable;return this.disposable=u(),t.dispose()},Ln.prototype.add=function(t){return this.sinks=Object(r.a)(t,this.sinks),this.sinks.length},Ln.prototype.remove=function(t){var n=Object(r.f)(t,this.sinks);return n>=0&&(this.sinks=Object(r.j)(n,this.sinks)),this.sinks.length},Ln.prototype.event=function(t,n){var e=this.sinks;if(1===e.length)return e[0].event(t,n);for(var r=0;r<e.length;++r)En(t,n,e[r])},Ln.prototype.end=function(t){for(var n=this.sinks,e=0;e<n.length;++e)Nn(t,n[e])},Ln.prototype.error=function(t,n){for(var e=this.sinks,r=0;r<e.length;++r)e[r].error(t,n)};var Pn=function(t,n){this.source=t,this.sink=n};Pn.prototype.dispose=function(){0===this.source.remove(this.sink)&&this.source.dispose()};
/** @license MIT License (c) copyright 2016 original author or authors */
Object(r.e)(F),Object(r.d)(function(t,n){return F(z,t,n)}),Object(r.d)($),Object(r.e)(K),Object(r.d)(J),Object(r.e)(function(t,n,e){return new tt(t,n,e)}),Object(r.e)(function(t,n,e){return new et(t,n,e)}),Object(r.d)(function(t,n){return it(function(){return n},B(t))}),Object(r.d)(dt),Object(r.d)(function(t,n){return dt(function(){return t},n)}),Object(r.d)(function(t,n){return new vt(t,n)}),Object(r.d)(function(t,n){return bt(r.b,t,n)}),Object(r.d)(function(t,n){return Tt(t,1/0,n)}),Object(r.d)(it),Object(r.d)(function(t,n){return Tt(t,1,n)}),Object(r.d)(xt),Object(r.e)(Tt),Object(r.d)(
/** @license MIT License (c) copyright 2010-2016 original author or authors */
function(t,n){return At([t,n])}),Object(r.e)(bt),Object(r.d)(wt),Object(r.e)(function(t,n,e){return new Pt(t,n,e)}),Object(r.e)(function(t,n,e){return Bt(t,[n,e])}),Object(r.d)(Bt),Object(r.d)(function(t,n){return st.create(t,n)}),Object(r.d)($t),Object(r.d)(function(t,n){return Xt(0,t,n)}),Object(r.d)(function(t,n){return Xt(t,1/0,n)}),Object(r.e)(Xt),Object(r.d)(function(t,n){return new nn(t,n)}),Object(r.d)(function(t,n){return new rn(t,n)}),Object(r.d)(function(t,n){return new un(t,n)}),Object(r.d)(cn),Object(r.d)(an),Object(r.d)(function(t,n){return cn(function(t){return xt(1/0,t)}(t),an(t,n))}),Object(r.d)(function(t,n){return t<=0?n:new yn(t,n)}),Object(r.d)(gn),Object(r.d)(function(t,n){return new _n(t,n)}),Object(r.d)(function(t,n){return new Sn(t,n)}),Object(r.e)(_),Object(r.d)(x),Object(r.d)(j);var Dn,Cn=(Dn=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,n){t.__proto__=n}||function(t,n){for(var e in n)n.hasOwnProperty(e)&&(t[e]=n[e])},function(t,n){function e(){this.constructor=t}Dn(t,n),t.prototype=null===n?Object.create(n):(e.prototype=n.prototype,new e)}),qn=function(t){function n(){var n=t.call(this,L())||this;return n.attached=!1,n.running=!1,n}return Cn(n,t),n.prototype.run=function(t,n){return this.scheduler=n,this.add(t),this.attached&&!this.running?(this.running=!0,this.disposable=this.source.run(this,n),this.disposable):new Bn(this,t)},n.prototype.attach=function(t){if(this.attached)throw new Error("Can only attach 1 stream");return this.attached=!0,this.source=t,this.sinks.length>0&&(this.disposable=t.run(this,this.scheduler)),t},n.prototype.error=function(n,e){this.cleanup(),t.prototype.error.call(this,n,e)},n.prototype.end=function(n){this.cleanup(),t.prototype.end.call(this,n)},n.prototype.cleanup=function(){this.attached=!1,this.running=!1},n}(Ln),Bn=function(){function t(t,n){this.source=t,this.sink=n,this.disposed=!1}return t.prototype.dispose=function(){if(!this.disposed){var t=this.source,n=this.sink;return this.disposed=!0,0===t.remove(n)&&t.dispose()}},t}();function Wn(t){void 0===t&&(t=r.g);var n=new qn;return[n,t(n)]}var Vn=Object(r.d)(function(t,n){n.end(t)});var Fn=Object(r.e)(function(t,n,e){e.error(t,n)});var zn=Object(r.e)(function(t,n,e){e.event(t,n)});e.d(n,"attach",function(){return i}),e.d(n,"create",function(){return Wn}),e.d(n,"end",function(){return Vn}),e.d(n,"error",function(){return Fn}),e.d(n,"event",function(){return zn})},function(t,n,e){"use strict";(function(t){e.d(n,"a",function(){return w});var r=e(0),i=function(t,n,e,r,i){this.time=t,this.localOffset=n,this.period=e,this.task=r,this.scheduler=i,this.active=!0};
/** @license MIT License (c) copyright 2010-2017 original author or authors */i.prototype.run=function(){return this.task.run(this.time-this.localOffset)},i.prototype.error=function(t){return this.task.error(this.time-this.localOffset,t)},i.prototype.dispose=function(){return this.scheduler.cancel(this),this.task.dispose()};var o=function(t,n){this.origin=t,this.scheduler=n};o.prototype.currentTime=function(){return this.scheduler.currentTime()-this.origin},o.prototype.scheduleTask=function(t,n,e,r){return this.scheduler.scheduleTask(t+this.origin,n,e,r)},o.prototype.relative=function(t){return new o(t+this.origin,this.scheduler)},o.prototype.cancel=function(t){return this.scheduler.cancel(t)},o.prototype.cancelAll=function(t){return this.scheduler.cancelAll(t)};
/** @license MIT License (c) copyright 2010-2017 original author or authors */
var u=function(t){return Promise.resolve(t).then(s)};function s(t){try{return t.run()}catch(n){return t.error(n)}}
/** @license MIT License (c) copyright 2010-2017 original author or authors */var c=function(t,n){var e=this;this.timer=t,this.timeline=n,this._timer=null,this._nextArrival=1/0,this._runReadyTasksBound=function(){return e._runReadyTasks(e.currentTime())}};c.prototype.currentTime=function(){return this.timer.now()},c.prototype.scheduleTask=function(t,n,e,r){var o=this.currentTime()+Math.max(0,n),u=new i(o,t,e,r,this);return this.timeline.add(u),this._scheduleNextRun(),u},c.prototype.relative=function(t){return new o(t,this)},c.prototype.cancel=function(t){t.active=!1,this.timeline.remove(t)&&this._reschedule()},c.prototype.cancelAll=function(t){this.timeline.removeAll(t),this._reschedule()},c.prototype._reschedule=function(){this.timeline.isEmpty()?this._unschedule():this._scheduleNextRun(this.currentTime())},c.prototype._unschedule=function(){this.timer.clearTimer(this._timer),this._timer=null},c.prototype._scheduleNextRun=function(){if(!this.timeline.isEmpty()){var t=this.timeline.nextArrival();null===this._timer?this._scheduleNextArrival(t):t<this._nextArrival&&(this._unschedule(),this._scheduleNextArrival(t))}},c.prototype._scheduleNextArrival=function(t){this._nextArrival=t;var n=Math.max(0,t-this.currentTime());this._timer=this.timer.setTimer(this._runReadyTasksBound,n)},c.prototype._runReadyTasks=function(){this._timer=null,this.timeline.runTasks(this.currentTime(),s),this._scheduleNextRun()};
/** @license MIT License (c) copyright 2010-2017 original author or authors */
var a=function(){this.tasks=[]};function h(t,n,e){for(var r=0;r<n.length;++r){var i=n[r];i.active&&(t(i),i.period>=0&&i.active&&(i.time=i.time+i.period,f(i,e)))}return e}function f(t,n){var e=n.length,r=p(t);if(0!==e){var i=d(r,n);i>=e?n.push(v(r,[t])):function(t,n,e,r){var i=n[r];e===i.time?function(t,n){0===n.length||t.time>=n[n.length-1].time?n.push(t):function(t,n){for(var e=0;e<n.length;e++)if(t.time<n[e].time){n.splice(e,0,t);break}}(t,n)}(t,i.events):n.splice(r,0,v(e,[t]))}(t,n,r,i)}else n.push(v(r,[t]))}function p(t){return Math.floor(t.time)}function l(t,n){n.events=Object(r.k)(t,n.events)}function d(t,n){for(var e,r,i=0,o=n.length;i<o;){if(t===(r=n[e=Math.floor((i+o)/2)]).time)return e;t<r.time?o=e:i=e+1}return o}a.prototype.nextArrival=function(){return this.isEmpty()?1/0:this.tasks[0].time},a.prototype.isEmpty=function(){return 0===this.tasks.length},a.prototype.add=function(t){f(t,this.tasks)},a.prototype.remove=function(t){var n=d(p(t),this.tasks);if(n>=0&&n<this.tasks.length){var e=Object(r.f)(t,this.tasks[n].events);if(e>=0)return this.tasks[n].events.splice(e,1),!0}return!1},a.prototype.removeAll=function(t){for(var n=0;n<this.tasks.length;++n)l(t,this.tasks[n])},a.prototype.runTasks=function(t,n){for(var e=this.tasks,r=e.length,i=0;i<r&&e[i].time<=t;)++i;this.tasks=e.slice(i);for(var o=0;o<i;++o)this.tasks=h(n,e[o].events,this.tasks)};var v=function(t,n){return{time:t,events:n}},y=function(t){this._clock=t};
/** @license MIT License (c) copyright 2010-2017 original author or authors */y.prototype.now=function(){return this._clock.now()},y.prototype.setTimer=function(t,n){return n<=0?function(t){var n=new m(t);return u(n),n}
/** @license MIT License (c) copyright 2010-2017 original author or authors */(t):setTimeout(t,n)},y.prototype.clearTimer=function(t){return t instanceof m?t.cancel():clearTimeout(t)};var m=function(t){this.f=t,this.active=!0};m.prototype.run=function(){return this.active&&this.f()},m.prototype.error=function(t){throw t},m.prototype.cancel=function(){this.active=!1};var g=function(t,n){this.origin=n,this.clock=t};g.prototype.now=function(){return this.clock.now()-this.origin};var b=function(t,n){this.origin=n,this.hrtime=t};b.prototype.now=function(){var t=this.hrtime(this.origin);return(1e9*t[0]+t[1])/1e6};var w=function(t){return t.currentTime()};Object(r.d)(function(t,n){return n.scheduleTask(0,0,-1,t)}),Object(r.e)(function(t,n,e){return e.scheduleTask(0,t,-1,n)}),Object(r.e)(function(t,n,e){return e.scheduleTask(0,0,t,n)}),Object(r.d)(function(t,n){return n.cancelAll(t)}),Object(r.d)(function(t,n){return new o(t,n)}),Object(r.d)(function(t,n){return new c(t,n)})}).call(this,e(12))},function(t,n,e){function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var i=e(8),o=e(11),u=o.Point,s=o.hemisphere,c=e(31),a=e(50),h=e(16),f=e(21);t.exports=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},i=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.forEach(function(n){r(t,n,e[n])})}return t}({EventType:i,Point:u,hemisphere:s,ordering:h,recurrence:f},c,a)},function(t,n,e){"use strict";if(t.exports)var r=e(9);function i(t,n){if(!(this instanceof i))return new i(t,n);this.lat=Number(t),this.lon=Number(n)}i.prototype.distanceTo=function(t,n){if(!(t instanceof i))throw new TypeError("point is not LatLon object");var e=n=void 0===n?6371e3:Number(n),r=this.lat.toRadians(),o=this.lon.toRadians(),u=t.lat.toRadians(),s=u-r,c=t.lon.toRadians()-o,a=Math.sin(s/2)*Math.sin(s/2)+Math.cos(r)*Math.cos(u)*Math.sin(c/2)*Math.sin(c/2);return e*(2*Math.atan2(Math.sqrt(a),Math.sqrt(1-a)))},i.prototype.bearingTo=function(t){if(!(t instanceof i))throw new TypeError("point is not LatLon object");var n=this.lat.toRadians(),e=t.lat.toRadians(),r=(t.lon-this.lon).toRadians(),o=Math.sin(r)*Math.cos(e),u=Math.cos(n)*Math.sin(e)-Math.sin(n)*Math.cos(e)*Math.cos(r);return(Math.atan2(o,u).toDegrees()+360)%360},i.prototype.finalBearingTo=function(t){if(!(t instanceof i))throw new TypeError("point is not LatLon object");return(t.bearingTo(this)+180)%360},i.prototype.midpointTo=function(t){if(!(t instanceof i))throw new TypeError("point is not LatLon object");var n=this.lat.toRadians(),e=this.lon.toRadians(),r=t.lat.toRadians(),o=(t.lon-this.lon).toRadians(),u=Math.cos(r)*Math.cos(o),s=Math.cos(r)*Math.sin(o),c=Math.sqrt((Math.cos(n)+u)*(Math.cos(n)+u)+s*s),a=Math.sin(n)+Math.sin(r),h=Math.atan2(a,c),f=e+Math.atan2(s,Math.cos(n)+u);return new i(h.toDegrees(),(f.toDegrees()+540)%360-180)},i.prototype.intermediatePointTo=function(t,n){if(!(t instanceof i))throw new TypeError("point is not LatLon object");var e=this.lat.toRadians(),r=this.lon.toRadians(),o=t.lat.toRadians(),u=t.lon.toRadians(),s=Math.sin(e),c=Math.cos(e),a=Math.sin(r),h=Math.cos(r),f=Math.sin(o),p=Math.cos(o),l=Math.sin(u),d=Math.cos(u),v=o-e,y=u-r,m=Math.sin(v/2)*Math.sin(v/2)+Math.cos(e)*Math.cos(o)*Math.sin(y/2)*Math.sin(y/2),g=2*Math.atan2(Math.sqrt(m),Math.sqrt(1-m)),b=Math.sin((1-n)*g)/Math.sin(g),w=Math.sin(n*g)/Math.sin(g),M=b*c*h+w*p*d,k=b*c*a+w*p*l,_=b*s+w*f,x=Math.atan2(_,Math.sqrt(M*M+k*k)),T=Math.atan2(k,M);return new i(x.toDegrees(),(T.toDegrees()+540)%360-180)},i.prototype.destinationPoint=function(t,n,e){e=void 0===e?6371e3:e;var r=Number(t)/Number(e),o=Number(n).toRadians(),u=this.lat.toRadians(),s=this.lon.toRadians(),c=Math.sin(u),a=Math.cos(u),h=Math.sin(r),f=Math.cos(r),p=Math.sin(o),l=c*f+a*h*Math.cos(o),d=Math.asin(l),v=p*h*a,y=f-c*l,m=s+Math.atan2(v,y);return new i(d.toDegrees(),(m.toDegrees()+540)%360-180)},i.intersection=function(t,n,e,r){if(!(t instanceof i))throw new TypeError("p1 is not LatLon object");if(!(e instanceof i))throw new TypeError("p2 is not LatLon object");var o=t.lat.toRadians(),u=t.lon.toRadians(),s=e.lat.toRadians(),c=e.lon.toRadians(),a=Number(n).toRadians(),h=Number(r).toRadians(),f=s-o,p=c-u,l=2*Math.asin(Math.sqrt(Math.sin(f/2)*Math.sin(f/2)+Math.cos(o)*Math.cos(s)*Math.sin(p/2)*Math.sin(p/2)));if(0==l)return null;var d=Math.acos((Math.sin(s)-Math.sin(o)*Math.cos(l))/(Math.sin(l)*Math.cos(o)));isNaN(d)&&(d=0);var v=Math.acos((Math.sin(o)-Math.sin(s)*Math.cos(l))/(Math.sin(l)*Math.cos(s))),y=a-(Math.sin(c-u)>0?d:2*Math.PI-d),m=(Math.sin(c-u)>0?2*Math.PI-v:v)-h;if(0==Math.sin(y)&&0==Math.sin(m))return null;if(Math.sin(y)*Math.sin(m)<0)return null;var g=-Math.cos(y)*Math.cos(m)+Math.sin(y)*Math.sin(m)*Math.cos(l),b=Math.atan2(Math.sin(l)*Math.sin(y)*Math.sin(m),Math.cos(m)+Math.cos(y)*g),w=Math.asin(Math.sin(o)*Math.cos(b)+Math.cos(o)*Math.sin(b)*Math.cos(a)),M=u+Math.atan2(Math.sin(a)*Math.sin(b)*Math.cos(o),Math.cos(b)-Math.sin(o)*Math.sin(w));return new i(w.toDegrees(),(M.toDegrees()+540)%360-180)},i.prototype.crossTrackDistanceTo=function(t,n,e){if(!(t instanceof i))throw new TypeError("‘pathStart’ is not LatLon object");if(!(n instanceof i))throw new TypeError("‘pathEnd’ is not LatLon object");var r=void 0===e?6371e3:Number(e),o=t.distanceTo(this,r)/r,u=t.bearingTo(this).toRadians(),s=t.bearingTo(n).toRadians();return Math.asin(Math.sin(o)*Math.sin(u-s))*r},i.prototype.alongTrackDistanceTo=function(t,n,e){if(!(t instanceof i))throw new TypeError("‘pathStart’ is not LatLon object");if(!(n instanceof i))throw new TypeError("‘pathEnd’ is not LatLon object");var r=void 0===e?6371e3:e,o=t.distanceTo(this,r)/r,u=t.bearingTo(this).toRadians(),s=t.bearingTo(n).toRadians(),c=Math.asin(Math.sin(o)*Math.sin(u-s));return Math.acos(Math.cos(o)/Math.abs(Math.cos(c)))*Math.sign(Math.cos(s-u))*r},i.prototype.maxLatitude=function(t){var n=Number(t).toRadians(),e=this.lat.toRadians();return Math.acos(Math.abs(Math.sin(n)*Math.cos(e))).toDegrees()},i.crossingParallels=function(t,n,e){var r=Number(e).toRadians(),i=t.lat.toRadians(),o=t.lon.toRadians(),u=n.lat.toRadians(),s=n.lon.toRadians()-o,c=Math.sin(i)*Math.cos(u)*Math.cos(r)*Math.sin(s),a=Math.sin(i)*Math.cos(u)*Math.cos(r)*Math.cos(s)-Math.cos(i)*Math.sin(u)*Math.cos(r),h=Math.cos(i)*Math.cos(u)*Math.sin(r)*Math.sin(s);if(h*h>c*c+a*a)return null;var f=Math.atan2(-a,c),p=Math.acos(h/Math.sqrt(c*c+a*a)),l=o+f+p;return{lon1:((o+f-p).toDegrees()+540)%360-180,lon2:(l.toDegrees()+540)%360-180}},i.prototype.rhumbDistanceTo=function(t,n){if(!(t instanceof i))throw new TypeError("point is not LatLon object");var e=n=void 0===n?6371e3:Number(n),r=this.lat.toRadians(),o=t.lat.toRadians(),u=o-r,s=Math.abs(t.lon-this.lon).toRadians();s>Math.PI&&(s-=2*Math.PI);var c=Math.log(Math.tan(o/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),a=Math.abs(c)>1e-11?u/c:Math.cos(r);return Math.sqrt(u*u+a*a*s*s)*e},i.prototype.rhumbBearingTo=function(t){if(!(t instanceof i))throw new TypeError("point is not LatLon object");var n=this.lat.toRadians(),e=t.lat.toRadians(),r=(t.lon-this.lon).toRadians();r>Math.PI&&(r-=2*Math.PI),r<-Math.PI&&(r+=2*Math.PI);var o=Math.log(Math.tan(e/2+Math.PI/4)/Math.tan(n/2+Math.PI/4));return(Math.atan2(r,o).toDegrees()+360)%360},i.prototype.rhumbDestinationPoint=function(t,n,e){e=void 0===e?6371e3:e;var r=this.lat.toRadians(),o=this.lon.toRadians(),u=Number(n).toRadians(),s=t/e,c=s*Math.cos(u),a=r+c;Math.abs(a)>Math.PI/2&&(a=a>0?Math.PI-a:-Math.PI-a);var h=Math.log(Math.tan(a/2+Math.PI/4)/Math.tan(r/2+Math.PI/4)),f=Math.abs(h)>1e-11?c/h:Math.cos(r),p=o+s*Math.sin(u)/f;return new i(a.toDegrees(),(p.toDegrees()+540)%360-180)},i.prototype.rhumbMidpointTo=function(t){if(!(t instanceof i))throw new TypeError("point is not LatLon object");var n=this.lat.toRadians(),e=this.lon.toRadians(),r=t.lat.toRadians(),o=t.lon.toRadians();Math.abs(o-e)>Math.PI&&(e+=2*Math.PI);var u=(n+r)/2,s=Math.tan(Math.PI/4+n/2),c=Math.tan(Math.PI/4+r/2),a=Math.tan(Math.PI/4+u/2),h=((o-e)*Math.log(a)+e*Math.log(c)-o*Math.log(s))/Math.log(c/s);return isFinite(h)||(h=(e+o)/2),i(u.toDegrees(),(h.toDegrees()+540)%360-180)},i.areaOf=function(t,n){var e=void 0===n?6371e3:Number(n),r=t[0].equals(t[t.length-1]);r||t.push(t[0]);for(var i=t.length-1,o=0,u=0;u<i;u++){var s=t[u].lat.toRadians(),c=t[u+1].lat.toRadians(),a=(t[u+1].lon-t[u].lon).toRadians();o+=2*Math.atan2(Math.tan(a/2)*(Math.tan(s/2)+Math.tan(c/2)),1+Math.tan(s/2)*Math.tan(c/2))}(function(t){for(var n=0,e=t[0].bearingTo(t[1]),r=0;r<t.length-1;r++){var i=t[r].bearingTo(t[r+1]),o=t[r].finalBearingTo(t[r+1]);n+=(i-e+540)%360-180,n+=(o-i+540)%360-180,e=o}var i=t[0].bearingTo(t[1]);return n+=(i-e+540)%360-180,Math.abs(n)<90})(t)&&(o=Math.abs(o)-2*Math.PI);var h=Math.abs(o*e*e);return r||t.pop(),h},i.prototype.equals=function(t){if(!(t instanceof i))throw new TypeError("point is not LatLon object");return this.lat==t.lat&&this.lon==t.lon},i.prototype.toString=function(t,n){return r.toLat(this.lat,t,n)+", "+r.toLon(this.lon,t,n)},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),t.exports&&(t.exports=i)},function(t,n,e){"use strict";if(t.exports)var r=e(7);r.prototype.distanceTo=function(t){if(!(t instanceof r))throw new TypeError("point is not LatLon object");try{return Number(this.inverse(t).distance.toFixed(3))}catch(t){return NaN}},r.prototype.initialBearingTo=function(t){if(!(t instanceof r))throw new TypeError("point is not LatLon object");try{return Number(this.inverse(t).initialBearing.toFixed(9))}catch(t){return NaN}},r.prototype.finalBearingTo=function(t){if(!(t instanceof r))throw new TypeError("point is not LatLon object");try{return Number(this.inverse(t).finalBearing.toFixed(9))}catch(t){return NaN}},r.prototype.destinationPoint=function(t,n){return this.direct(Number(t),Number(n)).point},r.prototype.finalBearingOn=function(t,n){return Number(this.direct(Number(t),Number(n)).finalBearing.toFixed(9))},r.prototype.direct=function(t,n){var e,i,o,u,s=this.lat.toRadians(),c=this.lon.toRadians(),a=n.toRadians(),h=t,f=this.datum.ellipsoid.a,p=this.datum.ellipsoid.b,l=this.datum.ellipsoid.f,d=Math.sin(a),v=Math.cos(a),y=(1-l)*Math.tan(s),m=1/Math.sqrt(1+y*y),g=y*m,b=Math.atan2(y,v),w=m*d,M=1-w*w,k=M*(f*f-p*p)/(p*p),_=1+k/16384*(4096+k*(k*(320-175*k)-768)),x=k/1024*(256+k*(k*(74-47*k)-128)),T=h/(p*_),j=0;do{e=Math.cos(2*b+T),u=T,T=h/(p*_)+x*(i=Math.sin(T))*(e+x/4*((o=Math.cos(T))*(2*e*e-1)-x/6*e*(4*i*i-3)*(4*e*e-3)))}while(Math.abs(T-u)>1e-12&&++j<100);if(j>=100)throw new Error("Formula failed to converge");var O=g*i-m*o*v,E=Math.atan2(g*o+m*i*v,(1-l)*Math.sqrt(w*w+O*O)),N=l/16*M*(4+l*(4-3*M)),A=(c+(Math.atan2(i*d,m*o-g*i*v)-(1-N)*l*w*(T+N*i*(e+N*o*(2*e*e-1))))+3*Math.PI)%(2*Math.PI)-Math.PI,S=Math.atan2(w,-O);return S=(S+2*Math.PI)%(2*Math.PI),{point:new r(E.toDegrees(),A.toDegrees(),this.datum),finalBearing:S.toDegrees(),iterations:j}},r.prototype.inverse=function(t){var n=t;-180==this.lon&&(this.lon=180);var e,r,i,o,u,s,c=this.lat.toRadians(),a=this.lon.toRadians(),h=n.lat.toRadians(),f=n.lon.toRadians(),p=this.datum.ellipsoid.a,l=this.datum.ellipsoid.b,d=this.datum.ellipsoid.f,v=f-a,y=(1-d)*Math.tan(c),m=1/Math.sqrt(1+y*y),g=y*m,b=(1-d)*Math.tan(h),w=1/Math.sqrt(1+b*b),M=b*w,k=0,_=0,x=0,T=0,j=0,O=v,E=0,N=Math.abs(v)>Math.PI;do{if(0==(i=w*(e=Math.sin(O))*(w*e)+(m*M-g*w*(r=Math.cos(O)))*(m*M-g*w*r)))break;if(_=g*M+m*w*r,s=O,O=v+(1-(u=d/16*(T=1-(o=m*w*e/(k=Math.sqrt(i)))*o)*(4+d*(4-3*T))))*d*o*((x=Math.atan2(k,_))+u*k*((j=0!=T?_-2*g*M/T:0)+u*_*(2*j*j-1))),(N?Math.abs(O)-Math.PI:Math.abs(O))>Math.PI)throw new Error("λ > π")}while(Math.abs(O-s)>1e-12&&++E<1e3);if(E>=1e3)throw new Error("Formula failed to converge");var A=T*(p*p-l*l)/(l*l),S=A/1024*(256+A*(A*(74-47*A)-128)),R=l*(1+A/16384*(4096+A*(A*(320-175*A)-768)))*(x-S*k*(j+S/4*(_*(2*j*j-1)-S/6*j*(4*k*k-3)*(4*j*j-3)))),I=Math.atan2(w*e,m*M-g*w*r),L=Math.atan2(m*e,-g*w+m*M*r);return I=(I+2*Math.PI)%(2*Math.PI),L=(L+2*Math.PI)%(2*Math.PI),{distance:R,initialBearing:0==R?NaN:I.toDegrees(),finalBearing:0==R?NaN:L.toDegrees(),iterations:E}},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),t.exports&&(t.exports=r)},function(t,n,e){"use strict";if(t.exports)var r=e(13);if(t.exports)var i=e(9);function o(t,n){if(!(this instanceof o))return new o(t,n);this.lat=Number(t),this.lon=Number(n)}o.prototype.toVector=function(){var t=this.lat.toRadians(),n=this.lon.toRadians(),e=Math.cos(t)*Math.cos(n),i=Math.cos(t)*Math.sin(n),o=Math.sin(t);return new r(e,i,o)},r.prototype.toLatLonS=function(){var t=Math.atan2(this.z,Math.sqrt(this.x*this.x+this.y*this.y)),n=Math.atan2(this.y,this.x);return new o(t.toDegrees(),n.toDegrees())},o.prototype.greatCircle=function(t){var n=this.lat.toRadians(),e=this.lon.toRadians(),i=Number(t).toRadians(),o=Math.sin(e)*Math.cos(i)-Math.sin(n)*Math.cos(e)*Math.sin(i),u=-Math.cos(e)*Math.cos(i)-Math.sin(n)*Math.sin(e)*Math.sin(i),s=Math.cos(n)*Math.sin(i);return new r(o,u,s)},r.prototype.greatCircle=function(t){var n=Number(t).toRadians(),e=new r(0,0,1).cross(this),i=this.cross(e),o=e.times(Math.cos(n)/e.length());return i.times(Math.sin(n)/i.length()).minus(o)},o.prototype.distanceTo=function(t,n){if(!(t instanceof o))throw new TypeError("point is not LatLon object");n=void 0===n?6371e3:Number(n);var e=this.toVector(),r=t.toVector();return e.angleTo(r)*n},o.prototype.bearingTo=function(t){if(!(t instanceof o))throw new TypeError("point is not LatLon object");var n=this.toVector(),e=t.toVector(),i=new r(0,0,1),u=n.cross(e),s=n.cross(i);return(u.angleTo(s,n).toDegrees()+360)%360},o.prototype.midpointTo=function(t){if(!(t instanceof o))throw new TypeError("point is not LatLon object");var n=this.toVector(),e=t.toVector();return n.plus(e).unit().toLatLonS()},o.prototype.intermediatePointTo=function(t,n){if(!(t instanceof o))throw new TypeError("point is not LatLon object");var e=this.toVector(),i=t.toVector(),u=e.cross(i).length(),s=e.dot(i),c=Math.atan2(u,s)*Number(n),a=Math.sin(c),h=Math.cos(c),f=e.cross(i).unit().cross(e),p=e.times(h).plus(f.times(a));return new r(p.x,p.y,p.z).toLatLonS()},o.prototype.intermediatePointOnChordTo=function(t,n){if(!(t instanceof o))throw new TypeError("point is not LatLon object");var e=this.toVector(),i=t.toVector(),u=e.plus(i.minus(e).times(Number(n)));return new r(u.x,u.y,u.z).toLatLonS()},o.prototype.destinationPoint=function(t,n,e){e=void 0===e?6371e3:Number(e);var i=this.toVector(),o=Number(t)/e,u=Number(n).toRadians(),s=new r(0,0,1).cross(i).unit(),c=i.cross(s),a=s.times(Math.sin(u)),h=c.times(Math.cos(u)).plus(a),f=i.times(Math.cos(o)),p=h.times(Math.sin(o));return f.plus(p).toLatLonS()},o.intersection=function(t,n,e,r){if(!(t instanceof o))throw new TypeError("path1start is not LatLon object");if(!(e instanceof o))throw new TypeError("path2start is not LatLon object");if(!(n instanceof o)&&isNaN(n))throw new TypeError("path1brngEnd is not LatLon object or bearing");if(!(r instanceof o)&&isNaN(r))throw new TypeError("path2brngEnd is not LatLon object or bearing");var i,u,s,c,a=t.toVector(),h=e.toVector();n instanceof o?(i=a.cross(n.toVector()),s="endpoint"):(i=t.greatCircle(Number(n)),s="bearing"),r instanceof o?(u=h.cross(r.toVector()),c="endpoint"):(u=e.greatCircle(Number(r)),c="bearing");var f=i.cross(u),p=u.cross(i),l=null;switch(s+"+"+c){case"bearing+bearing":switch(Math.sign(i.cross(a).dot(f))+Math.sign(u.cross(h).dot(f))){case 2:l=f;break;case-2:l=p;break;case 0:l=a.plus(h).dot(f)>0?p:f}break;case"bearing+endpoint":l=Math.sign(i.cross(a).dot(f))>0?f:p;break;case"endpoint+bearing":l=Math.sign(u.cross(h).dot(f))>0?f:p;break;case"endpoint+endpoint":l=a.plus(h).plus(n.toVector()).plus(r.toVector()).dot(f)>0?f:p}return l.toLatLonS()},o.prototype.crossTrackDistanceTo=function(t,n,e){if(!(t instanceof o))throw new TypeError("pathStart is not LatLon object");var r=void 0===e?6371e3:Number(e),i=this.toVector();return((n instanceof o?t.toVector().cross(n.toVector()):t.greatCircle(Number(n))).angleTo(i)-Math.PI/2)*r},o.prototype.alongTrackDistanceTo=function(t,n,e){if(!(t instanceof o))throw new TypeError("pathStart is not LatLon object");var r=void 0===e?6371e3:Number(e),i=this.toVector(),u=n instanceof o?t.toVector().cross(n.toVector()):t.greatCircle(Number(n)),s=u.cross(i).cross(u);return t.toVector().angleTo(s,u)*r},o.prototype.nearestPointOnSegment=function(t,n){var e=null;if(this.isBetween(t,n)){var r=this.toVector(),i=t.toVector(),o=n.toVector(),u=i.cross(o),s=r.cross(u);e=u.cross(s).toLatLonS()}else{e=this.distanceTo(t)<this.distanceTo(n)?t:n}return e},o.prototype.isBetween=function(t,n){var e=this.toVector(),r=t.toVector(),i=n.toVector(),o=e.minus(r),u=i.minus(r),s=e.minus(i),c=r.minus(i),a=o.dot(u),h=s.dot(c),f=a>=0&&h>=0,p=e.dot(r)>=0&&e.dot(i)>=0;return f&&p},o.prototype.enclosedBy=function(t){var n=t[0].equals(t[t.length-1]);n||t.push(t[0]);for(var e=t.length-1,r=this.toVector(),i=[],o=0;o<e;o++)i[o]=r.minus(t[o].toVector());i.push(i[0]);var u=0;for(o=0;o<e;o++)u+=i[o].angleTo(i[o+1],r);var s=Math.abs(u)>Math.PI;return n||t.pop(),s},o.areaOf=function(t,n){var e=null==n?6371e3:Number(n),r=t[0].equals(t[t.length-1]);r||t.push(t[0]);for(var i=t.length-1,o=[],u=0;u<i;u++){var s=t[u].toVector(),c=t[u+1].toVector();o[u]=s.cross(c)}o.push(o[0]);var a=t[0].toVector(),h=0;for(u=0;u<i;u++)h+=o[u].angleTo(o[u+1],a);var f=(i*Math.PI-Math.abs(h)-(i-2)*Math.PI)*e*e;return r||t.pop(),f},o.meanOf=function(t){for(var n=new r(0,0,0),e=0;e<t.length;e++)n=n.plus(t[e].toVector());return n.unit().toLatLonS()},o.prototype.equals=function(t){if(!(t instanceof o))throw new TypeError("point is not LatLon object");return this.lat==t.lat&&this.lon==t.lon},o.prototype.toString=function(t,n){return i.toLat(this.lat,t,n)+", "+i.toLon(this.lon,t,n)},void 0===Number.prototype.toRadians&&(Number.prototype.toRadians=function(){return this*Math.PI/180}),void 0===Number.prototype.toDegrees&&(Number.prototype.toDegrees=function(){return 180*this/Math.PI}),void 0===Math.sign&&(Math.sign=function(t){return 0===(t=+t)||isNaN(t)?t:t>0?1:-1}),t.exports&&(t.exports=o,t.exports.Vector3d=r)},function(t,n,e){"use strict";if(t.exports)var r=e(19);if(t.exports)var i=e(7);function o(t,n,e,r,u,s,c){if(!(this instanceof o))return new o(t,n,e,r,u,s,c);if(void 0===c&&(c=i.datum.WGS84),!(1<=t&&t<=60))throw new Error("Invalid MGRS grid reference (zone ‘"+t+"’)");if(1!=n.length)throw new Error("Invalid MGRS grid reference (band ‘"+n+"’)");if(-1==o.latBands.indexOf(n))throw new Error("Invalid MGRS grid reference (band ‘"+n+"’)");if(1!=e.length)throw new Error("Invalid MGRS grid reference (e100k ‘"+e+"’)");if(1!=r.length)throw new Error("Invalid MGRS grid reference (n100k ‘"+r+"’)");this.zone=Number(t),this.band=n,this.e100k=e,this.n100k=r,this.easting=Number(u),this.northing=Number(s),this.datum=c}o.latBands="CDEFGHJKLMNPQRSTUVWXX",o.e100kLetters=["ABCDEFGH","JKLMNPQR","STUVWXYZ"],o.n100kLetters=["ABCDEFGHJKLMNPQRSTUV","FGHJKLMNPQRSTUVABCDE"],r.prototype.toMgrs=function(){if(isNaN(this.zone+this.easting+this.northing))throw new Error("Invalid UTM coordinate ‘"+this.toString()+"’");var t=this.zone,n=this.toLatLonE(),e=o.latBands.charAt(Math.floor(n.lat/8+10)),r=Math.floor(this.easting/1e5),i=o.e100kLetters[(t-1)%3].charAt(r-1),u=Math.floor(this.northing/1e5)%20,s=o.n100kLetters[(t-1)%2].charAt(u),c=this.easting%1e5,a=this.northing%1e5;return new o(t,e,i,s,c=Number(c.toFixed(6)),a=Number(a.toFixed(6)))},o.prototype.toUtm=function(){for(var t=this.zone,n=this.band,e=this.e100k,u=this.n100k,s=this.easting,c=this.northing,a=n>="N"?"N":"S",h=1e5*(o.e100kLetters[(t-1)%3].indexOf(e)+1),f=1e5*o.n100kLetters[(t-1)%2].indexOf(u),p=8*(o.latBands.indexOf(n)-10),l=1e5*Math.floor(new i(p,0).toUtm().northing/1e5),d=0;d+f+c<l;)d+=2e6;return new r(t,a,h+s,d+f+c,this.datum)},o.parse=function(t){if(!(t=t.trim()).match(/\s/)){var n=t.slice(5);n=n.slice(0,n.length/2)+" "+n.slice(-n.length/2),t=t.slice(0,3)+" "+t.slice(3,5)+" "+n}if(null==(t=t.match(/\S+/g))||4!=t.length)throw new Error("Invalid MGRS grid reference ‘"+t+"’");var e=t[0],r=e.slice(0,2),i=e.slice(2,3),u=t[1],s=u.slice(0,1),c=u.slice(1,2),a=t[2],h=t[3];return new o(r,i,s,c,a=a.length>=5?a:(a+"00000").slice(0,5),h=h.length>=5?h:(h+"00000").slice(0,5))},o.prototype.toString=function(t){if(t=void 0===t?10:Number(t),-1==[2,4,6,8,10].indexOf(t))throw new Error("Invalid precision ‘"+t+"’");var n=("00"+this.zone).slice(-2),e=this.band,r=this.e100k,i=this.n100k,o=Math.floor(this.easting/Math.pow(10,5-t/2)),u=Math.floor(this.northing/Math.pow(10,5-t/2));return n+e+" "+r+i+" "+("00000"+o).slice(-t/2)+" "+("00000"+u).slice(-t/2)},t.exports&&(t.exports=o)},function(t,n,e){"use strict";if(t.exports)var r=e(7);function i(t,n){if(!(this instanceof i))return new i(t,n);this.easting=Number(t),this.northing=Number(n)}i.latLonToOsGrid=function(t){if(!(t instanceof r))throw new TypeError("point is not LatLon object");t.datum!=r.datum.OSGB36&&(t=t.convertDatum(r.datum.OSGB36));var n=t.lat.toRadians(),e=t.lon.toRadians(),o=6377563.396,u=6356256.909,s=.9996012717,c=49..toRadians(),a=(-2).toRadians(),h=1-u*u/(o*o),f=(o-u)/(o+u),p=f*f,l=f*f*f,d=Math.cos(n),v=Math.sin(n),y=o*s/Math.sqrt(1-h*v*v),m=o*s*(1-h)/Math.pow(1-h*v*v,1.5),g=y/m-1,b=u*s*((1+f+5/4*p+5/4*l)*(n-c)-(3*f+3*f*f+21/8*l)*Math.sin(n-c)*Math.cos(n+c)+(15/8*p+15/8*l)*Math.sin(2*(n-c))*Math.cos(2*(n+c))-35/24*l*Math.sin(3*(n-c))*Math.cos(3*(n+c))),w=d*d*d,M=w*d*d,k=Math.tan(n)*Math.tan(n),_=k*k,x=e-a,T=x*x,j=T*x,O=j*x,E=O*x,N=b+-1e5+y/2*v*d*T+y/24*v*w*(5-k+9*g)*O+y/720*v*M*(61-58*k+_)*(E*x),A=4e5+y*d*x+y/6*w*(y/m-k)*j+y/120*M*(5-18*k+_+14*g-58*k*g)*E;return N=Number(N.toFixed(3)),new i(A=Number(A.toFixed(3)),N)},i.osGridToLatLon=function(t,n){if(!(t instanceof i))throw new TypeError("gridref is not OsGridRef object");void 0===n&&(n=r.datum.WGS84);var e=t.easting,o=t.northing,u=6377563.396,s=6356256.909,c=.9996012717,a=49..toRadians(),h=(-2).toRadians(),f=1-s*s/(u*u),p=(u-s)/(u+s),l=p*p,d=p*p*p,v=a,y=0;do{y=s*c*((1+p+5/4*l+5/4*d)*((v=(o- -1e5-y)/(u*c)+v)-a)-(3*p+3*p*p+21/8*d)*Math.sin(v-a)*Math.cos(v+a)+(15/8*l+15/8*d)*Math.sin(2*(v-a))*Math.cos(2*(v+a))-35/24*d*Math.sin(3*(v-a))*Math.cos(3*(v+a)))}while(o- -1e5-y>=1e-5);var m=Math.cos(v),g=Math.sin(v),b=u*c/Math.sqrt(1-f*g*g),w=u*c*(1-f)/Math.pow(1-f*g*g,1.5),M=b/w-1,k=Math.tan(v),_=k*k,x=_*_,T=1/m,j=b*b*b,O=j*b*b,E=e-4e5,N=E*E,A=N*E,S=N*N,R=A*N,I=h+T/b*E-T/(6*j)*(b/w+2*_)*A+T/(120*O)*(5+28*_+24*x)*R-T/(5040*(O*b*b))*(61+662*_+1320*x+720*(x*_))*(R*N),L=new r((v=v-k/(2*w*b)*N+k/(24*w*j)*(5+3*_+M-9*_*M)*S-k/(720*w*O)*(61+90*_+45*x)*(S*N)).toDegrees(),I.toDegrees(),r.datum.OSGB36);return n!=r.datum.OSGB36&&(L=L.convertDatum(n)),L},i.parse=function(t){var n=(t=String(t).trim()).match(/^(\d+),\s*(\d+)$/);if(n)return new i(n[1],n[2]);if(!(n=t.match(/^[A-Z]{2}\s*[0-9]+\s*[0-9]+$/i)))throw new Error("Invalid grid reference");var e=t.toUpperCase().charCodeAt(0)-"A".charCodeAt(0),r=t.toUpperCase().charCodeAt(1)-"A".charCodeAt(0);e>7&&e--,r>7&&r--;var o=(e-2)%5*5+r%5,u=19-5*Math.floor(e/5)-Math.floor(r/5),s=t.slice(2).trim().split(/\s+/);if(1==s.length&&(s=[s[0].slice(0,s[0].length/2),s[0].slice(s[0].length/2)]),o<0||o>6||u<0||u>12)throw new Error("Invalid grid reference");if(2!=s.length)throw new Error("Invalid grid reference");if(s[0].length!=s[1].length)throw new Error("Invalid grid reference");return s[0]=(s[0]+"00000").slice(0,5),s[1]=(s[1]+"00000").slice(0,5),new i(o+s[0],u+s[1])},i.prototype.toString=function(t){if(t=void 0===t?10:Number(t),isNaN(t)||t%2!=0||t>16)throw new RangeError("Invalid precision ‘"+t+"’");var n=this.easting,e=this.northing;if(isNaN(n)||isNaN(e))throw new Error("Invalid grid reference");if(0==t){var r=Math.floor(n),i=n-r,o=Math.floor(e),u=e-o;return("000000"+r).slice(-6)+(i>0?i.toFixed(3).slice(1):"")+","+((o<1e6?("000000"+o).slice(-6):o)+(u>0?u.toFixed(3).slice(1):""))}var s=Math.floor(n/1e5),c=Math.floor(e/1e5);if(s<0||s>6||c<0||c>12)return"";var a=19-c-(19-c)%5+Math.floor((s+10)/5),h=5*(19-c)%25+s%5;a>7&&a++,h>7&&h++;var f=String.fromCharCode(a+"A".charCodeAt(0),h+"A".charCodeAt(0));return n=Math.floor(n%1e5/Math.pow(10,5-t/2)),e=Math.floor(e%1e5/Math.pow(10,5-t/2)),f+" "+(n=("00000000"+n).slice(-t/2))+" "+(e=("00000000"+e).slice(-t/2))},t.exports&&(t.exports=i)},function(t,n){t.exports={NORTH:"N",SOUTH:"S"}},function(t,n,e){function r(t,n,e){return n in t?Object.defineProperty(t,n,{value:e,enumerable:!0,configurable:!0,writable:!0}):t[n]=e,t}var i=e(5),o=e(4),u=e(6),s=u.retry,c=u.flatStream,a=e(34),h=e(43),f=e(44),p=e(45),l=e(46),d=e(47),v=e(48),y=e(49),m=function(){return function(t){return i.multicast(t)}},g=function(t){return i.chain(o.compose(c,t))};t.exports=function(t){for(var n=1;n<arguments.length;n++){var e=null!=arguments[n]?arguments[n]:{},i=Object.keys(e);"function"==typeof Object.getOwnPropertySymbols&&(i=i.concat(Object.getOwnPropertySymbols(e).filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),i.forEach(function(n){r(t,n,e[n])})}return t}({},a,h,f,p,l,d,v,y,{tap:function(t){return i.tap(t)},retry:function(t){return s(t)},multicast:function(){return m()},share:m,filter:function(t){return i.filter(t)},map:function(t){return i.map(t)},debounce:function(t){return i.debounce(t)},throttle:function(t){return i.throttle(t)},delay:function(t){return i.delay(t)},skip:function(t){return i.skip(t)},skipWhile:function(t){return i.skipWhile(t)},skipUntil:function(t){return i.since(c(t))},take:function(t){return i.take(t)},takeWhile:function(t){return i.takeWhile(t)},takeUntil:function(t){return i.until(c(t))},mergeMap:g,flatMap:function(t){return g(t)},concatMap:function(t){return i.concatMap(o.compose(c,t))}})},function(t,n,e){function r(t,n){for(var e=0;e<n.length;e++){var r=n[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}e(11).unsubscribe;var i=function(){function t(n){!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.subscription=n,this.closed=!1}var n,e,i;return n=t,(e=[{key:"unsubscribe",value:function(){this.closed||(this.subscription.unsubscribe(),this.closed=!0)}}])&&r(n.prototype,e),i&&r(n,i),t}();t.exports=i},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.last=function(t){return new r(t)};var r=function(){function t(t){this.source=t}return t.prototype.run=function(t,n){return this.source.run(new i(t),n)},t}(),i=function(){function t(t){this.sink=t}return t.prototype.event=function(t,n){this.held={val:n}},t.prototype.error=function(t,n){this.sink.error(t,n)},t.prototype.end=function(t){this.held&&this.sink.event(t,this.held.val),this.sink.end(t)},t}()},function(t,n,e){var r=e(14).fromArray,i=e(5),o=i.filter,u=i.multicast,s=i.map,c=i.chain,a=i.at,h=e(4),f=e(10),p=f.getRecurrenceMilliseconds,l=f.ordering,d=f.occProp,v=f.detcProp,y=e(6),m=y.predEvtTypeList,g=y.getProp,b=y.timer,w=y.race,M=y.bufferCount,k=y.bufferTime,_=y.bufferToggle,x=e(42);t.exports={tumblingCountWindow:function(t){return function(n){return M(t,n)}},tumblingTimeWindow:function(t){return function(n){return k(t,n)}},slidingCountWindow:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return function(e){return M(t,n,e)}},slidingTimeWindow:function(t,n){return function(e){return k(t,n,e)}},fixedIntervalWindow:function(t,n,e,r){return function(i){var u=p(t,e),s=h.is(Number,n)?n:x(n,t),c=r===l.OCCURRENCE_TIME?d:v;return o(h.filter(h.compose(function(n){return n>=t.getTime()},c)),_(b(t,u),b(s),i))}},eventIntervalWindow:function(t,n,e){return function(r){var i=m(t),s=m(n),c=u(r),f=o(h.cond(i),c),p=o(h.cond(s),c);return _(f,e?w(p,a(e,1)):p,c)}},groupBy:function(t){return function(n){return c(r,s(h.groupWith(h.eqBy(g(t))),n))}}}},function(t,n,e){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=function(){function t(t,n){this.array=t,this.sink=n,this.active=!0}return t.prototype.run=function(t){for(var n=this.array,e=this.sink,r=n.length,i=0;i<r&&this.active;i++)e.event(t,n[i]);this.active&&e.end(t)},t.prototype.error=function(t,n){this.sink.error(t,n)},t.prototype.dispose=function(){this.active=!1},t}();n.ArrayTask=r},function(t,n,e){var r=e(15);t.exports=function(t){var n=r(t),e=n.getFullYear(),i=n.getMonth(),o=new Date(0);return o.setFullYear(e,i+1,0),o.setHours(0,0,0,0),o.getDate()}},function(t,n){t.exports=function(t){var n=new Date(t.getTime()),e=n.getTimezoneOffset();return n.setSeconds(0,0),6e4*e+n.getTime()%6e4}},function(t,n){t.exports=function(t){return t instanceof Date}},function(t,n,e){var r=e(40);t.exports=function(t){return r(t)?366:365}},function(t,n,e){var r=e(15);t.exports=function(t){var n=r(t).getFullYear();return n%400==0||n%4==0&&n%100!=0}},function(t,n,e){var r=e(16),i={OCCURRENCE_TIME:r.OCCURRENCE_TIME,DETECTION_TIME:r.DETECTION_TIME,STREAM_POSITION:"S"};t.exports=i},function(t,n,e){var r=e(15);t.exports=function(t,n){var e=r(t),i=r(n);return e.getTime()-i.getTime()}},function(t,n,e){var r=e(5).map,i=e(4),o=e(8),u=e(10).occTimeLens;t.exports={project:function(t,n){return function(e){return r(function(e){return r=t,s=e,c=new o(n,"project",i.view(u,s),Date.now()),i.forEach(function(t){return c=i.assoc(t,i.view(i.lensProp(t),s),c)},r),c;var r,s,c},e)}}}},function(t,n,e){var r=e(5),i=r.filter,o=r.map,u=r.chain,s=e(14).fromArray,c=e(4),a=e(6),h=a.predEvtTypeList,f=a.compareEvtType,p=a.deriveEvt,l=a.isWindow,d=a.evtTypeListLengthOne,v=a.filterEvtsByEvtTypes,y=c.curry(function(t,n,e){return c.uniq(t).reduce(function(t,r){return t.push(1===n[r]?e.filter(f(r)):c.splitEvery(n[r],e.filter(f(r)))),t},[])}),m=c.curry(function(t,n){return n.filter(function(n){return!t||c.apply(t,n)})}),g=c.curry(function(t,n){return n.length===t});t.exports={all:function(t,n,e){return function(r){var a,h=(a=t,c.countBy(c.identity,a)),f=p("all",n);return o(f,u(s,o(m(e),i(c.filter(g(t.length)),o(c.map(c.flatten),o(function(t){return c.apply((n=t.length,c.liftN(n,function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return n})),t);var n},o(y(t,h),i(l,i(function(n){return d(t)},r)))))))))}},any:function(t,n){return function(e){var r=c.allPass([function(t){return!c.isEmpty(t)},function(t){return!c.isNil(t)}]),u=h(t),s=p("any",n);return o(s,i(r,o(c.head,o(v(u),i(l,e)))))}},absence:function(t,n){return function(e){var r=c.allPass([function(t){return!c.isNil(t)},c.isEmpty]),u=h(t),s=p("absence",n);return o(s,i(r,o(v(u),i(l,e))))}}}},function(t,n,e){function r(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,i=!1,o=void 0;try{for(var u,s=t[Symbol.iterator]();!(r=(u=s.next()).done)&&(e.push(u.value),!n||e.length!==n);r=!0);}catch(t){i=!0,o=t}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return e}(t,n)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}var i=e(5),o=i.filter,u=i.map,s=e(4),c=e(17).Point,a=e(6),h=a.predEvtTypeList,f=a.getLens,p=a.deriveEvt,l=a.isWindow,d=a.filterEvtsByEvtTypes,v=a.minFn,y=a.maxFn,m=a.AccHelper,g=function(t){return function(n){var e=r(n,2),i=e[0],o=e[1];return c.distance(s.view(t,i),s.view(t,o))}},b=s.curry(function(t,n,e){return c.distance(t,s.view(n,e))}),w=s.construct(m);t.exports={minDistance:function(t,n,e,r,i){return function(c){var a=h(t),y=f(e),m=b(n,y),g=p("min distance pattern",i),M=s.compose(r,v,s.map(m));return u(s.compose(g,s.prop("set")),o(s.prop("result"),u(function(t){return w(M(t),t)},u(d(a),o(l,c)))))}},maxDistance:function(t,n,e,r,i){return function(c){var a=h(t),v=f(e),m=b(n,v),g=p("max distance pattern",i),M=s.compose(r,y,s.map(m));return u(s.compose(g,s.prop("set")),o(s.prop("result"),u(function(t){return w(M(t),t)},u(d(a),o(l,c)))))}},avgDistance:function(t,n,e,r,i){return function(c){var a=h(t),v=f(e),y=b(n,v),m=p("average distance pattern",i),g=s.compose(r,s.mean,s.map(y));return u(s.compose(m,s.prop("set")),o(s.prop("result"),u(function(t){return w(g(t),t)},u(d(a),o(l,c)))))}},relativeMinDistance:function(t,n,e,r){return function(i){var c=h(t),a=f(n),y=g(a),m=p("relative min distance pattern",r),b=s.compose(e,v,s.map(y),s.aperture(2));return u(s.compose(m,s.prop("set")),o(s.prop("result"),u(function(t){return w(b(t),t)},u(d(c),o(l,i)))))}},relativeMaxDistance:function(t,n,e,r){return function(i){var c=h(t),a=f(n),v=g(a),m=p("relative max distance pattern",r),b=s.compose(e,y,s.map(v),s.aperture(2));return u(s.compose(m,s.prop("set")),o(s.prop("result"),u(function(t){return w(b(t),t)},u(d(c),o(l,i)))))}},relativeAvgDistance:function(t,n,e,r){return function(i){var c=h(t),a=f(n),v=g(a),y=p("relative average distance pattern",r),m=s.compose(e,s.mean,s.map(v),s.aperture(2));return u(s.compose(y,s.prop("set")),o(s.prop("result"),u(function(t){return w(m(t),t)},u(d(c),o(l,i)))))}}}},function(t,n,e){var r=e(5),i=r.filter,o=r.map,u=e(4),s=e(6),c=s.predEvtTypeList,a=s.filterEvtsByEvtTypes,h=s.deriveEvt,f=s.isWindow;t.exports={always:function(t,n,e){return function(r){var s=c(t),p=h("always",e);return o(p,i(u.all(n),o(a(s),i(f,r))))}},sometimes:function(t,n,e){return function(r){var s=c(t),p=h("sometimes",e);return o(p,i(u.any(n),o(a(s),i(f,r))))}}}},function(t,n,e){var r=e(5),i=r.filter,o=r.map,u=e(4),s=e(6),c=s.predEvtTypeList,a=s.deriveEvt,h=s.isWindow,f=s.getProp,p=s.filterEvtsByEvtTypes,l=u.allPass([function(t){return!u.isEmpty(t)},function(t){return!u.isNil(t)}]);t.exports={nHighestValues:function(t,n,e,r){return function(s){var d=f(e),v=c(t),y=a("n highest values",r);return o(y,i(l,o(u.compose(u.takeLast(n),u.sortBy(d)),o(p(v),i(h,s)))))}},nLowestValues:function(t,n,e,r){return function(s){var d=f(e),v=c(t),y=a("n lowest values",r);return o(y,i(l,o(u.compose(u.take(n),u.sortBy(d)),o(p(v),i(h,s)))))}}}},function(t,n,e){var r=e(5),i=r.filter,o=r.map,u=e(4),s=e(6),c=s.predEvtTypeList,a=s.deriveEvt,h=s.isWindow,f=s.getProp,p=s.filterEvtsByEvtTypes,l=s.AccHelper,d=s.minFn,v=s.maxFn,y=u.construct(l);t.exports={count:function(t,n,e){return function(r){var s=c(t),f=a("count",e);return o(f,i(u.compose(n,u.length),o(p(s),i(h,r))))}},valueMax:function(t,n,e,r){return function(s){var l=u.compose(e,v,u.map(f(n))),d=c(t),m=a("value max",r);return o(u.compose(m,u.prop("set")),i(u.prop("result"),o(function(t){return y(l(t),t)},o(p(d),i(h,s)))))}},valueMin:function(t,n,e,r){return function(s){var l=u.compose(e,d,u.map(f(n))),v=c(t),m=a("value min",r);return o(u.compose(m,u.prop("set")),i(u.prop("result"),o(function(t){return y(l(t),t)},o(p(v),i(h,s)))))}},valueAvg:function(t,n,e,r){return function(s){var l=u.compose(e,u.mean,u.map(f(n))),d=c(t),v=a("value average",r);return o(u.compose(v,u.prop("set")),i(u.prop("result"),o(function(t){return y(l(t),t)},o(p(d),i(h,s)))))}}}},function(t,n,e){var r=e(5),i=r.filter,o=r.map,u=e(4),s=e(6),c=s.isWindow,a=s.predEvtTypeList,h=s.filterEvtsByEvtTypes,f=s.getProp,p=s.deriveEvt,l=s.AccHelper,d=e(10).getPropOrderPolicy,v=function t(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:void 0,e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2],i=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],o=!(arguments.length>4&&void 0!==arguments[4])||arguments[4];!function(t,n){if(!(t instanceof n))throw new TypeError("Cannot call a class as a function")}(this,t),this.previous=n,this.stable=e,this.increasing=r,this.decreasing=i,this.mixed=o},y=u.construct(l),m=function(t,n){return t?new v(n,!0,w(t,n)):new v(n)},g=function(t,n){return t?new v(n,!0,!0,M(t,n)):new v(n)},b=function(t,n,e){return t&&n==e},w=function(t,n,e){return t&&n<e},M=function(t,n,e){return t&&n>e},k=function(t){return!t.stable&&!t.increasing&&!t.decreasing};t.exports={increasing:function(t,n,e,r){return function(s){var l=a(t),v=f(n),g=d(e),b=p("increasing",r);return o(u.compose(b,u.prop("set")),i(u.path(["result","increasing"]),o(function(t){return y(u.reduce(function(t,n){return m(t,n)},null,t.map(v)),t)},o(function(t){return g?u.sortBy(g,t):t},o(h(l),i(c,s))))))}},decreasing:function(t,n,e,r){return function(s){var l=a(t),v=f(n),m=d(e),b=p("decreasing",r);return o(u.compose(b,u.prop("set")),i(u.path(["result","decreasing"]),o(function(t){return y(u.reduce(function(t,n){return g(t,n)},null,t.map(v)),t)},o(function(t){return m?u.sortBy(m,t):t},o(h(l),i(c,s))))))}},stable:function(t,n,e,r){return function(s){var l=a(t),m=f(n),g=d(e),w=p("stable",r);return o(u.compose(w,u.prop("set")),i(u.path(["result","stable"]),o(function(t){return y(u.reduce(function(t,n){return function(t,n){return t?new v(n,b(t,n)):new v(n)}(t,n)},null,t.map(m)),t)},o(function(t){return g?u.sortBy(g,t):t},o(h(l),i(c,s))))))}},nonIncreasing:function(t,n,e,r){return function(s){var l=a(t),v=f(n),g=d(e),b=p("non increasing",r);return o(u.compose(b,u.prop("set")),i(u.compose(u.not,u.path(["result","increasing"])),o(function(t){return y(u.reduce(function(t,n){return m(t,n)},null,t.map(v)),t)},o(function(t){return g?u.sortBy(g,t):t},o(h(l),i(c,s))))))}},nonDecreasing:function(t,n,e,r){return function(s){var l=a(t),v=f(n),m=d(e),b=p("non decreasing",r);return o(u.compose(b,u.prop("set")),i(u.compose(u.not,u.path(["result","decreasing"])),o(function(t){return y(u.reduce(function(t,n){return g(t,n)},null,t.map(v)),t)},o(function(t){return m?u.sortBy(m,t):t},o(h(l),i(c,s))))))}},mixed:function(t,n,e,r){return function(s){var l=a(t),m=f(n),g=d(e),_=p("mixed",r);return o(u.compose(_,u.prop("set")),i(u.path(["result","mixed"]),o(function(t){return y(u.reduce(function(t,n){return function(t,n){return t?new v(n,b(t,n),w(t,n),M(t,n),k(t)):new v(n)}(t,n)},null,t.map(m)),t)},o(function(t){return g?u.sortBy(g,t):t},o(h(l),i(c,s))))))}}}},function(t,n,e){var r=e(5),i=r.fromPromise,o=r.mergeArray,u=r.map,s=e(51).domEvent,c=e(52).fromEvent,a=e(14).fromArray,h=e(10).detcTimeLens,f=e(6),p=f.timer,l=f.interval,d=f.flatStream,v=e(4),y=e(20),m=e(8);var g=function(t,n,e){var r=e||Date.now();return new m(t,n,r,r)};t.exports={of:function(){var t=Array.prototype.slice.call(arguments),n=t[t.length-1],e=Date.now(),r=new m("of event","of operation",e,e);return new y(arguments.length>1&&"function"==typeof n?u(v.set(h,e),u(n,a(v.dropLast(1,t)))):u(function(t){return v.assoc("payload",t,r)},a(t)))},from:function(t,n){var e=Date.now(),r=new m("from event","from operation",e,e);return t=v.is(Array,t)?a(t):v.is(Promise,t)?i(t):a(Array.from(t)),new y("function"==typeof n?u(v.set(h,e),u(n,t)):u(function(t){return v.assoc("payload",t,r)},t))},fromEvent:function(t,n,e){var r,i=Date.now(),o=new m("fromEvent event","fromEvent operation",i,i);return r=t instanceof Element?s(n,t):c(n,t),new y("function"==typeof e?u(v.set(h,i),u(e,r)):u(function(t){return v.assoc("payload",t,o)},r))},interval:function(t,n){return new y("function"==typeof n?u(function(t){return g(t.eventTypeId,t.eventSource,t.occurrenceTime)},u(n,l(t))):u(function(t){return v.assoc("payload",t,g("interval event","interval operation"))},l(t)))},timer:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},e=n.period,r=n.adaptor;return new y("function"==typeof r?u(function(t){return g(t.eventTypeId,t.eventSource,t.occurrenceTime)},u(r,p(t,e))):u(function(t){return v.assoc("payload",t,g("timer event","timer operation"))},p(t,e)))},merge:function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];var r=n.map(function(t){return d(t)});return new y(o(r))}}},function(t,n,e){"use strict";e.r(n),e.d(n,"domEvent",function(){return i}),e.d(n,"blur",function(){return o}),e.d(n,"focus",function(){return u}),e.d(n,"focusin",function(){return s}),e.d(n,"focusout",function(){return c}),e.d(n,"click",function(){return a}),e.d(n,"dblclick",function(){return h}),e.d(n,"mousedown",function(){return f}),e.d(n,"mouseup",function(){return p}),e.d(n,"mousemove",function(){return l}),e.d(n,"mouseover",function(){return d}),e.d(n,"mouseenter",function(){return v}),e.d(n,"mouseout",function(){return y}),e.d(n,"mouseleave",function(){return m}),e.d(n,"change",function(){return g}),e.d(n,"select",function(){return b}),e.d(n,"submit",function(){return w}),e.d(n,"keydown",function(){return M}),e.d(n,"keypress",function(){return k}),e.d(n,"keyup",function(){return _}),e.d(n,"input",function(){return x}),e.d(n,"contextmenu",function(){return T}),e.d(n,"resize",function(){return j}),e.d(n,"scroll",function(){return O}),e.d(n,"error",function(){return E}),e.d(n,"hashchange",function(){return N}),e.d(n,"popstate",function(){return A}),e.d(n,"load",function(){return S}),e.d(n,"unload",function(){return R}),e.d(n,"pointerdown",function(){return I}),e.d(n,"pointerup",function(){return L}),e.d(n,"pointermove",function(){return P}),e.d(n,"pointerover",function(){return D}),e.d(n,"pointerenter",function(){return C}),e.d(n,"pointerout",function(){return q}),e.d(n,"pointerleave",function(){return B}),e.d(n,"touchstart",function(){return W}),e.d(n,"touchend",function(){return V}),e.d(n,"touchmove",function(){return F}),e.d(n,"touchcancel",function(){return z});var r=e(23),i=function(t,n,e){return void 0===e&&(e=!1),new U(t,n,e)},o=function(t,n){return void 0===n&&(n=!1),i("blur",t,n)},u=function(t,n){return void 0===n&&(n=!1),i("focus",t,n)},s=function(t,n){return void 0===n&&(n=!1),i("focusin",t,n)},c=function(t,n){return void 0===n&&(n=!1),i("focusout",t,n)},a=function(t,n){return void 0===n&&(n=!1),i("click",t,n)},h=function(t,n){return void 0===n&&(n=!1),i("dblclick",t,n)},f=function(t,n){return void 0===n&&(n=!1),i("mousedown",t,n)},p=function(t,n){return void 0===n&&(n=!1),i("mouseup",t,n)},l=function(t,n){return void 0===n&&(n=!1),i("mousemove",t,n)},d=function(t,n){return void 0===n&&(n=!1),i("mouseover",t,n)},v=function(t,n){return void 0===n&&(n=!1),i("mouseenter",t,n)},y=function(t,n){return void 0===n&&(n=!1),i("mouseout",t,n)},m=function(t,n){return void 0===n&&(n=!1),i("mouseleave",t,n)},g=function(t,n){return void 0===n&&(n=!1),i("change",t,n)},b=function(t,n){return void 0===n&&(n=!1),i("select",t,n)},w=function(t,n){return void 0===n&&(n=!1),i("submit",t,n)},M=function(t,n){return void 0===n&&(n=!1),i("keydown",t,n)},k=function(t,n){return void 0===n&&(n=!1),i("keypress",t,n)},_=function(t,n){return void 0===n&&(n=!1),i("keyup",t,n)},x=function(t,n){return void 0===n&&(n=!1),i("input",t,n)},T=function(t,n){return void 0===n&&(n=!1),i("contextmenu",t,n)},j=function(t,n){return void 0===n&&(n=!1),i("resize",t,n)},O=function(t,n){return void 0===n&&(n=!1),i("scroll",t,n)},E=function(t,n){return void 0===n&&(n=!1),i("error",t,n)},N=function(t,n){return void 0===n&&(n=!1),i("hashchange",t,n)},A=function(t,n){return void 0===n&&(n=!1),i("popstate",t,n)},S=function(t,n){return void 0===n&&(n=!1),i("load",t,n)},R=function(t,n){return void 0===n&&(n=!1),i("unload",t,n)},I=function(t,n){return void 0===n&&(n=!1),i("pointerdown",t,n)},L=function(t,n){return void 0===n&&(n=!1),i("pointerup",t,n)},P=function(t,n){return void 0===n&&(n=!1),i("pointermove",t,n)},D=function(t,n){return void 0===n&&(n=!1),i("pointerover",t,n)},C=function(t,n){return void 0===n&&(n=!1),i("pointerenter",t,n)},q=function(t,n){return void 0===n&&(n=!1),i("pointerout",t,n)},B=function(t,n){return void 0===n&&(n=!1),i("pointerleave",t,n)},W=function(t,n){return void 0===n&&(n=!1),i("touchstart",t,n)},V=function(t,n){return void 0===n&&(n=!1),i("touchend",t,n)},F=function(t,n){return void 0===n&&(n=!1),i("touchmove",t,n)},z=function(t,n){return void 0===n&&(n=!1),i("touchcancel",t,n)},U=function(t,n,e){this.event=t,this.node=n,this.capture=e};
/** @license MIT License (c) copyright 2015-2016 original author or authors */U.prototype.run=function(t,n){var e=this,i=function(e){return function(t,n,e){try{e.event(t,n)}catch(n){e.error(t,n)}}(Object(r.a)(n),e,t)};return this.node.addEventListener(this.event,i,this.capture),{dispose:function(){return e.node.removeEventListener(e.event,i,e.capture)}}}},function(t,n,e){"use strict";
/** @license MIT License (c) copyright 2018 original author or authors */Object.defineProperty(n,"__esModule",{value:!0});var r=e(2);n.fromEvent=function(t,n){return i(t,n,"addListener")};function i(t,n,e){return{run:function(i,u){return n[e](t,s),o(n,t,s);function s(t){!function(t,n,e){try{e.event(t,n)}catch(n){e.error(t,n)}}(r.currentTime(u),t,i)}}}}function o(t,n,e){return{dispose:function(){t.removeListener(n,e)}}}n.fromEventPrepended=function(t,n){return i(t,n,"prependListener")},n.ListenerDisposable=o}]);